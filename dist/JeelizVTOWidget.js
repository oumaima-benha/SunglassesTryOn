 /**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( https://webar.rocks )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

"use strict";var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.owns=function(ma,oa){return Object.prototype.hasOwnProperty.call(ma,oa)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(ma,oa,Aa){if(ma==Array.prototype||ma==Object.prototype)return ma;ma[oa]=Aa.value;return ma};
$jscomp.getGlobal=function(ma){ma=["object"==typeof globalThis&&globalThis,ma,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var oa=0;oa<ma.length;++oa){var Aa=ma[oa];if(Aa&&Aa.Math==Math)return Aa}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;
$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(ma,oa){var Aa=$jscomp.propertyToPolyfillSymbol[oa];if(null==Aa)return ma[oa];Aa=ma[Aa];return void 0!==Aa?Aa:ma[oa]};$jscomp.polyfill=function(ma,oa,Aa,Na){oa&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(ma,oa,Aa,Na):$jscomp.polyfillUnisolated(ma,oa,Aa,Na))};
$jscomp.polyfillUnisolated=function(ma,oa,Aa,Na){Aa=$jscomp.global;ma=ma.split(".");for(Na=0;Na<ma.length-1;Na++){var va=ma[Na];if(!(va in Aa))return;Aa=Aa[va]}ma=ma[ma.length-1];Na=Aa[ma];oa=oa(Na);oa!=Na&&null!=oa&&$jscomp.defineProperty(Aa,ma,{configurable:!0,writable:!0,value:oa})};
$jscomp.polyfillIsolated=function(ma,oa,Aa,Na){var va=ma.split(".");ma=1===va.length;Na=va[0];Na=!ma&&Na in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var wb=0;wb<va.length-1;wb++){var la=va[wb];if(!(la in Na))return;Na=Na[la]}va=va[va.length-1];Aa=$jscomp.IS_SYMBOL_NATIVE&&"es6"===Aa?Na[va]:null;oa=oa(Aa);null!=oa&&(ma?$jscomp.defineProperty($jscomp.polyfills,va,{configurable:!0,writable:!0,value:oa}):oa!==Aa&&($jscomp.propertyToPolyfillSymbol[va]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(va):
$jscomp.POLYFILL_PREFIX+va,va=$jscomp.propertyToPolyfillSymbol[va],$jscomp.defineProperty(Na,va,{configurable:!0,writable:!0,value:oa})))};$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(ma,oa){for(var Aa=1;Aa<arguments.length;Aa++){var Na=arguments[Aa];if(Na)for(var va in Na)$jscomp.owns(Na,va)&&(ma[va]=Na[va])}return ma};$jscomp.polyfill("Object.assign",function(ma){return ma||$jscomp.assign},"es6","es3");
$jscomp.arrayIteratorImpl=function(ma){var oa=0;return function(){return oa<ma.length?{done:!1,value:ma[oa++]}:{done:!0}}};$jscomp.arrayIterator=function(ma){return{next:$jscomp.arrayIteratorImpl(ma)}};$jscomp.makeIterator=function(ma){var oa="undefined"!=typeof Symbol&&Symbol.iterator&&ma[Symbol.iterator];return oa?oa.call(ma):$jscomp.arrayIterator(ma)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(ma){function oa(){this.batch_=null}function Aa(la){return la instanceof va?la:new va(function(Ca,Oa){Ca(la)})}if(ma&&!$jscomp.FORCE_POLYFILL_PROMISE)return ma;oa.prototype.asyncExecute=function(la){if(null==this.batch_){this.batch_=[];var Ca=this;this.asyncExecuteFunction(function(){Ca.executeBatch_()})}this.batch_.push(la)};var Na=$jscomp.global.setTimeout;oa.prototype.asyncExecuteFunction=function(la){Na(la,0)};oa.prototype.executeBatch_=function(){for(;this.batch_&&
this.batch_.length;){var la=this.batch_;this.batch_=[];for(var Ca=0;Ca<la.length;++Ca){var Oa=la[Ca];la[Ca]=null;try{Oa()}catch(Za){this.asyncThrow_(Za)}}}this.batch_=null};oa.prototype.asyncThrow_=function(la){this.asyncExecuteFunction(function(){throw la;})};var va=function(la){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var Ca=this.createResolveAndReject_();try{la(Ca.resolve,Ca.reject)}catch(Oa){Ca.reject(Oa)}};va.prototype.createResolveAndReject_=function(){function la(Za){return function(hb){Oa||
(Oa=!0,Za.call(Ca,hb))}}var Ca=this,Oa=!1;return{resolve:la(this.resolveTo_),reject:la(this.reject_)}};va.prototype.resolveTo_=function(la){if(la===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(la instanceof va)this.settleSameAsPromise_(la);else{a:switch(typeof la){case "object":var Ca=null!=la;break a;case "function":Ca=!0;break a;default:Ca=!1}Ca?this.resolveToNonPromiseObj_(la):this.fulfill_(la)}};va.prototype.resolveToNonPromiseObj_=function(la){var Ca=void 0;
try{Ca=la.then}catch(Oa){this.reject_(Oa);return}"function"==typeof Ca?this.settleSameAsThenable_(Ca,la):this.fulfill_(la)};va.prototype.reject_=function(la){this.settle_(2,la)};va.prototype.fulfill_=function(la){this.settle_(1,la)};va.prototype.settle_=function(la,Ca){if(0!=this.state_)throw Error("Cannot settle("+la+", "+Ca+"): Promise already settled in state"+this.state_);this.state_=la;this.result_=Ca;this.executeOnSettledCallbacks_()};va.prototype.executeOnSettledCallbacks_=function(){if(null!=
this.onSettledCallbacks_){for(var la=0;la<this.onSettledCallbacks_.length;++la)wb.asyncExecute(this.onSettledCallbacks_[la]);this.onSettledCallbacks_=null}};var wb=new oa;va.prototype.settleSameAsPromise_=function(la){var Ca=this.createResolveAndReject_();la.callWhenSettled_(Ca.resolve,Ca.reject)};va.prototype.settleSameAsThenable_=function(la,Ca){var Oa=this.createResolveAndReject_();try{la.call(Ca,Oa.resolve,Oa.reject)}catch(Za){Oa.reject(Za)}};va.prototype.then=function(la,Ca){function Oa(nb,sb){return"function"==
typeof nb?function(Rb){try{Za(nb(Rb))}catch(Hb){hb(Hb)}}:sb}var Za,hb,Db=new va(function(nb,sb){Za=nb;hb=sb});this.callWhenSettled_(Oa(la,Za),Oa(Ca,hb));return Db};va.prototype.catch=function(la){return this.then(void 0,la)};va.prototype.callWhenSettled_=function(la,Ca){function Oa(){switch(Za.state_){case 1:la(Za.result_);break;case 2:Ca(Za.result_);break;default:throw Error("Unexpected state: "+Za.state_);}}var Za=this;null==this.onSettledCallbacks_?wb.asyncExecute(Oa):this.onSettledCallbacks_.push(Oa)};
va.resolve=Aa;va.reject=function(la){return new va(function(Ca,Oa){Oa(la)})};va.race=function(la){return new va(function(Ca,Oa){for(var Za=$jscomp.makeIterator(la),hb=Za.next();!hb.done;hb=Za.next())Aa(hb.value).callWhenSettled_(Ca,Oa)})};va.all=function(la){var Ca=$jscomp.makeIterator(la),Oa=Ca.next();return Oa.done?Aa([]):new va(function(Za,hb){function Db(Rb){return function(Hb){nb[Rb]=Hb;sb--;0==sb&&Za(nb)}}var nb=[],sb=0;do nb.push(void 0),sb++,Aa(Oa.value).callWhenSettled_(Db(nb.length-1),hb),
Oa=Ca.next();while(!Oa.done)})};return va},"es6","es3");$jscomp.polyfill("Math.log2",function(ma){return ma?ma:function(oa){return Math.log(oa)/Math.LN2}},"es6","es3");$jscomp.polyfill("Promise.prototype.finally",function(ma){return ma?ma:function(oa){return this.then(function(Aa){return Promise.resolve(oa()).then(function(){return Aa})},function(Aa){return Promise.resolve(oa()).then(function(){throw Aa;})})}},"es9","es3");
$jscomp.polyfill("Math.sign",function(ma){return ma?ma:function(oa){oa=Number(oa);return 0===oa||isNaN(oa)?oa:0<oa?1:-1}},"es6","es3");
var JeelizVTOWidget=function(){function ma(){Ta.mode=ib.realtime;Ta.isRT=!0;pa.adjust=document.getElementById("JeelizVTOWidgetAdjust");if(pa.adjust){pa.adjustNotice=document.getElementById("JeelizVTOWidgetAdjustNotice");pa.adjustExit=document.getElementById("JeelizVTOWidgetAdjustExit");pa.changeModelContainer=document.getElementById("JeelizVTOWidgetChangeModelContainer");pa.buttonResizeCanvas=document.getElementById("buttonResizeCanvas");var T=pa.adjust;T&&T.addEventListener("click",nb,!1);(T=pa.adjustExit)&&
T.addEventListener("click",sb,!1);[pa.adjust,pa.changeModelContainer,pa.buttonResizeCanvas].forEach(Aa)}Ib.enabled&&Wa.do_instantDetection(Ib.interval,Ib.callback);Sb&&(Sb(!0),Sb=null)}function oa(){var T=document.createElement("style");T.setAttribute("type","text/css");T.innerHTML="._jeelizVTOForceHide { display: none!important }._jeelizVTOForceShow { display: revert!important }";var ya=document.getElementsByTagName("head");1<=ya.length?ya[0].appendChild(T):document.body.appendChild(T)}function Aa(T){T&&
(T.classList.remove("_jeelizVTOForceHide"),"none"===window.getComputedStyle(T).display&&T.classList.add("_jeelizVTOForceShow"))}function Na(T){T&&(T.classList.add("_jeelizVTOForceHide"),T.classList.remove("_jeelizVTOForceShow"))}function va(T,ya){if(T)for(var Pa in ya)T.style[Pa]=ya[Pa]}function wb(T){if(T)return T.clientWidth}function la(T){if(T)return T.clientHeight}function Ca(T){return new Promise(function(ya,Pa){var Ka=new XMLHttpRequest;Ka.open("GET",T,!0);Ka.onreadystatechange=function(){if(4===
Ka.readyState)if(200===Ka.status||0===Ka.status)try{var jb=JSON.parse(Ka.responseText);ya(jb)}catch(Xa){Pa("INVALID JSON")}else Pa("HTTP ERROR "+Ka.status)};Ka.send()})}function Oa(T){Ta.isRT=!1;hb(T||"NO_ERROR_LABEL")}function Za(){hb("INVALID_SKU")}function hb(T){pc.error?pc.error(T):console.log("ERROR:",T)}function Db(){cc=wb(pa.container);dc=la(pa.container);console.log("INFO in JeelizVTOWidget.resize: _width ="+cc.toString()+" _height ="+dc.toString()+" oFactor = "+(1).toString());ec=Math.round(1*
cc);fc=Math.round(1*dc);va(pa.cv,{width:cc.toString()+"px",height:dc.toString()+"px"});pa.cv.width=ec;pa.cv.height=fc;Wa&&(Ta.mode===ib.notLoaded?Wa.set_size(ec,fc,!1):Wa.resize(ec,fc,!1))}function nb(){[pa.adjust,pa.changeModelContainer,pa.buttonResizeCanvas].forEach(Na);Ta.mode=ib.adjust;[pa.adjustNotice,pa.adjustExit].forEach(Aa);pa.cv.style.cursor="move";Wa.switch_modeInteractor("movePinch");gc("ADJUST_START")}function sb(){[pa.adjustNotice,pa.adjustExit].forEach(Na);[pa.adjust,pa.changeModelContainer,
pa.buttonResizeCanvas].forEach(Aa);pa.cv.style.cursor="auto";Ta.mode=Ta.realtime;Wa.switch_modeInteractor("idle");gc("ADJUST_END")}function Rb(){if(!pa.trackIframe){var T=hc.appstaticURL+"jeewidget/";pa.trackIframe=document.createElement("iframe");pa.trackIframe.width="10";pa.trackIframe.height="10";pa.trackIframe.src=T+"trackIframe.html";va(pa.trackIframe,{position:"absolute",zIndex:-1,bottom:"0px",right:"0px"});pa.container.appendChild(pa.trackIframe)}}function Hb(T,ya,Pa){Wa.load_model(ya.mod+
".json",ya.mats,function(){Ta.mode=ib.realtime;Pa&&Pa();qb.toggle_loading(!1);if(pa.trackIframe){var Ka=location.href.split("?").shift().split("://").pop();Ka=Ka.split("/").shift();Ka=Ka.split("www.").pop();try{pa.trackIframe.contentWindow.postMessage({action:"COUNTTRYONSESSION",domain:Ka,sku:T},"*")}catch(jb){}}},T)}function gc(T){(T=zc[T])&&T()}var Wa=function(){function T(a,b){return a[0]*(1-b)+a[1]*b}function ya(a,b){var e=new XMLHttpRequest;e.open("GET",a,!0);e.withCredentials=!1;e.onreadystatechange=
function(){4!==e.readyState||200!==e.status&&0!==e.status||b(e.responseText)};e.send()}function Pa(a,b){if(0===b||"object"!==typeof a)return a;a=Object.assign({},a);b=void 0===b||-1===b?-1:b-1;for(var e in a)a[e]=Pa(a[e],b);return a}function Ka(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1}function jb(a){switch(a){case "relu":return"gl_FragColor=max(vec4(0.,0.,0.,0.),gl_FragColor);";case "elu":return"gl_FragColor=mix(exp(-abs(gl_FragColor))-vec4(1.,1.,1.,1.),gl_FragColor,step(0.,gl_FragColor));";
case "elu01":return"gl_FragColor=mix(0.1*exp(-abs(gl_FragColor))-vec4(0.1,0.1,0.1,0.1),gl_FragColor,step(0.,gl_FragColor));";case "arctan":return"gl_FragColor=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";case "copy":return"";default:return!1}}function Xa(a,b){var e=b%8;return a[(b-e)/8]>>7-e&1}function Ab(a,b,e){var d=1,n=0;for(e=b+e-1;e>=b;--e)n+=d*Xa(a,e),d*=2;return n}function Ga(a){a="undefined"===typeof btoa?Buffer.from(a.data,"base64").toString("latin1"):atob(a.data);for(var b=a.length,
e=new Uint8Array(b),d=0;d<b;++d)e[d]=a.charCodeAt(d);return e}function cb(a){var b=JSON.parse(a);a=b.nb;var e=b.n;b=Ga(b);for(var d=new Uint32Array(e),n=0;n<e;++n)d[n]=Ab(b,n*a,a);return d}function kb(a){var b=JSON.parse(a);a=b.ne;var e=b.nf,d=b.n;b=Ga(b);for(var n=new Float32Array(d),m=new Float32Array(e),C=a+e+1,k=0;k<d;++k){var t=C*k,p=0===Xa(b,t)?1:-1,F=Ab(b,t+1,a);t=t+1+a;for(var I=m.length,u=0,x=t;x<t+I;++x)m[u]=Xa(b,x),++u;for(I=t=0;I<e;++I)t+=m[I]*Math.pow(2,-I-1);n[k]=0===t&&0===F?0:p*(1+
t)*Math.pow(2,1+F-Math.pow(2,a-1))}return n}function Bb(a){var b=null,e=null,d=null,n=0;this.m=function(m){this.Fn(m.xd);d.Kk({Tf:m.Tf,Qf:m.Qf})};this.Cl=function(m){return b[m]};this.Fn=function(m){var C=null;n=m.length;b=m.map(function(k,t){k=Object.assign({},k,{index:t,parent:this,Id:C,jm:t===n-1});return C=0===t?Oc.instance(k):Pc.instance(k)});e=b[0];d=b[n-1];b.forEach(function(k,t){0!==t&&k.Tm()})};this.Aa=function(m){m.g(0);var C=m;b.forEach(function(k){C=k.Aa(C,!1)});return C};this.Bl=function(){return e.L()};
this.Ze=function(){return d.Fl()};this.xh=function(){return d.xh()};this.v=function(){b&&(b.forEach(function(m){m.v()}),d=e=b=null,n=0)};"undefined"!==typeof a&&this.m(a)}function ob(a,b){a[b]=!0;a.setAttribute(b,"true")}function Tb(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function Ub(){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return a&&a.length&&2<a.length?[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]:[0,0,0]}function Jb(){var a=navigator.userAgent.toLowerCase();
return-1!==a.indexOf("safari")&&-1===a.indexOf("chrome")?!0:!1}function Kb(a){if(!a)return a;var b=null;if(a.video){var e=function(d){return d&&"object"===typeof d?Object.assign({},d):d};b={};"undefined"!==typeof a.video.width&&(b.width=e(a.video.width));"undefined"!==typeof a.video.height&&(b.height=e(a.video.height));"undefined"!==typeof a.video.facingMode&&(b.facingMode=e(a.video.facingMode))}b={audio:a.audio,video:b};"undefined"!==typeof a.deviceId&&Vb(b,a.deviceId);return b}function Vb(a,b){b&&
(a.video=a.video||{},a.video.deviceId={exact:b},a.video.facingMode&&delete a.video.facingMode)}function Wb(a){var b=a.video.width;a.video.width=a.video.height;a.video.height=b;return a}function ic(a){function b(u){return[480,576,640,648,720,768,800,960,1080,1152,1280,1366,1920].sort(function(x,D){return Math.abs(x-u)-Math.abs(D-u)})}function e(u){var x=Kb(a);u=u(x);n.push(u);d(u)}function d(u){if(u.video&&u.video.facingMode&&u.video.facingMode.exact){var x=u.video.facingMode.exact;u=Kb(u);delete u.video.facingMode.exact;
u.video.facingMode.ideal=x;n.push(u)}}var n=[];if(!a||!a.video)return n;d(a);if(a.video.width&&a.video.height){if(a.video.width.ideal&&a.video.height.ideal){var m=b(a.video.width.ideal).slice(0,3),C=b(a.video.height.ideal).slice(0,3),k={},t=0;for(k.ib=void 0;t<m.length;k={ib:k.ib},++t){k.ib=m[t];var p={},F=0;for(p.hb=void 0;F<C.length;p={hb:p.hb},++F)if(p.hb=C[F],k.ib!==a.video.width.ideal||p.hb!==a.video.height.ideal){var I=Math.max(k.ib,p.hb)/Math.min(k.ib,p.hb);I<4/3-.1||I>16/9+.1||e(function(u,
x){return function(D){D.video.width.ideal=u.ib;D.video.height.ideal=x.hb;return D}}(k,p))}}}e(function(u){return Wb(u)})}a.video.width&&a.video.height&&(a.video.width.ideal&&a.video.height.ideal&&e(function(u){delete u.video.width.ideal;delete u.video.height.ideal;return u}),e(function(u){delete u.video.width;delete u.video.height;return u}));a.video.facingMode&&(e(function(u){delete u.video.facingMode;return u}),a.video.width&&a.video.height&&e(function(u){Wb(u);delete u.video.facingMode;return u}));
n.push({audio:a.audio,video:!0});return n}function qc(a){try{var b=window.matchMedia("(orientation: portrait)").matches?!0:!1}catch(d){b=window.innerHeight>window.innerWidth}if(b&&a&&a.video){b=a.video.width;var e=a.video.height;b&&e&&b.ideal&&e.ideal&&b.ideal>e.ideal&&(a.video.height=b,a.video.width=e)}}function Eb(a){a.volume=0;ob(a,"muted");if(Jb()){if(1===a.volume){var b=function(){a.volume=0;window.removeEventListener("mousemove",b,!1);window.removeEventListener("touchstart",b,!1)};window.addEventListener("mousemove",
b,!1);window.addEventListener("touchstart",b,!1)}setTimeout(function(){a.volume=0;ob(a,"muted")},5)}}function Xb(a){var b=Ea.element,e=Ea.ah;return null===b?Promise.resolve():new Promise(function(d,n){if(b.srcObject&&b.srcObject.getVideoTracks){var m=b.srcObject.getVideoTracks();1!==m.length?n("INVALID_TRACKNUMBER"):(m=m[0],a?Yb(b,d,n,e):(m.stop(),d()))}else n("BAD_IMPLEMENTATION")})}function Zb(a,b,e,d){function n(C){m||(m=!0,e(C))}var m=!1;navigator.mediaDevices.getUserMedia(d).then(function(C){function k(){setTimeout(function(){if(a.currentTime){var p=
a.videoWidth,F=a.videoHeight;if(0===p||0===F)n("VIDEO_NULLSIZE");else{p&&(a.style.width=p.toString()+"px");F&&(a.style.height=F.toString()+"px");p={Gk:null,lg:null,Fm:null};try{var I=C.getVideoTracks()[0];I&&(p.Fm=I,p.Gk=I.getCapabilities(),p.lg=I.getSettings())}catch(u){}Jb()||Tb()?a.parentNode&&null!==a.parentNode?(m||b(a,C,p),setTimeout(function(){a.play()},100)):(document.body.appendChild(a),Eb(a),m||b(a,C,p),setTimeout(function(){a.style.transform="scale(0.0001,0.0001)";a.style.position="fixed";
a.style.bottom="0px";a.style.right="0px";Eb(a);setTimeout(function(){a.play()},100)},80)):m||b(a,C,p)}}else n("VIDEO_NOTSTARTED")},700)}function t(){a.removeEventListener("loadeddata",t,!1);var p=a.play();Eb(a);"undefined"===typeof p?k():p.then(function(){k()}).catch(function(){n("VIDEO_PLAYPROMISEREJECTED")})}"undefined"!==typeof a.srcObject?a.srcObject=C:(a.src=window.URL.createObjectURL(C),a.videoStream=C);Eb(a);a.addEventListener("loadeddata",t,!1)}).catch(function(C){n(C)})}function Yb(a,b,e,
d){if(a)if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){if(d&&d.video){if(Tb()){var n=Ub();0!==n[0]&&(12>n[0]||12===n[0]&&2>n[1])&&qc(d)}d.video.width&&d.video.width.ideal&&(a.style.width=d.video.width.ideal+"px");d.video.height&&d.video.height.ideal&&(a.style.height=d.video.height.ideal+"px")}ob(a,"autoplay");ob(a,"playsinline");d&&d.audio?a.volume=0:ob(a,"muted");Zb(a,b,function(){function m(k){if(0===k.length)e("INVALID_FALLBACKCONSTRAINTS");else{var t=k.shift();Zb(a,b,function(){m(k)},
t)}}var C=ic(d);m(C)},d)}else e&&e("MEDIASTREAMAPI_NOTFOUND");else e&&e("VIDEO_NOTPROVIDED")}function Qc(a){navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(function(b){(b=b.filter(function(e){return e.kind&&-1!==e.kind.toLowerCase().indexOf("video")&&e.label&&e.deviceId}))&&b.length&&0<b.length?a(b,!1):a(!1,"NODEVICESFOUND")}).catch(function(){a(!1,"PROMISEREJECTED")}):a(!1,"NOTSUPPORTED")}function Rc(){function a(){var P=jc.Re;Lb=P*J.width;
Mb=P*J.height}function b(){++Z;2===Z&&(t(),u(),x(),Da.jj(),Da.sn(),R.Sc.forEach(function(P){P()}),R.Sc.splice(0),S.model&&!R.isBusy&&Da.fi(S.model))}function e(){xb.reset();tb.stop();m(0)}function d(P){db&&(ra.fn(db),db.remove());ra.Oj(P);db=P}function n(P){r=P;tb.update({ma:r})}function m(P){B=-1;ua?B=Qa:Fa.isEnabled?B=Fa.oi:X?(k(),B=M===v.W?xb.T():1):(B=J.Qc[0],k());wa.ha();for(var Y=0;Y<B;++Y)ba.set("s55"),q.rf.M(),q.yb.g(0),G.Fc.g(1),V.l(!1,!1),K.Aa(q.rf);ua?(Ma(),ua=!1,c.flush(),tb.Zf(m)):(ra.animate(P),
q.Wf&&H-Q.ci>Q.kj&&J.Xb&&M===v.W&&(wa.ha(),Q.ci=H,Q.Gd.M(),ba.set("s63"),q.Wf.g(0),V.l(!1,!1),sa.jb.xj(Ea.ka,Q.Gd,Q.Rd),wa.$()),Fa.isEnabled||(X&&(xb.oj(),Y=xb.yh(1),A=T(J.Qj,Y),J.Xb&&M===v.W&&(Q.kj=T(J.ei,Y),Q.Rd=T(J.xm,Y),Q.Rd=Math.min(Q.Rd,.5))),H=P,M!==v.Ca&&tb.Zf(m)))}function C(){H=rc.We();X=!0}function k(){var P=Ea.element.currentTime-$b;0>P&&($b=Ea.element.currentTime);1E3*P<J.to||(Ea.ka.refresh(),$b+=P,Ea.fd=P,N=!0,wa.ha(),ba.set("s0"),G.Ci.M(),G.Fc.uk(0),V.l(!1,!0),ba.set("s53"),q.yb.M(),
Ea.ka.g(0),V.l(!1,!1),null!==q.Ab&&(ba.set("s54"),q.Pc.o(),q.yb.g(0),q.Ab.g(1),V.l(!1,!1)))}function t(){q.zj=W.instance({isPot:!0,isLinear:!0,isFloat:!1,url:J.aa+J.xa+J.uo});var P={isPot:!1,isLinear:!0,isFloat:!1,width:Lb,height:Mb};q.yb=W.instance(P);q.Pc=W.instance(P);y.lj.push(q.yb,q.Pc);q.rf=W.instance({isPot:!0,isFloat:!1,width:K.Bl()});J.zd&&(ka=W.instance({isPot:!1,isFloat:!1,isLinear:!0,url:(J.Gf||-1!==J.Ff.indexOf("//")?"":J.aa+J.xa)+J.Ff}))}function p(){function P(){return{width:3,height:1,
isFloat:!0,isPot:!1,array:new Float32Array([0,.5,.5,0,0,0,0,0,0,0,0,0])}}var Y={width:3,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0])};G.Fc=Ac.instance(P());G.Ci=W.instance(P());G.Nc=W.instance(P());G.Fd=Ac.instance(P());G.Le=W.instance(Y);Y={width:2,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0,0,0,0,0])};G.Eg=W.instance(Y);G.ce=W.instance(Y);Q.Gd=W.instance({width:1,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0])})}function F(P){q.Wf=
P;if(N){N=!1;ba.set("s61");G.Eg.M();G.ce.g(2);var Y=T(J.wk,xb.yh(.5));ba.G("u61",Y);G.Ci.g(1);ba.G("u62",1E3*Ea.fd);V.l(!1,!1);ba.set("s62");G.ce.o();G.Eg.g(0);V.l(!1,!1)}P.g(0);G.Fc.Ui(1);c.viewport(0,0,1,1);ba.set("s56");ba.jg("u43",Bc.get(0));V.l(!1,!1);ba.set("s57");c.viewport(1,0,2,1);V.l(!1,!1);G.Le.M();ba.set("s58");ba.N("u54",J.qe[0]*A,J.qe[1]);G.Fc.g(0);G.Fd.g(1);V.l(!1,!1);ba.set("s59");G.Fd.Ui(1);G.Le.g(0);G.ce.g(2);G.Fc.g(3);V.l(!1,!1);ba.set("s60");G.Fd.g(0);G.Nc.o();V.l(!1,!1)}function I(){var P=
J.aa,Y=J.je.split("://").shift();if("http"===Y||"https"===Y)P="";P+=J.je;"json"!==P.split(".").pop()&&(P+=J.neuralNetworkPath);ya(P,function(ja){ja=JSON.parse(ja);if(ja.exportData){var Ba=ja.exportData;z.Ya=z.Ya||Ba.rotationEulerAnglesFactors;z.vc=z.vc||Ba.deformScaleXFactor;z.ta=z.ta||Ba.translationScalingFactors}K=new Bb({xd:ja.layers,Tf:"gpuRawAvg",Qf:F});b()})}function u(){a();D.Ib[0]=1;D.Ib[1]=Lb/Mb;Bc.m({Ed:J.scanOverlapFactors,ni:J.scanNScaleLevels,wa:Lb,kf:Mb,Li:J.scanScale0Factor,ta:z.ta,
Mi:!0});fa=J.width>J.height?[J.width/J.height,1]:[1,J.height/J.width];y.La=!0}function x(){ba.j("s55",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u39",value:1},{type:"2f",name:"u40",value:D.Ib},{type:"1f",name:"u41",value:z.vc}]);ba.j("s56",[{type:"1i",name:"u42",value:0},{type:"1i",name:"u39",value:1},{type:"1f",name:"u47",value:J.bo},{type:"1f",name:"u48",value:J.Sk},{type:"3f",name:"u44",value:[z.ta[0]*D.Ib[0],z.ta[1]*D.Ib[1],z.ta[2]]},{type:"3f",name:"u45",value:[J.kc[0][0],J.kc[1][0],J.kc[2][0]]},
{type:"3f",name:"u46",value:[J.kc[0][1],J.kc[1][1],J.kc[2][1]]}]);ba.j("s57",[{type:"1i",name:"u42",value:0},{type:"1i",name:"u39",value:1},{type:"2f",name:"u51",value:J.Wm},{type:"3f",name:"u49",value:z.Ya},{type:"3f",name:"u50",value:J.nj},{type:"1f",name:"u52",value:J.ol}]);ba.j("s58",[{type:"1i",name:"u39",value:0},{type:"1i",name:"u53",value:1},{type:"2f",name:"u54",value:J.qe},{type:"1f",name:"u55",value:J.ln},{type:"1f",name:"u56",value:J.Vm}]);ba.j("s59",[{type:"1i",name:"u53",value:1},{type:"1i",
name:"u57",value:0},{type:"1i",name:"u58",value:2},{type:"1i",name:"u59",value:3}]);ba.j("s60",[{type:"1i",name:"u39",value:0},{type:"1f",name:"u60",value:J.on}]);ba.j("s61",[{type:"1i",name:"u42",value:0},{type:"1i",name:"u39",value:1},{type:"1i",name:"u58",value:2},{type:"3f",name:"u49",value:z.Ya},{type:"3f",name:"u50",value:J.nj}]);ba.j("s62",[{type:"1i",name:"u58",value:0},{type:"2f",name:"u64",value:J.co},{type:"2f",name:"u65",value:J.mn}]);ba.j("s63",[{type:"1i",name:"u42",value:0}]);ba.j("s54",
[{type:"1i",name:"u1",value:0},{type:"1i",name:"u66",value:1}])}var D={Ib:[-1,-1]},g=null,f=[.5,0,0,.5],y={eb:null,Tb:!1,La:!1,lj:[]},L=[0,J.Fa[1],J.Fa[2]],z={Ya:[-J.Ya[0],-J.Ya[1],J.Ya[2]],vc:J.vc,ta:J.ta},r=J.ma,h=null,K=null;a();var O=[0,0,0],w=1,l=0,q={yb:null,Pc:null,rf:null,zj:null,Wf:null,Ab:null},G={raw:null,Kp:null,Nc:null,Fd:null,Le:null,Eg:null,ce:null},H=0,N=!1,Q={fb:null,zb:null,Lf:null,ci:0,kj:J.ei[1],Rd:.1,Gd:null},Z=0,ia=!1,X=!0,A=1,B=-1,v={Ca:-1,W:0,Ha:1,ic:2,jc:3},M=v.W,da=null,
ha=v.W,na=!1,ua=!1,Qa=1,Ma=!1,Fa={isEnabled:!1,Je:null,Xa:null,oi:0},ka=null,fa=-1,U=!1,ea=!1,xa=!1,La=[0,0,0],Ia=1,ub,Cb,$a,ta={Fa:[0,0,0],ub:1,rx:0,za:0,ra:0,oa:J.oa},Ya=[0,0,0],Ra={scale:1,offsetX:0,offsetY:0},$b=0,Da={m:function(){ba.pe([{id:"s53",name:"_",s:"attribute vec2 a0;uniform mat2 u38;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=vec2(.5,.5)+u38*a0;}",H:["a0"],P:[2],h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1","u38"],precision:"lowp"},
{id:"s55",name:"_",h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",s:"attribute vec2 a0;uniform sampler2D u39;uniform vec2 u40;uniform float u41;const vec2 f=vec2(.16,.5),g=vec2(.5,.5),h=vec2(.84,.5),p=vec2(.5,.5);varying vec2 vv0;void main(){vec4 a=texture2D(u39,f);vec2 j=a.gb,b=a.a*u40;vec4 k=texture2D(u39,g);float l=k.y;vec2 m=vec2(mix(1.,1./cos(l),u41),1.);b*=m;vec2 n=a0*.5;float c=texture2D(u39,h).r,d=cos(c),e=sin(c);vec2 o=mat2(d,e,-e,d)*n;vv0=j+o*b,gl_Position=vec4(a0,0.,1.);}",
H:["a0"],P:[2],i:["u1","u39","u40","u41"],precision:"lowp"},{id:"s56",name:"_",s:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",h:"uniform sampler2D u42,u39;uniform vec3 u43,u44,u45,u46;uniform float u47,u48;const vec4 e=vec4(.25,.25,.25,.25);const vec2 f=vec2(.16,.5),g=vec2(.5,.5),h=vec2(.83,.5);const vec3 i=vec3(1.,1.,1.);void main(){vec4 j=texture2D(u42,vec2(.625,.625)),k=texture2D(u42,vec2(.875,.625));float l=dot(j-k,e);bool m=l>u48;vec4 a=texture2D(u39,f);m?a.r=2.:a.r>u47?a.r=0.:a.r>1.9?a.r+=1.:0.;if(a.r<.9)a=vec4(1.,u43);else{float n=dot(e,texture2D(u42,vec2(.875,.875))),o=dot(e,texture2D(u42,vec2(.125,.625))),p=dot(e,texture2D(u42,vec2(.375,.625))),b=texture2D(u39,h).r,c=cos(b),d=sin(b);vec2 q=mat2(c,d,-d,c)*vec2(n,o);float r=texture2D(u39,g).a;vec3 s=mix(u45,u46,r*i);a.r*=step(1.9,a.r),a.gba+=vec3(q,p)*u44*s*a.a;}gl_FragColor=a;}",
i:"u42 u39 u43 u47 u44 u48 u45 u46".split(" ")},{id:"s57",name:"_",h:"uniform sampler2D u42,u39;uniform vec3 u49,u50;uniform vec2 u51;uniform float u52;const vec4 v=vec4(1.,1.,1.,1.),f=vec4(0.,0.,0.,0.),e=vec4(.25,.25,.25,.25);const vec2 g=vec2(.16,.5),h=vec2(.5,.5),i=vec2(.84,.5);varying vec2 vv0;void main(){float k=step(vv0.x,.5);vec4 l=texture2D(u39,g);if(l.r<1.9){gl_FragColor=f;return;}float m=dot(texture2D(u42,vec2(.125,.125)),e),a=smoothstep(u51.x,u51.y,m);vec4 n=texture2D(u39,h);float o=n.a;a=mix(a,o,.3);float p=dot(e,texture2D(u42,vec2(.125,.875))),q=dot(e,texture2D(u42,vec2(.375,.875))),r=dot(e,texture2D(u42,vec2(.625,.875)));vec3 s=vec3(p,q,r),b=u50+s*u49;float c=texture2D(u39,i).r,d=b.z*u52;c+=d,b.z-=d;vec4 t=vec4(b,a),u=vec4(c,0.,0.,0.);gl_FragColor=mix(u,t,k);}",
i:"u42 u39 u51 u49 u50 u52".split(" ")},{id:"s58",name:"_",h:"uniform sampler2D u39,u53;uniform vec2 u54;uniform float u55,u56;const vec4 f=vec4(1.,1.,1.,1.),h=vec4(1.,0.,0.,0.),i=vec4(0.,0.,0.,1.);const vec2 g=vec2(.5,.5);varying vec2 vv0;void main(){vec4 c=texture2D(u39,vv0),d=texture2D(u53,vv0),o=texture2D(u39,g),j=texture2D(u53,g);float k=pow(j.a,u56),l=mix(u54.x,u54.y,1.-k),a=step(.34,vv0.x)*step(vv0.x,.66);vec4 m=mix(h,i,a),b=max(l*f,m);b*=mix(f,u55*vec4(1.,1.,1.,0.)+vec4(0.,0.,0.,1.),a);vec4 n=c-d;gl_FragColor=n*b;}",
i:["u39","u53","u54","u55","u56"],precision:"highp"},{id:"s59",name:"_",h:"uniform sampler2D u53,u57,u58,u59;const vec4 k=vec4(1.,1.,1.,1.);const vec2 f=vec2(.25,.5),g=vec2(.75,.5),h=vec2(.5,.5);varying vec2 vv0;void main(){float c=step(.33,vv0.x)*step(vv0.x,.66),l=step(.66,vv0.x);vec4 d=texture2D(u59,h);float a=d.a;a*=texture2D(u58,f).a,a*=texture2D(u58,g).a;vec4 i=texture2D(u53,vv0),j=texture2D(u57,vv0),b=i+j;b.a=mix(b.a,a,c),gl_FragColor=b;}",i:["u53","u57","u58","u59"],precision:"highp"},{id:"s60",
name:"_",h:"uniform sampler2D u39;uniform float u60;const vec4 g=vec4(1.,1.,1.,1.);const vec2 f=vec2(.5,.5);varying vec2 vv0;void main(){vec4 a=texture2D(u39,vv0);float b=step(vv0.x,.33),c=texture2D(u39,f).g;a.a+=b*a.a*u60*abs(sin(c)),gl_FragColor=a;}",i:["u39","u60"],precision:"highp"},{id:"s61",name:"_",h:"uniform sampler2D u39,u58,u42;uniform vec3 u49,u50;uniform float u61,u62;const vec4 e=vec4(.25,.25,.25,.25);const vec3 g=vec3(1.,1.,1.);const vec2 h=vec2(.5,.5);const vec3 i=vec3(1.,1.,4.);varying vec2 vv0;void main(){vec4 c=texture2D(u39,h);float d=step(vv0.x,.5),a=1.-d;vec4 j=texture2D(u58,vv0);float t=c.a;vec2 k=mix(vec2(.875,.875),vec2(.125,.875),a),l=mix(vec2(.125,.625),vec2(.375,.875),a),m=mix(vec2(.375,.625),vec2(.625,.875),a);float n=dot(e,texture2D(u42,k)),o=dot(e,texture2D(u42,l)),p=dot(e,texture2D(u42,m));vec3 q=mix(i,u49,a),b=q*vec3(n,o,p),r=c.rgb;b=mix(b,u50+b-r,a)/u62;vec4 s=mix(vec4(b,0.),j,vec4(u61*g,0.));gl_FragColor=s;}",
i:"u39 u58 u42 u61 u62 u49 u50".split(" "),precision:"highp"},{id:"s62",name:"_",h:"uniform sampler2D u58;uniform vec2 u64,u65;const vec4 h=vec4(.25,.25,.25,.25);varying vec2 vv0;void main(){float a=step(.5,vv0.x),c=mix(u64.x,u65.x,a),d=mix(u64.y,u65.y,a);vec3 b=texture2D(u58,vv0).rgb;float f=length(b),g=1.-smoothstep(c,d,f);gl_FragColor=vec4(b,g);}",i:["u58","u64","u65"],precision:"highp"},{id:"s63",name:"_",s:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",h:"uniform sampler2D u42;const vec4 g=vec4(1.,1.,1.,1.),h=vec4(0.,0.,0.,0.),e=vec4(.25,.25,.25,.25);const float f=3.1415;void main(){float a=dot(texture2D(u42,vec2(.25,.25)),e),b=dot(texture2D(u42,vec2(.5,.25)),e),c=f/2.*dot(texture2D(u42,vec2(.75,.25)),e),d=4.18*dot(texture2D(u42,vec2(0.,.25)),e);gl_FragColor=vec4(d,a,b,c);}",
i:["u42"]},{id:"s54",name:"_",h:"uniform sampler2D u1,u66;varying vec2 vv0;vec4 i(vec4 a,sampler2D g){mediump float b=a.b*63.;mediump vec2 c;c.y=floor(floor(b)/8.),c.x=floor(b)-c.y*8.;mediump vec2 d;d.y=floor(ceil(b)/8.),d.x=ceil(b)-d.y*8.;highp vec2 e;e.x=c.x*.125+9.765625e-4+.123047*a.r,e.y=c.y*.125+9.765625e-4+.123047*a.g;highp vec2 f;f.x=d.x*.125+9.765625e-4+.123047*a.r,f.y=d.y*.125+9.765625e-4+.123047*a.g;lowp vec4 j=texture2D(g,e),k=texture2D(g,f),l=mix(j,k,fract(b));return l;}void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=i(a,u66);}",
i:["u1","u66"]}]);p();I();tb.m({Uh:!1,ma:r});xb.m({Of:0,n:J.Qc[1]-J.Qc[0]+1,di:J.Qc[0]});R.set_videoRotation=function(P){ab.rotate=P;R.ready&&(eb.kg(Ea.element.videoWidth,Ea.element.videoHeight),eb.rg())};R.set_viewRotation=function(){};R.set_LUT=function(P){P?W.instance({url:P,isFloat:!1,isFlipY:!1,R:function(Y){q.Ab=Y;Da.Mc()}}):(q.Ab=null,Da.Mc())};R.resize=function(P,Y,ja){function Ba(){tb.stop();y.eb&&(clearTimeout(y.eb),y.eb=null);if(!y.Tb)if(J.width===Va&&J.height===Ha)e();else if(M!==v.W&&
M!==v.Ha)y.eb=setTimeout(Ba,J.Ji);else{var lb="undefined"===typeof rb?!1:rb.get_mode(),aa=M;M=v.Ca;ua=y.Tb=!0;Ma=function(){ua=!1;y.Tb=!1;C();n(J.ma);h&&clearTimeout(h);h=!1;M=aa};J.width=Va;J.height=Ha;u();x();y.lj.forEach(function(qa){qa.resize(Va,Ha)});ca.resize(Lb,Mb);Da.Mc();eb.kg(Ea.element.videoWidth?Ea.element.videoWidth:Ea.element.width,Ea.element.videoHeight?Ea.element.videoHeight:Ea.element.height);eb.rg();eb.jj();e();M===v.Ha&&(M=v.W,R.switch_viewer3D(!0,!1));lb&&rb.switch_mode(lb)}}if(R.ready){y.eb&&
(clearTimeout(y.eb),y.eb=null);tb.stop();ja=ja?jc.Re:1;var Va=P*ja,Ha=Y*ja;y.eb=setTimeout(Ba,J.Ji)}}},v:function(){tb.v();return new Promise(function(P){R.switch_sleep(!0,!0).finally(function(){K&&K.v();ca.v();fb.v();c&&(c=null);K=null;J.Gf=!1;db=null;X=!0;A=1;B=-1;M=v.W;da=null;ha=v.W;Object.assign(Ea,Cc);Object.assign(J,Dc);P()}).catch(function(){})})},Mc:function(){ra.Si(G.Nc,null===q.Ab?q.yb:q.Pc,Q.Gd,q.zj)},El:function(){return Ra},Zi:function(P){Ra=P},Zd:function(){Ya[0]=O[0]-Ra.offsetX;Ya[1]=
O[1]+Ra.offsetY;Ya[2]=O[2];ra.vn(L,ta.Fa,Ya)},$d:function(){ra.wn(w*J.ub,ta.ub,Ra.scale)},vj:function(){ra.xn(l+ta.rx)},jo:function(){ra.tn(J.za+ta.za,J.ra+ta.ra)},lo:function(){ra.un((0===ta.oa[0]&&0===ta.oa[1]?J:ta).oa)},ae:function(){Da.Zd();Da.$d();Da.vj();Da.jo();Da.lo()},nn:function(){tb.stop();da&&(clearInterval(da),da=null);Fa.isEnabled=!0;Fa.oi=0;U=ra.Dl();ea=db.Eh();xa=db.Ch();Ia=ta.ub;La=ta.Fa;ub=ta.oa;Cb=ta.za;$a=ta.ra;ua=!1;ra.Sd(!1)},kn:function(P){function Y(){2===++ja&&(Fa.isEnabled=
!1,ta.ub=Ia,ta.Fa=La,ta.oa=ub,ta.za=Cb,ta.ra=$a,Da.ae(),ra.va(U),e(),P&&P())}var ja=0;M===v.ic?M=v.Ha:M===v.jc&&(M=v.W);ra.$a(M===v.W?0:1);db.replace(ea,Y);db.eg(xa,Y);Da.Mc();ra.Sd(!0)},jj:function(){var P=Math.tan(Ea.Nb/2);ra.Ri({Te:J.Te/P,pn:P,Um:Ea.zi,Ea:J.Ea,Nf:J.Nf,Cj:D.Ib,Kj:J.xo,yc:J.yc,jf:J.jf,gf:J.gf,hf:J.hf,oa:J.oa,re:J.re,Ee:J.Ee,Yf:J.Yf,ec:J.ec,Sn:J.ej,Tn:J.fj,Qd:J.Qd,fc:J.fc,$c:J.$c,Ie:J.Ie,He:J.He,Ge:J.Ge,ve:J.ve,ue:J.aa+J.xa+J.ue,za:J.za,ra:J.ra,ef:J.ef,Jg:J.Jg,Ig:J.Ig,fe:J.fe,Do:J.Co,
ee:Ea.ee,zd:J.zd,zm:ka,yd:J.yd,Ad:J.Ad,Ef:J.Ef,ym:fa,sg:J.sg})},Hk:function(){var P=ab.ie,Y=ab.he,ja=1/Math.tan(Ea.Nb/2),Ba=fb.Y()/fb.L();Ea.zi=[ja,0,0,0,0,ja/Ba,0,0,0,0,-(Y+P)/(Y-P),-1,0,0,-2*P*Y/(Y-P),0];Ea.ee=1/Math.tan(J.Ao*Math.PI/360)/ja},kg:function(P,Y){g=[.5,.5];P=Y/P;Y=fb.Y()/fb.L();90===Math.abs(ab.rotate)&&(P=1/P);P>Y?g[1]*=Y/P:g[0]*=P/Y;f[0]=0;f[1]=0;f[2]=0;f[3]=0;switch(ab.rotate){case 0:f[0]=g[0];f[3]=g[1];break;case 180:f[0]=-g[0];f[3]=-g[1];break;case 90:f[1]=g[0];f[2]=-g[1];break;
case -90:f[1]=-g[0],f[2]=g[1]}Ea.Nb=2*Math.atan(2*g[0]*Math.tan((1<P?ab.Ej:ab.FOVdesktop)*Math.PI/180/2));Da.Hk()},rg:function(){ba.j("s53",[{type:"1i",name:"u1",value:0},{type:"mat2",name:"u38",value:f}])},pf:function(P,Y){Da.$l(P,Y);Da.m();if(!Da.Xl())return R.lb&&R.lb("GL_INCOMPATIBLE","Cannot init JEELIZVTO"),!1;Da.Mh();return!0},$l:function(P,Y){R.Cb=document.createElement("canvas");R.Bb=document.createElement("canvas");R.Bb.width=J.width;R.Bb.height=J.height;R.Lj=R.Bb.getContext("2d");R.replace_video=
function(ja){Ea.element=ja;Ea.yg.ia=Ea.element;return!0};R.pc=R.Cb.getContext("2d");R.capture_background=function(ja,Ba){ja="undefined"===typeof ja?P:ja;Ba="undefined"===typeof Ba?Y:Ba;R.Cb.width=ja;R.Cb.height=Ba;var Va=ja/Ba,Ha=0,lb=0;if(P/Y>Va){var aa=Y*Va;Va=Y;Ha=Math.round((P-aa)/2)}else aa=P,Va=P/Va,lb=Math.round((Y-Va)/2);R.pc.save();R.pc.translate(ja,0);R.pc.scale(-1,1);R.pc.drawImage(Ea.element,Ha,lb,aa,Va,0,0,ja,Ba);R.pc.restore();ja=document.createElement("canvas");ja.width=R.Cb.width;
ja.height=R.Cb.height;ja.getContext("2d").drawImage(R.Cb,0,0);return ja}},Mh:function(){window.CanvasListeners&&(rb.init({sa:fb.pb()}),R.init_listeners=Da.Mh,R.add_listener=rb.add_listener,R.remove_listener=rb.remove_listener,R.animate_swipe=rb.animate_swipe,R.switch_modeInteractor=rb.switch_mode,R.get_modeInteractor=rb.get_mode,rb.add_listener("move",function(P,Y){M===v.W&&(J.Am&&(Ra.offsetX-=Y[0]*J.hi,Ra.offsetX=Math.min(Math.max(Ra.offsetX,-J.Bd),J.Bd)),Ra.offsetY-=Y[1]*J.hi,Ra.offsetY=Math.min(Math.max(Ra.offsetY,
-J.Bd),J.Bd),Da.Zd())},!0).add_listener("pinch",function(P,Y){M===v.W&&(Ra.scale+=Y*J.Bm,Ra.scale=Math.min(Math.max(Ra.scale,J.ii[0]),J.ii[1]),Da.$d())},!0))},Xl:function(){return ca.m({ud:!1,Fk:!1,expand:!1,sa:fb.pb(),Pb:fb,onload:function(){Q.zb=ac.instance({Fb:J.aa+J.xa+bb.vo,rc:J.aa+J.xa+bb.wo,qc:bb.Aj,sc:bb.Bj});J.Xb?(Q.fb=ac.instance({}),sa.jb.va(Q.fb)):Q.fb=Q.zb;ra.va(Q.fb);Q.Lf=J.Xb?Sc.instance({wm:Q.fb,um:Q.zb}):Q.zb;b()}})},sn:function(){R.load_model=function(P,Y,ja){if(R.isBusy)return!1;
R.isBusy=!0;if(S.model)R.set_model(P,function(){R.set_materials(Y,function(){R.isBusy=!1;ja&&ja()})},function(){R.isBusy=!1});else{var Ba=J.aa+J.xa+J.If+"/",Va=Y.map(function(Ha){return Ba+Ha});S.model={url:J.aa+J.xa+J.Mf+"/"+P,Ec:Va,Eb:!1,Db:!1};Da.fi(S.model,function(){R.isBusy=!1;ja&&ja()})}return!0};R.set_offset=function(P){O=P;Da.Zd()};R.set_scale=function(P){w=P;Da.$d()};R.set_rx=function(P){l=P;Da.vj()};R.switch_shadow=ra.qg;R.switch_bgBlur=ra.pg;R.set_zoom=ra.dg;R.is_viewer3D=function(){return M===
v.Ha};R.switch_viewer3D=function(P,Y){if(M===v.ic||M===v.jc||M===v.W&&!P||M===v.Ha&&P||ua)return!1;if(M===v.Ca)return ha!==v.Ha||P?ha===v.W&&P?(ha=v.Ha,ra.va(Q.zb),ra.$a(1),Y&&Y(),!0):!1:(ha=v.W,ra.va(Q.fb),ra.$a(0),Y&&Y(),!0);var ja=0,Ba=-1,Va=0;M===v.W?(M=v.ic,Ba=J.Bo):M===v.Ha&&(M=v.jc,Ba=J.Eo);var Ha=rc.We();da=setInterval(function(){var lb=rc.We();ja+=(lb-Ha)/Ba;1<=ja&&(ja=1,M===v.ic?(M=v.Ha,ra.va(Q.zb)):(M=v.W,ra.va(Q.fb)),Y&&Y(),clearInterval(da),da=null);var aa=M===v.jc||M===v.W?1-J.zo(ja):
J.yo(ja);ra.$a(aa);M!==v.jc&&M!==v.ic||0!==Va++%2||(ra.va(Q.Lf),Q.Lf.Mn(aa));Ha=lb},.016);return!0};R.capture_image=function(P,Y,ja,Ba){Qa=P;ua=!0;"undefined"===typeof isAllocate&&(ja=!1);(Ba="undefined"===typeof Ba?!1:Ba)&&ra.Sd(!1);k();Ma=function(){ra.Fi(0);c.flush();var Va=fb.zh(ja);Y(Va);Ba&&ra.Sd(!0)}};R.capture_detection=function(P,Y){Qa=P;ua=!0;var ja=null===q.Ab?q.yb:q.Pc;Ma=function(){var Ba=Ec.instance({Fe:G.Nc.clone(),li:db.Eh(),ki:db.Ch(),background:ja.clone(),Xa:sa.jb.Ql().clone(),Hf:Ra});
Y(Ba)}};R.process_offlineRendering=function(P,Y,ja,Ba,Va){function Ha(){if(2===++lb){Fa.Xa||(Fa.Xa=ac.instance({}));P.Bh()&&(Fa.Xa.Yi(P.Bh()),ra.va(Fa.Xa));Fa.Je.set();e();Fa.Je=!1;Da.kn(Ba?function(){fb.pb().parentNode.removeChild(R.Bb)}:!1);var aa=fb.zh(!1);setTimeout(function(){Va(aa)},1)}}Da.nn();Ba&&(R.Lj.drawImage(fb.pb(),0,0),fb.pb().parentNode.insertBefore(R.Bb,fb.pb()),R.Bb.setAttribute("class","jeefitMask"));Fa.Je=P;var lb=0;R.set_model(Y,function(){Ha();R.set_materials(ja,function(){setTimeout(Ha,
1)})})};R.serialize_detection=function(P){return P.Hc()};R.unserialize_detection=function(P,Y,ja){return Ec.Oc(P,Y,ja)};R.do_instantDetection=function(P,Y){Fc.m(G.Nc);Fc.start(P,Y)};R.relieve_DOM=function(P,Y){if(y.Tb)return!1;n(Y||160);X=!1;h&&clearTimeout(h);h=setTimeout(function(){n(J.ma);h=!1;C()},P);return!0};R.switch_slow=function(P,Y){if(y.Tb)return!1;"undefined"===typeof Y&&(Y=J.Sj);h&&(n(J.ma),C(),clearTimeout(h),h=!1);P?X=!1:C();n(P?Y:J.ma);return!0};R.switch_deepSleep=function(P){if(na===
P)return!1;na=!1;R.switch_sleep(P);na=P;return!0};R.switch_sleep=function(P,Y){function ja(){R.isBusy=!1;P?(ha=M,M=v.Ca):(M=ha,e())}if(y.Tb||na||R.isBusy)return Y?Promise.reject():null;if(P&&M===v.Ca||!P&&M!==v.Ca)return Y?Promise.resolve(!1):!1;da&&(clearInterval(da),da=null);M===v.jc?(M=v.W,ra.va(Q.fb),ra.$a(0)):M===v.ic&&(M=v.Ha,ra.va(Q.zb),ra.$a(1));tb.stop();var Ba=null;R.isBusy=!0;Y?Ba=Xb(!P).then(ja):ja();return Y?Ba:!0};R.set_modelStandalone=function(P,Y){ra.Td(!1);sc.instance({url:P.model,
Ec:P.materials,Eb:!1,Db:!1,R:function(ja){ta.Fa=[0,0,0];ta.ub=1;ta.rx=0;ta.za=J.za;ta.ra=J.ra;ta.oa=J.oa;R.ready&&Da.ae();Y&&Y();d(ja);Da.ng();ra.Td(!0)}})};R.start_rendering=Da.ng;R.update_material=function(P,Y){db&&db.mo(P,Y)};R.set_model=function(P,Y,ja){db&&db.replace("http"===P.substring(0,4).toLowerCase()?P:J.aa+J.xa+J.Mf+"/"+P,function(){Y&&Y(db.Jk())},ja)};R.set_tweaker=function(P,Y){function ja(Ba){R.Pg(Ba);Y&&Y()}"string"===typeof P?ya(J.aa+J.xa+J.eo+"/"+P,ja):ja(P)};R.Pg=function(P){P&&
(P.preOffset&&(ta.Fa=P.preOffset),P.preScale&&(ta.ub=P.preScale),P.rx&&(ta.rx=P.rx),P.beginBendZ&&(ta.za=P.beginBendZ),P.bendStrength&&(ta.ra=P.bendStrength),P.maskBranchStartEnd&&(ta.oa=P.maskBranchStartEnd),R.ready&&Da.ae())};R.set_materials=function(P,Y){if(db){var ja=J.aa+J.xa+J.If+"/";P=P.map(function(Ba){var Va=Ba;"string"===typeof Ba&&(Va=ja+Ba,Va=Va.replace(/([^:])\/\//,"$1/"));return Va});db.eg(P,Y)}}},ng:function(){ia||(Da.Mc(),J.Xb&&(wa.reset(),sa.jb.yk(Ea.ka),sa.jb.xk()),R.ready=!0,H=
0,e(),Z=0,ia=!0,ca.Dg(jc.nl),Da.ae(),ra.Yn(),R.Tc.forEach(function(P){P()}),R.Tc.splice(0))},fi:function(P,Y){P=sc.instance({R:function(){Da.ng();Y&&Y()},url:P.url,Ec:P.Ec,Eb:P.Eb,Db:P.Db});d(P)},ao:function(){if(J.Xb){var P=Object.assign({},bb,{$b:J.aa+J.xa+bb.$b});sa.jb.fg(P)}}};return Da}function Nb(a){return 3===arguments.length?this.mb(arguments):this.set(a)}function Gc(a,b){b=Math.floor(b);a.r=(b>>16&255)/255;a.X=(b>>8&255)/255;a.b=(b&255)/255}function Tc(a,b){function e(k){void 0!==k&&1>parseFloat(k)&&
console.warn("JETHREE.Color: Alpha component of "+b+" will be ignored.")}var d;if(d=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(b)){var n=d[2];switch(d[1]){case "rgb":case "rgba":if(d=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n)){a.r=Math.min(255,parseInt(d[1],10))/255;a.X=Math.min(255,parseInt(d[2],10))/255;a.b=Math.min(255,parseInt(d[3],10))/255;e(d[5]);return}if(d=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n)){a.r=Math.min(100,parseInt(d[1],10))/
100;a.X=Math.min(100,parseInt(d[2],10))/100;a.b=Math.min(100,parseInt(d[3],10))/100;e(d[5]);return}break;case "hsl":case "hsla":if(d=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n)){n=parseFloat(d[1])/360;var m=parseInt(d[2],10)/100,C=parseInt(d[3],10)/100;e(d[5]);a.rn(n,m,C);return}}}else if(d=/^#([A-Fa-f0-9]+)$/.exec(b)){d=d[1];n=d.length;if(3===n){a.r=parseInt(d.charAt(0)+d.charAt(0),16)/255;a.X=parseInt(d.charAt(1)+d.charAt(1),16)/255;a.b=parseInt(d.charAt(2)+
d.charAt(2),16)/255;return}if(6===n){a.r=parseInt(d.charAt(0)+d.charAt(1),16)/255;a.X=parseInt(d.charAt(2)+d.charAt(3),16)/255;a.b=parseInt(d.charAt(4)+d.charAt(5),16)/255;return}}b&&0<b.length&&(d=Uc[b],void 0!==d?Gc(a,d):console.warn("JETHREE.Color: Unknown color "+b))}function kc(a,b,e,d){this.B=a||0;this.C=b||0;this.D=e||0;this.O=void 0!==d?d:1}function Hc(a,b,e){var d=b.B,n=b.C,m=b.D;b=b.O;var C=e.B,k=e.C,t=e.D;e=e.O;a.B=d*e+b*C+n*t-m*k;a.C=n*e+b*k+m*C-d*t;a.D=m*e+b*t+d*k-n*C;a.O=b*e-d*C-n*k-
m*t;return a}function Ob(a,b){this.x=a||0;this.y=b||0}function Sa(a,b,e){this.x=a||0;this.y=b||0;this.z=e||0}function Ic(a,b){var e=a.x,d=a.y,n=a.z;a.x=d*b.z-n*b.y;a.y=n*b.x-e*b.z;a.z=e*b.y-d*b.x}function Pb(a,b,e,d){this.B=a||0;this.C=b||0;this.D=e||0;this.Ra=d||Pb.Dj}function tc(a,b){this.min=void 0!==a?a:new Sa(Infinity,Infinity,Infinity);this.max=void 0!==b?b:new Sa(-Infinity,-Infinity,-Infinity)}function lc(a){return(new Sa).Uc(a.min,a.max).Da(.5)}function Vc(a,b){a.min.min(b);a.max.max(b)}function Qb(){this.elements=
new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);0<arguments.length&&console.error("JETHREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function Jc(a,b,e){var d=b.elements,n=e.elements;e=a.elements;b=d[0];var m=d[4],C=d[8],k=d[12],t=d[1],p=d[5],F=d[9],I=d[13],u=d[2],x=d[6],D=d[10],g=d[14],f=d[3],y=d[7],L=d[11];d=d[15];var z=n[0],r=n[4],h=n[8],K=n[12],O=n[1],w=n[5],l=n[9],q=n[13],G=n[2],H=n[6],N=n[10],Q=n[14],Z=n[3],ia=n[7],X=n[11];n=n[15];e[0]=b*z+m*O+C*G+k*Z;e[4]=
b*r+m*w+C*H+k*ia;e[8]=b*h+m*l+C*N+k*X;e[12]=b*K+m*q+C*Q+k*n;e[1]=t*z+p*O+F*G+I*Z;e[5]=t*r+p*w+F*H+I*ia;e[9]=t*h+p*l+F*N+I*X;e[13]=t*K+p*q+F*Q+I*n;e[2]=u*z+x*O+D*G+g*Z;e[6]=u*r+x*w+D*H+g*ia;e[10]=u*h+x*l+D*N+g*X;e[14]=u*K+x*q+D*Q+g*n;e[3]=f*z+y*O+L*G+d*Z;e[7]=f*r+y*w+L*H+d*ia;e[11]=f*h+y*l+L*N+d*X;e[15]=f*K+y*q+L*Q+d*n;return a}function uc(a,b,e,d,n,m){this.a=a;this.b=b;this.c=e;this.Oa=d instanceof Sa?d:new Sa;this.de=Array.isArray(d)?d:[];this.color=n instanceof Nb?n:new Nb;this.Gg=Array.isArray(n)?
n:[];this.Yb=void 0!==m?m:0}function Wc(a,b,e){var d=new XMLHttpRequest;d.open("GET",a,!0);var n=d.withCredentials=!1;d.onreadystatechange=function(){404!==d.status||n||(n=!0,e&&e(404));if(4===d.readyState&&200===d.status){var m=null;try{m=JSON.parse(d.responseText)}catch(C){e&&e(-1)}b&&m&&b(m)}};d.onerror=function(){e&&e(0)};d.send()}function vc(a,b,e){"object"===typeof a?b(a):Wc(a,b,e)}function Xc(a,b){for(var e=new Sa,d=new Sa,n=0,m=b.length;n<m;n++){var C=b[n],k=a[C.a],t=a[C.b];e.cb(a[C.c],t);
d.cb(k,t);Ic(e,d);0!==e.xf()&&(e.normalize(),C.Oa.J(e))}}function Yc(a,b){for(var e=Array(a.length),d=0,n=a.length;d<n;++d)e[d]=new Sa;d=new Sa;n=new Sa;for(var m=0,C=b.length;m<C;++m){var k=b[m],t=a[k.a],p=a[k.b];d.cb(a[k.c],p);n.cb(t,p);Ic(d,n);e[k.a].add(d);e[k.b].add(d);e[k.c].add(d)}d=0;for(a=a.length;d<a;++d)e[d].normalize();a=0;for(d=b.length;a<d;++a)n=b[a],m=n.de,3===m.length?(m[0].J(e[n.a]),m[1].J(e[n.b]),m[2].J(e[n.c])):(m[0]=e[n.a].clone(),m[1]=e[n.b].clone(),m[2]=e[n.c].clone());return e}
function Zc(a,b,e,d){function n(K){r.J(b[K]);h.J(r);var O=k[K];L.J(O);L.sub(r.Da(r.bd(O))).normalize();var w=h.x,l=h.y,q=h.z,G=O.x,H=O.y;O=O.z;z.x=l*O-q*H;z.y=q*G-w*O;z.z=w*H-l*G;w=0>z.bd(t[K])?-1:1;C[4*K]=L.x;C[4*K+1]=L.y;C[4*K+2]=L.z;C[4*K+3]=w}for(var m=a.length,C=new Float32Array(4*m),k=Array(m),t=Array(m),p=0;p<m;p++)k[p]=new Sa,t[p]=new Sa;var F=new Sa,I=new Sa,u=new Sa,x=new Ob,D=new Ob,g=new Ob,f=new Sa,y=new Sa;d.forEach(function(K){var O=K.a,w=K.b;K=K.c;F.J(a[O]);I.J(a[w]);u.J(a[K]);x.J(e[O]);
D.J(e[w]);g.J(e[K]);var l=I.x-F.x,q=u.x-F.x,G=I.y-F.y,H=u.y-F.y,N=I.z-F.z,Q=u.z-F.z,Z=D.x-x.x,ia=g.x-x.x,X=D.y-x.y,A=g.y-x.y,B=1/(Z*A-ia*X);f.set((A*l-X*q)*B,(A*G-X*H)*B,(A*N-X*Q)*B);y.set((Z*q-ia*l)*B,(Z*H-ia*G)*B,(Z*Q-ia*N)*B);k[O].add(f);k[w].add(f);k[K].add(f);t[O].add(y);t[w].add(y);t[K].add(y)});var L=new Sa,z=new Sa,r=new Sa,h=new Sa;d.forEach(function(K){n(K.a);n(K.b);n(K.c)});return C}function Kc(a,b,e,d){return Math.sqrt((a-e)*(a-e)+(b-d)*(b-d))}var S={eh:!0,bp:!1,cp:!1,Rk:!1,dh:!1,ap:!1,
Na:!1,Xm:!1,ud:!1,Jp:!1,aa:"",Em:"",lk:700,kk:200,fh:!1,po:!1,qo:!1,oo:!1,Tj:3,Kb:!1,Qg:!0,Fb:"images/backgrounds/interior2.jpg",rc:"images/backgrounds/interior_light.jpg",nk:[256,256,512,512],qc:2.1,sc:8,mk:[64,128,256,256],cm:[60,96,160,250],bm:[8,12,18,40],Zb:2.2,Hd:1,we:300,Ug:500,xe:50,zk:0,Ak:0,Ro:45,To:1,So:1E3,Vg:20,Fo:10,Go:10,Ho:5,Rm:.1,ti:20,wi:100,xi:100,Qm:-Math.PI/3,Pm:Math.PI/3,vi:0,mj:0,fd:[40,32,16,16],Rj:[0,.87,.92,.9],Mm:2,Im:100,da:!1,Uj:16,Vj:.4,Xj:[.72,.73,.72,.74],gk:1.2,dk:[.5,
.5,.5,1],ik:140,hk:280,jk:1.2,Yj:20,Zj:40,fk:[6,9,9,12],ck:[.03,.02,.02,.018],bk:[.35,.35,.4,.5],$j:[.2,.2,.2,.2],Wj:[.1,.15,.15,.15],ek:[200,200,150,120],ak:[1,2,3,5],Un:1.1,$p:[.25,.5,1,2],aq:256,Zp:256,Yp:200,Vn:[40,80,200,500],Wn:[35,45,80,120],Lk:!0,Mk:"CCW"},Lc={},ba=function(){function a(w,l,q){l=w.createShader(l);w.shaderSource(l,q);w.compileShader(l);return w.getShaderParameter(l,w.COMPILE_STATUS)?l:!1}function b(w,l,q){l=a(w,w.VERTEX_SHADER,l);q=a(w,w.FRAGMENT_SHADER,q);w===c&&k.push(l,
q);var G=w.createProgram();w.attachShader(G,l);w.attachShader(G,q);w.linkProgram(G);return G}function e(w){return["float","sampler2D","int"].map(function(l){return"precision "+w+" "+l+";\n"}).join("")}function d(w,l){l.ba=l.ba?!0:!1;if(!l.ba){l.s=l.s||"precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}";l.H=l.H||["a0"];l.P=l.P||[2];l.precision=l.precision||u;l.id=F++;void 0!==l.Ni&&(l.Ni.forEach(function(H,N){l.h=l.h.replace(H,l.Ga[N])}),
l.Ni.splice(0));l.Hg=0;l.P.forEach(function(H){l.Hg+=4*H});var q=e(l.precision);l.pa=b(w,q+l.s,q+l.h);l.A={};l.i.forEach(function(H){l.A[H]=w.getUniformLocation(l.pa,H)});l.attributes={};l.ya=[];l.H.forEach(function(H){var N=w.getAttribLocation(l.pa,H);l.attributes[H]=N;l.ya.push(N)});if(l.u){w.useProgram(l.pa);p=l;t=l.id;for(var G in l.u)w.uniform1i(l.A[G],l.u[G])}l.La=!0}}function n(w){pb.bj(O);t!==w.id&&(O.I(),t=w.id,p=w,c.useProgram(w.pa),w.ya.forEach(function(l){0!==l&&c.enableVertexAttribArray(l)}))}
function m(w,l,q){d(w,l,q);w.useProgram(l.pa);w.enableVertexAttribArray(0);t=-1;return p=l}function C(){return{h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],u:{u1:0}}}var k=[],t=-1,p=null,F=0,I=!1,u="highp",x=["u1"],D=["u0"],g={u1:0},f={u0:0},y={u1:0,u2:1},L={u3:0},z={s0:C(),s1:{h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:x,u:g,precision:"lowp"},s2:{h:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",
i:["u1","u2"],u:y},s3:{h:"uniform sampler2D u1;uniform vec2 u4,u5;varying vec2 vv0;void main(){vec2 a=vv0*u4+u5;gl_FragColor=texture2D(u1,a);}",i:["u1","u4","u5"],u:g,ba:!0},s4:{h:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",i:x,u:g},s5:{h:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",i:["u1","u2"],u:y},s6:{h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",
i:x,u:g},s7:{h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",i:x,u:g},s8:{h:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u4;}",i:["u0","u4"],u:f},s9:{h:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;const vec4 f=vec4(.25,.25,.25,.25),g=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u4,f);gl_FragColor=b*g;}",i:["u0","u4"],u:f},s10:{h:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",
i:x,u:g},s11:{h:"uniform sampler2D u1,u6;uniform float u7;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u6,vv0);gl_FragColor=mix(b,a,u7*f);}",i:["u1","u6","u7"],u:{u1:0,u6:1}},s12:{h:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u8)+texture2D(u1,vv0+u8*vec2(1.,-1.))+texture2D(u1,vv0+u8*vec2(-1.,-1.))+texture2D(u1,vv0+u8*vec2(-1.,1.)));}",i:["u1","u8"],u:g},s13:{h:"uniform sampler2D u1;uniform vec4 u9;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 j(float a){if(a==0.)return vec4(0.,0.,0.,0.);float k=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),l=c+127.,b=(a/exp2(c)-1.)*8388608.,d=l/2.,m=fract(d)*2.,n=floor(d),o=e(b,0.,8.),p=e(b,8.,16.),q=m*128.+e(b,16.,23.),r=k+n;return vec4(o,p,q,r)/255.;}void main(){float a=dot(texture2D(u1,vv0),u9);gl_FragColor=j(a);}",
i:["u1","u9"],u:g},s14:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",i:D,u:f,ba:!0},s15:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(f,a);}",i:D,u:f},s16:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-f,a,step(0.,a));}",i:D,u:f},
s17:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(-abs(a))-f;gl_FragColor=mix(.1*b,a,step(0.,a));}",i:D,u:f},s18:{h:"uniform sampler2D u0,u7,u10;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),c=texture2D(u7,vv0),d=texture2D(u10,vv0),b=a/d;gl_FragColor=c*mix(exp(-abs(b))-f,b,step(0.,a));}",i:["u0","u7","u10"],u:{u0:0,u7:1,u10:2},ba:!0},s19:{h:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",
i:D,u:f},s20:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=log(f+a);gl_FragColor=b;}",i:D,u:f,ba:!0},s21:{h:"uniform sampler2D u0,u11;uniform float u12;const vec2 e=vec2(.5,.5);const float f=1e-5;const vec4 g=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u11,e);float b=u12*u12;vec4 c=max(b*a,f*g);gl_FragColor=texture2D(u0,vv0)/c;}",i:["u0","u11","u12"],u:{u0:0,u11:1},ba:!0},s22:{h:"uniform sampler2D u1;uniform vec2 u13;varying vec2 vv0;void main(){float a=u13.x*u13.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u13.y),f=floor(u13.x*fract(b*u13.y)),g=(f*u13.y+d)/a;gl_FragColor=texture2D(u1,g+c/a);}",
i:["u1","u13"],u:g},s23:{h:"uniform sampler2D u14,u15,u16;varying vec2 vv0;void main(){vec4 a=texture2D(u16,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u14,b),f=texture2D(u15,c);gl_FragColor=d*f;}",i:["u14","u15","u16"],u:{u15:0,u14:1,u16:2},ba:!0},s24:{h:"uniform float u17;uniform sampler2D u14,u15;varying vec2 vv0;void main(){vec2 a=fract(vv0*u17);vec4 b=texture2D(u14,vv0),c=texture2D(u15,a);gl_FragColor=b*c;}",i:["u15","u14","u17"],u:{u15:0,u14:1}},s25:{h:"uniform float u17;uniform sampler2D u14,u15,u18,u19,u20,u21;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 h=vv0*u17,l=floor(h),c=h-l;vec4 m=texture2D(u14,vv0),d=texture2D(u15,c),a=texture2D(u21,vv0);a=a*255.;vec4 n=texture2D(u18,c),o=texture2D(u19,c),p=texture2D(u20,c),i=step(-g,-a),b=e-i,j=b*step(-e-g,-a);b*=e-j;vec4 k=b*step(-2.*e-g,-a);b*=e-k;vec4 q=b;d=i*d+j*n+k*o+q*p,gl_FragColor=m*d;}",
i:"u14 u15 u17 u21 u18 u19 u20".split(" "),u:{u15:0,u14:1,u21:3,u18:4,u19:5,u20:6},ba:!0},s26:{h:"uniform sampler2D u14,u15,u22;uniform float u17,u23,u24,u25;varying vec2 vv0;const vec2 j=vec2(1.,1.);void main(){vec2 a=floor(u23*vv0),b=u23*vv0-a;float c=u17/u23;vec2 d=floor(b*c),f=b*c-d,g=(a+f)/u23;float k=u23*u25/u17;vec2 l=k*d,h=(l+f*u24)/u25,i=step(h,j);vec4 m=texture2D(u14,g),n=texture2D(u15,h),o=m*n*i.x*i.y,p=texture2D(u22,g);gl_FragColor=o*u24*u24+p;}",i:"u14 u15 u17 u23 u24 u25 u22".split(" "),
u:{u15:0,u14:1,u22:2}},s27:{h:"uniform sampler2D u14,u15;varying vec2 vv0;void main(){vec4 a=texture2D(u14,vv0),b=texture2D(u15,vv0);gl_FragColor=a*b;}",i:["u14","u15"],u:{u15:0,u14:1},ba:!0},s28:{h:"uniform sampler2D u1,u22;uniform float u26;varying vec2 vv0;void main(){gl_FragColor=texture2D(u22,vv0)+u26*texture2D(u1,vv0);}",i:["u1","u22","u26"],u:{u1:0,u22:1}},s29:{h:"varying vec2 vv0;uniform sampler2D u1;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,g)*f;}",
i:x,u:g,precision:"lowp"},s30:{h:"varying vec2 vv0;uniform sampler2D u1;uniform float u27;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u27)).rgb,c=texture2D(u1,vv0+vec2(u27,u27)).rgb,d=texture2D(u1,vv0+vec2(u27,0.)).rgb;gl_FragColor=vec4(dot(a,f),dot(b,f),dot(c,f),dot(d,f));}",i:["u1","u27"],u:g,precision:"lowp"},s31:{h:"varying vec2 vv0;uniform sampler2D u1;uniform float u27;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u27)).rgb,c=texture2D(u1,vv0+vec2(u27,u27)).rgb,d=texture2D(u1,vv0+vec2(u27,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",
i:["u1","u27"],u:g,precision:"lowp"},s32:{h:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u28;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u28,vv0.y-u28))*1.,a-=texture2D(u1,vec2(vv0.x-u28,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u28,vv0.y+u28))*1.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y-u28))*1.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y+u28))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u28,vv0.y-u28))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u28))*2.,b-=texture2D(u1,vec2(vv0.x+u28,vv0.y-u28))*1.,b+=texture2D(u1,vec2(vv0.x-u28,vv0.y+u28))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u28))*2.,b+=texture2D(u1,vec2(vv0.x+u28,vv0.y+u28))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),g=texture2D(u2,vv0);gl_FragColor=g.a*e.r*f;}",
i:["u1","u2","u28"],u:y,ba:!0},s33:{h:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u28;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float h=0.;vec2 l=k*u28,a,b;float c,d,i=0.;for(float e=-4.;e<=4.;e+=1.)for(float f=-4.;f<=4.;f+=1.)a=vec2(e,f),c=length(a)/2.,d=exp(-c*c),b=vv0+l*a,h+=d*texture2D(u1,b).r,i+=d;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,b).r-h/i)*j;}",i:["u1","u2","u28"],u:y,ba:!0},s34:{h:"uniform sampler2D u3;uniform vec2 u8;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 g=vec2(.5,.5),h=vec2(1.,0.),i=vec2(0.,1.);void main(){vec2 a=vv0-u8*g;vec4 b=texture2D(u3,a),c=texture2D(u3,a+u8*h),d=texture2D(u3,a+u8*i),j=texture2D(u3,a+u8),k=e(b,c),l=e(d,j);gl_FragColor=e(k,l);}",
i:["u3","u8"],u:L},s35:{h:"uniform sampler2D u3;uniform vec2 u8;varying vec2 vv0;const vec2 k=vec2(1.,0.),l=vec2(0.,1.),m=vec2(2.,0.),n=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u3,a),c=texture2D(u3,a+u8*k),d=texture2D(u3,a+u8*l),g=texture2D(u3,a+u8),h=e(b,c),i=e(d,g);return e(h,i);}void main(){vec2 a=vv0+u8*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u8*m),d=f(a+u8*2.),g=f(a+u8*n),h=e(b,c),i=e(d,g);gl_FragColor=e(h,i);}",i:["u3","u8"],u:L,ba:!0},
s36:{h:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",i:["u1"],u:g,precision:"lowp",ba:!0},s37:{h:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;const float e=15444.;void main(){vec4 a=1001./e*texture2D(u1,vv0-3.*u8)+2002./e*texture2D(u1,vv0-2.*u8)+3003./e*texture2D(u1,vv0-u8)+3432./e*texture2D(u1,vv0)+3003./e*texture2D(u1,vv0+u8)+2002./e*texture2D(u1,vv0+2.*u8)+1001./e*texture2D(u1,vv0+3.*u8);gl_FragColor=a;}",i:["u8","u1"],u:g,precision:"lowp",
ba:!0},s38:{h:"uniform sampler2D u1,u11,u29;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);const float g=.1;void main(){vec4 a=texture2D(u11,vv0),b=texture2D(u29,vv0),c=texture2D(u1,vv0),d=max(f*g,b-a*a),h=sqrt(d);gl_FragColor=(c-a)/h;}",i:["u1","u11","u29"],u:{u1:0,u11:1,u29:2},ba:!0}},r={s39:{h:"uniform float u17,u30;uniform sampler2D u14,u15,u22;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-5,1e-5);void main(){vec4 sum=texture2D(u22,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u17,xyTo=floor(vv0*u17+eps2);float weightSize=toSparsity*u17;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u30*(xyPatch-halfFromSparsity))/u17,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u14,uvWeight)*texture2D(u15,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:["u17","u14","u15","u22","u30"],Ga:["1.1111","gl_FragColor\\*=2.2222;"]},s40:{h:"uniform float u17,u30,u25;uniform sampler2D u14,u15,u22;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u22,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u25,xyTo=floor(vv0*u17+eps2);float weightSize=fromSparsity*u25;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u17;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u30*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u25,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u14,uvWeight)*texture2D(u15,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:"u17 u25 u14 u15 u22 u30".split(" "),Ga:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},h=null,K=null,O={Wb:function(){return I},m:function(){if(!I){h=Pa(z,2);K=Pa(r,2);u="highp";c.getShaderPrecisionFormat&&(c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.MEDIUM_FLOAT),c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.LOW_FLOAT));for(var w in h)d(c,h[w],w);ba.set("s0");c.enableVertexAttribArray(0);I=!0}},pe:function(w){w.forEach(function(l){O.qa(l)})},qa:function(w){h[w.id]=w;d(c,w,w.id)},Nh:function(w,
l,q){l||(l=w);h[l]=Object.create(K[w]);h[l].im=!0;K[w].Ga&&K[w].Ga.forEach(function(G,H){h[l].h=h[l].h.replace(new RegExp(G,"g"),q[H])});d(c,h[l],l)},set:function(w){var l=h[w];l.ba&&(l.ba=!1,d(c,l,w));n(l)},vb:function(w){return m(w,C(),"s41")},Md:function(w){return m(w,{h:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",i:[],precision:u},"s42")},ml:function(w){return"undefined"===typeof h[w]?!1:h[w].La},I:function(){-1!==t&&(t=-1,p.ya.forEach(function(w){0!==w&&c.disableVertexAttribArray(w)}))},Od:function(){var w=
0;p.ya.forEach(function(l,q){q=p.P[q];c.vertexAttribPointer(l,q,c.FLOAT,!1,p.Hg,w);w+=4*q})},gp:function(){c.enableVertexAttribArray(0)},Kc:function(){O.cc(c)},cc:function(w){w.vertexAttribPointer(p.ya[0],2,w.FLOAT,!1,8,0)},Nd:function(w,l){c.uniform1i(p.A[w],l)},G:function(w,l){c.uniform1f(p.A[w],l)},N:function(w,l,q){c.uniform2f(p.A[w],l,q)},cj:function(w,l){c.uniform2fv(p.A[w],l)},jg:function(w,l){c.uniform3fv(p.A[w],l)},ig:function(w,l,q,G){c.uniform3f(p.A[w],l,q,G)},On:function(w,l,q,G,H){c.uniform4f(p.A[w],
l,q,G,H)},Ba:function(w,l){c.uniform4fv(p.A[w],l)},Pn:function(w,l){c.uniformMatrix2fv(p.A[w],!1,l)},Qn:function(w,l){c.uniformMatrix3fv(p.A[w],!1,l)},Jc:function(w,l){c.uniformMatrix4fv(p.A[w],!1,l)},j:function(w,l){O.set(w);l.forEach(function(q){switch(q.type){case "4f":c.uniform4fv(p.A[q.name],q.value);break;case "3f":c.uniform3fv(p.A[q.name],q.value);break;case "2f":c.uniform2fv(p.A[q.name],q.value);break;case "1f":c.uniform1f(p.A[q.name],q.value);break;case "1i":c.uniform1i(p.A[q.name],q.value);
break;case "mat2":c.uniformMatrix2fv(p.A[q.name],!1,q.value);break;case "mat3":c.uniformMatrix3fv(p.A[q.name],!1,q.value);break;case "mat4":c.uniformMatrix4fv(p.A[q.name],!1,q.value)}})},sp:function(){return"lowp"},v:function(){c.disableVertexAttribArray(0);O.I();for(var w in h){var l=h[w];l.La&&(l.La=!1,c.deleteProgram(l.pa));l.im&&delete h[w]}k.forEach(function(q){c.deleteShader(q)});k.splice(0);F=0;I=!1;p=null;t=-1}};return O}(),c=null,fb=function(){function a(u){console.log("ERROR in ContextFF: ",
u);return!1}function b(u){function x(){yb.v();za.reset();g.getExtension("WEBGL_lose_context").loseContext()}if(navigator.userAgent&&-1!==navigator.userAgent.indexOf("forceWebGL1"))return!1;var D=document.createElement("canvas");D.setAttribute("width",5);D.setAttribute("height",5);var g=null;try{g=D.getContext("webgl2",u)}catch(f){return!1}if(!g)return!1;e(g);za.nh(g);u=za.Ke(g);if(!u.Ta&&!u.Va)return x(),!1;u=yb.Wg(g,u);x();return u?!0:!1}function e(u){u.clearColor(0,0,0,0);u.disable(u.DEPTH_TEST);
u.disable(u.BLEND);u.disable(u.DITHER);u.disable(u.STENCIL_TEST);u.disable(u.CULL_FACE);u.GENERATE_MIPMAP_HINT&&u.hint(u.GENERATE_MIPMAP_HINT,u.FASTEST);u.disable(u.SAMPLE_ALPHA_TO_COVERAGE);u.disable(u.SAMPLE_COVERAGE);u.depthFunc(u.LEQUAL);u.clearDepth(1)}var d=null,n=null,m=null,C=null,k=!0,t=null,p=null,F=[],I={L:function(){return d.width},Y:function(){return d.height},pb:function(){return d},ql:function(){return c},ja:function(){return k},flush:function(){c.flush()},vl:function(){t||(t=new Uint8Array(d.width*
d.height*4));c.readPixels(0,0,d.width,d.height,c.RGBA,c.UNSIGNED_BYTE,t);return t},np:function(){return d.toDataURL("image/jpeg")},op:function(){wa.$();n||(n=document.createElement("canvas"),m=n.getContext("2d"));n.width=d.width;n.height=d.height;for(var u=I.vl(),x=m.createImageData(n.width,n.height),D=n.width,g=n.height,f=x.data,y=0;y<g;++y)for(var L=g-y-1,z=0;z<D;++z){var r=4*(y*D+z),h=4*(L*D+z);f[r]=u[h];f[r+1]=u[h+1];f[r+2]=u[h+2];f[r+3]=u[h+3]}m.putImageData(x,0,0);return n.toDataURL("image/png")},
zh:function(u){!n&&u&&(n=document.createElement("canvas"),m=n.getContext("2d"));var x=u?n:document.createElement("canvas");x.width=d.width;x.height=d.height;(u?m:x.getContext("2d")).drawImage(d,0,0);return x},m:function(u){u=Object.assign({Ua:null,Pf:null,sa:null,De:null,width:512,height:512,premultipliedAlpha:!1,fm:!0,antialias:!1,debug:!1,$o:!1},u);u.Ua?(c=u.Ua,d=u.Ua.canvas):u.De&&!u.sa?d=document.getElementById(u.De):u.sa&&(d=u.sa);d||(d=document.createElement("canvas"));d.width=u.width;d.height=
u.height;if(c)k=c instanceof WebGL2RenderingContext;else{k=!0;var x={antialias:u.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:u.premultipliedAlpha,stencil:!1,depth:u.fm};navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("noAntialiasing")&&(x.antialias=!1);var D=b(x);!D&&x.antialias&&(x.antialias=!1,D=b(x));D&&(c=d.getContext("webgl2",x));c?k=!0:((c=d.getContext("webgl",x))||(c=d.getContext("experimental-webgl",x)),k=!1)}if(!c)return a("WebGL1 and 2 are not enabled");
(C=c.getExtension("WEBGL_lose_context"))&&u.Pf&&(p=u.Pf,d.addEventListener("webglcontextlost",p,!1));if(!za.m())return a("Not enough GL capabilities");e(c);ba.m();V.m();if(!yb.Wg(c,za.sl()))return a("Cannot filter float textures");F.forEach(function(g){g(c)});F.splice(0);return!0},Qo:function(){return new Promise(function(u){c?u(c):F.push(u)})},v:function(){c&&(za.v(),ba.v(),yb.v());C&&p&&(d.removeEventListener("webglcontextlost",p,!1),C=p=null);c=t=m=n=d=null;F.splice(0)}};return I}(),pb=function(){function a(){null===
b&&("undefined"!==typeof ba?b=ba:"undefined"!==typeof E&&(b=E))}var b=null;return{reset:function(){b=null},bj:function(e){b!==e&&(b&&b.I(),b=e)},Wb:function(){return b.Wb()},Kc:function(){return b.Kc()},cc:function(e){return b.cc(e)},Od:function(){return b.Od()},I:function(){return b.I()},set:function(e){a();return b.set(e)},vb:function(e){a();return b.vb(e)},Md:function(e){a();return b.Md(e)}}}(),W=function(){function a(q){c.bindTexture(c.TEXTURE_2D,q)}function b(q){var G=new Uint16Array(q.length);
q.forEach(function(H,N){K[0]=H;var Q=O[0];var Z=Q>>16&32768;H=Q>>12&2047;var ia=Q>>23&255;Q=103>ia?Z:142<ia?Z|31744|((255==ia?0:1)&&Q&8388607):113>ia?(H|=2048,Z|(H>>114-ia)+(H>>113-ia&1)):(Z|ia-112<<10|H>>1)+(H&1);G[N]=Q});return G}function e(){if(null!==w.lf)return w.lf;var q=d(b([.5,.5,.5,.5]));return null===q?!0:w.lf=q}function d(q){if(!pb.Wb()||!x)return null;var G=null,H=Math.sqrt(q.length/4);try{var N=c.getError();if("FUCKING_BIG_ERROR"===N)return!1;G=l.instance({isFloat:!1,S:!0,array:q,width:H});
N=c.getError();if(N!==c.NO_ERROR)return!1}catch(Z){return!1}wa.$();c.viewport(0,0,H,H);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);pb.set("s0");G.Gb(0);V.l(!0,!0);q=4*H*H;N=new Uint8Array(q);c.readPixels(0,0,H,H,c.RGBA,c.UNSIGNED_BYTE,N);H=!0;for(var Q=0;Q<q;++Q)H=H&&3>Math.abs(N[Q]-127);G.remove();wa.ha();return H}var n=0,m=null,C=0,k=null,t=null,p=null,F=null,I=null,u=null,x=!1,D=[],g={isFloat:!1,isPot:!0,isLinear:!1,isMipmap:!1,isAnisotropicFiltering:!1,isMirrorX:!1,isMirrorY:!1,isSrgb:!1,
isKeepArray:!1,isFlipY:null,width:0,height:0,url:null,array:null,data:null,ia:null,Gh:null,gm:!1,S:!1,R:null,F:4,Jf:0},f=!1,y=null,L=null,z=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],r=!1,h=!1,K=new Float32Array(1),O=new Int32Array(K.buffer),w={lf:null,mf:null},l={m:function(){x||(I=[c.RGBA,null,c.RGBA,c.RGBA],u=[c.RGBA,null,c.RGBA,c.RGBA],m=[c.TEXTURE0,c.TEXTURE1,c.TEXTURE2,c.TEXTURE3,c.TEXTURE4,c.TEXTURE5,c.TEXTURE6,c.TEXTURE7],r="undefined"!==typeof ca,h="undefined"!==typeof za,k=[-1,-1,-1,-1,-1,
-1,-1,-1],F=[c.UNSIGNED_BYTE,c.FLOAT,c.FLOAT],x=!0)},Yl:function(){if(!t){for(var q=new Float32Array(16384),G=0;16384>G;++G)q[G]=2*Math.random()-1;t={random:l.instance({isFloat:!0,isPot:!0,array:q,width:64}),qj:l.instance({isFloat:!1,isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}l.ko()},Fh:function(){return t.qj},ko:function(){F[1]=za.Xe(c)},Jn:function(){u=I=[c.RGBA,c.RGBA,c.RGBA,c.RGBA]},Gi:function(q){ba.set("s1");wa.$();var G=q.L(),H=q.Y();c.viewport(0,0,G,H);q.g(0);V.l(!1,!1)},Lp:function(q,
G){l.Gi(q);c.readPixels(0,0,q.L(),q.Y(),c.RGBA,c.UNSIGNED_BYTE,G)},Mp:function(q,G){l.Gi(q);return za.Xf(0,0,q.L(),q.Y(),G)},uh:function(q,G,H,N,Q,Z,ia){q.activeTexture(q.TEXTURE0);var X=q.createTexture();q.bindTexture(q.TEXTURE_2D,X);Q=Q instanceof Float32Array?Q:new Float32Array(Q);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.NEAREST);q.texParameteri(q.TEXTURE_2D,
q.TEXTURE_MIN_FILTER,q.NEAREST);q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,Z);q.texImage2D(q.TEXTURE_2D,0,q.RGBA,H,N,0,q.RGBA,q.FLOAT,Q);q.bindTexture(q.TEXTURE_2D,null);q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,!1);ia&&(wa.ha(),ba.vb(q));q.viewport(0,0,H,N);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,G,0);q.bindTexture(q.TEXTURE_2D,X);ia?V.l(!0,!0):V.Mb(q);q.deleteTexture(X);x&&(k[0]=-1,p=null,n=0)},oe:function(q){q!==n&&(c.activeTexture(m[q]),n=q)},instance:function(q){function G(){ka=
void 0!==A.ia.videoWidth?A.ia.videoWidth:A.ia.width;fa=void 0!==A.ia.videoHeight?A.ia.videoHeight:A.ia.height}function H(aa){var qa=c.getError();if("FUCKING_BIG_ERROR"===qa)return!1;c.texImage2D(c.TEXTURE_2D,0,$a,ta,Ya,aa);qa=c.getError();qa!==c.NO_ERROR&&ta!==c.RGBA&&(ta=c.RGBA,c.texImage2D(c.TEXTURE_2D,0,$a,ta,Ya,aa));return!0}function N(){if(!ea){a(Qa);Ra&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,Ra);A.isPot?(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,A.isMirrorX?c.MIRRORED_REPEAT:c.REPEAT),c.texParameteri(c.TEXTURE_2D,
c.TEXTURE_WRAP_T,A.isMirrorY?c.MIRRORED_REPEAT:c.REPEAT)):(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE));A.isAnisotropicFiltering&&"undefined"!==typeof S&&c.texParameterf(c.TEXTURE_2D,ca.wl().TEXTURE_MAX_ANISOTROPY_EXT,S.Tj);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,A.isLinear?c.LINEAR:c.NEAREST);A.isLinear?c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,A.isMipmap&&!Da?c.NEAREST_MIPMAP_LINEAR:c.LINEAR):c.texParameteri(c.TEXTURE_2D,
c.TEXTURE_MIN_FILTER,A.isMipmap&&!Da?c.NEAREST_MIPMAP_NEAREST:c.NEAREST);ta=I[A.F-1];$a=u[A.F-1];Ya=F[v];if(za.ja()){var aa=za.yl();ta===c.RGBA&&Ya===c.FLOAT?A.isMipmap||A.isLinear?$a=yb.Al(c):za.ea()?aa&&($a=aa):$a=c.RGBA16F||c.RGBA:ta===c.RGB&&Ya===c.FLOAT&&aa&&($a=aa,ta=c.RGBA)}if(A.S&&!A.isFloat||A.isFloat&&A.isMipmap&&yb.pm())$a=za.zl(),Ya=za.Xe(c);A.Jf&&(Y=A.Jf);A.isSrgb&&4===A.F&&(ta=ca.Pl());if(A.ia)H(A.ia);else if(A.url)H(Ma);else if(Fa){aa=Fa;try{"FUCKING_BIG_ERROR"!==c.getError()&&(c.texImage2D(c.TEXTURE_2D,
0,$a,ka,fa,0,ta,Ya,aa),c.getError()!==c.NO_ERROR&&(c.texImage2D(c.TEXTURE_2D,0,$a,ka,fa,0,ta,Ya,null),c.getError()!==c.NO_ERROR&&c.texImage2D(c.TEXTURE_2D,0,c.RGBA,ka,fa,0,c.RGBA,c.UNSIGNED_BYTE,null)))}catch(jd){c.texImage2D(c.TEXTURE_2D,0,$a,ka,fa,0,ta,Ya,null)}A.isKeepArray||(Fa=null)}else aa=c.getError(),"FUCKING_BIG_ERROR"!==aa&&(c.texImage2D(c.TEXTURE_2D,0,$a,ka,fa,0,ta,Ya,null),aa=c.getError(),aa!==c.NO_ERROR&&(ta=c.RGBA,A.S&&Ya!==c.FLOAT&&(Ya=c.FLOAT,c.texImage2D(c.TEXTURE_2D,0,$a,ka,fa,0,
ta,Ya,null))));if(A.isMipmap)if(!Da&&Ha)Ha.md(),ja=!0;else if(Da){aa=Math.log2(Math.min(ka,fa));P=Array(1+aa);P[0]=Qa;for(var qa=1;qa<=aa;++qa){var gb=Math.pow(2,qa),Ja=ka/gb;gb=fa/gb;var Fb=c.createTexture();a(Fb);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);c.texImage2D(c.TEXTURE_2D,0,$a,Ja,gb,0,ta,Ya,null);a(null);P[qa]=Fb}ja=!0}a(null);k[n]=-1;Ra&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1);U=!0;A.R&&Ha&&(A.R(Ha),A.R=null)}}
function Q(){for(var aa=ka*fa,qa=2*aa,gb=3*aa,Ja=0;Ja<aa;++Ja)La[0][Ja]=Cb[Ja],La[1][Ja]=Cb[Ja+aa],La[2][Ja]=Cb[Ja+qa],La[3][Ja]=Cb[Ja+gb]}function Z(){var aa=ka*fa*4;Ia=[new Uint8Array(aa),new Uint8Array(aa),new Uint8Array(aa),new Uint8Array(aa)];La=[new Float32Array(Ia[0].buffer),new Float32Array(Ia[1].buffer),new Float32Array(Ia[2].buffer),new Float32Array(Ia[3].buffer)];ub=new Uint8Array(4*aa);Cb=new Float32Array(ub.buffer);xa=!0}function ia(){X=new Uint8Array(ka*fa*4);Va=new Float32Array(X.buffer);
Ba=!0}var X,A=Object.assign({},g,q),B=C++;null===A.isFlipY&&(A.isFlipY=A.url||A.array?!0:!1);A.data&&(A.array="string"===typeof A.data?kb(A.data):A.isFloat?new Float32Array(A.data):new Uint8Array(A.data),A.isFlipY=!1);var v=0,M=A.ia?!0:!1,da=null,ha=null,na=!1,ua=null;A.S=A.S||A.isFloat;A.S&&(v=1);!A.gm&&A.isFloat&&h&&!za.ea()&&(A.isFloat=!1);A.isFloat&&(v=2);A.isAnisotropicFiltering&&r&&!ca.om()&&(A.isAnisotropicFiltering=!1);var Qa=A.Gh||c.createTexture(),Ma=null,Fa=!1,ka=0,fa=0,U=!1,ea=!1,xa=!1,
La=null,Ia=null,ub=null,Cb=null,$a=null,ta=null,Ya=null,Ra=A.isFlipY,$b=(q=A.S&&A.isMipmap)&&yb.Ck(),Da=q&&$b?!0:!1,P=null,Y=-1,ja=!1,Ba=!1,Va=X=null;A.width&&(ka=A.width,fa=A.height?A.height:ka);var Ha={get:function(){return Qa},L:function(){return ka},Y:function(){return fa},Rl:function(){return A.url},Zh:function(){return A.isFloat},$h:function(){return A.S},Dp:function(){return A.isLinear},md:function(){c.generateMipmap(c.TEXTURE_2D)},tk:function(aa,qa){Da?(aa||(aa=Ha.Dh()),l.oe(qa),a(P[aa]),
k[qa]=-1):Ha.g(qa)},Dh:function(){-1===Y&&(Y=Math.log(ka)/Math.log(2));return Y},pl:function(aa){if(Da){aa||(aa=Ha.Dh());ba.set("s12");l.oe(0);for(var qa=ka,gb=fa,Ja=1;Ja<=aa;++Ja)qa/=2,gb/=2,ba.N("u8",.25/qa,.25/gb),c.viewport(0,0,qa,gb),a(P[Ja-1]),c.framebufferTexture2D(wa.qd(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,P[Ja],0),V.l(!1,1===Ja);k[0]=-1}else Ha.md()},Xp:function(aa){(M=!(Array.isArray(aa)||aa.constructor===Float32Array||aa.constructor===Uint8Array))?(Fa=null,A.ia=aa,G()):Fa=aa},g:function(aa){if(!U)return!1;
l.oe(aa);if(k[aa]===B)return!1;a(Qa);k[aa]=B;return!0},Gb:function(aa){c.activeTexture(m[aa]);n=aa;a(Qa);k[aa]=B},o:function(){p=Ha;c.framebufferTexture2D(wa.qd(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,Qa,0)},M:function(){p=Ha;c.viewport(0,0,ka,fa);c.framebufferTexture2D(wa.qd(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,Qa,0)},Yd:l.Yd,resize:function(aa,qa){ka=aa;fa=qa;N()},clone:function(aa){aa=l.instance({width:ka,height:fa,S:A.S,isFloat:A.isFloat,isLinear:A.isLinear,isMirrorY:A.isMirrorY,isFlipY:aa?!Ra:Ra,isPot:A.isPot});
pb.set("s0");wa.ha();aa.o();c.viewport(0,0,ka,fa);Ha.g(0);V.l(!0,!0);return aa},Lc:function(){c.viewport(0,0,ka,fa)},remove:function(){c.deleteTexture(Qa);ea=!0;D.splice(D.indexOf(Ha),1);Ha=null},refresh:function(){Ha.Gb(0);Ra&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);M?c.texImage2D(c.TEXTURE_2D,0,$a,ta,Ya,A.ia):c.texImage2D(c.TEXTURE_2D,0,$a,ka,fa,0,ta,Ya,Fa);Ra&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},Ei:function(){xa||Z();c.readPixels(0,0,ka,4*fa,c.RGBA,c.UNSIGNED_BYTE,ub);Q();return La},$m:function(){xa||
Z();return za.Xf(0,0,ka,4*fa,ub).then(function(){Q();return La})},bn:function(){Ba||ia();c.readPixels(0,0,ka,fa,c.RGBA,c.UNSIGNED_BYTE,X);return Va},an:function(){Ba||ia();return za.Xf(0,0,ka,fa,X)},jh:function(aa){wa.$();ba.set("s13");Ha.g(0);if(aa)c.viewport(0,0,ka,fa),ba.On("u9",.25,.25,.25,.25),V.l(!1,!0);else for(aa=0;4>aa;++aa)c.viewport(0,fa*aa,ka,fa),ba.Ba("u9",z[aa]),V.l(!1,0===aa)},Cg:function(aa){var qa;if(qa=Ya===F[0])null!==w.mf?qa=w.mf:(qa=d(new Uint8Array([127,127,127,127])),qa=null===
qa?!0:w.mf=qa),qa=!qa;a(Qa);Ra&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);qa?(na||(da=document.createElement("canvas"),da.width=ka,da.height=fa,ha=da.getContext("2d"),ua=ha.createImageData(ka,fa),na=!0),ua.data.set(aa),ha.putImageData(ua,0,0),c.texImage2D(c.TEXTURE_2D,0,$a,ta,Ya,da)):c.texImage2D(c.TEXTURE_2D,0,$a,ka,fa,0,ta,Ya,aa);k[n]=B;Ra&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},iq:function(aa,qa){a(Qa);qa&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);c.texImage2D(c.TEXTURE_2D,0,$a,ta,Ya,aa);k[n]=B;
qa&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},Hc:function(aa,qa){var gb=ka*fa,Ja=4*gb;aa=A.S?aa?"RGBE":"JSON":"RGBA";qa&&(aa=qa);qa=za.ja()&&!1;var Fb=null;switch(aa){case "RGBE":Fb="s43";break;case "JSON":Fb=qa?"s0":"s13";break;case "RGBA":case "RGBAARRAY":Fb="s7"}xa||("RGBA"===aa||"RGBE"===aa||"RGBAARRAY"===aa?(Ia=new Uint8Array(Ja),xa=!0):"JSON"!==aa||qa||Z());wa.$();ba.set(Fb);Ha.g(0);Ja=null;if("RGBA"===aa||"RGBE"===aa||"RGBAARRAY"===aa){c.viewport(0,0,ka,fa);V.l(!0,!0);c.readPixels(0,0,ka,fa,
c.RGBA,c.UNSIGNED_BYTE,Ia);if("RGBAARRAY"===aa)return{data:Ia};f||(y=document.createElement("canvas"),L=y.getContext("2d"),f=!0);y.width=ka;y.height=fa;gb=L.createImageData(ka,fa);gb.data.set(Ia);L.putImageData(gb,0,0);Ja=y.toDataURL("image/png")}else if("JSON"===aa)if(qa)Ja=new Float32Array(gb),c.viewport(0,0,ka,fa),V.l(!0,!0),c.readPixels(0,0,ka,fa,c.RGBA,c.FLOAT,Ja);else{for(Ja=0;4>Ja;++Ja)c.viewport(0,fa*Ja,ka,fa),ba.Ba("u9",z[Ja]),V.l(!Ja,!Ja);Ha.Ei();Ja=Array(gb);for(qa=0;qa<gb;++qa)Ja[4*qa]=
La[0][qa],Ja[4*qa+1]=La[1][qa],Ja[4*qa+2]=La[2][qa],Ja[4*qa+3]=La[3][qa]}return{format:aa,data:Ja,width:ka,height:fa,isMirrorY:A.isMirrorY,isFlipY:"RGBA"===aa?A.isFlipY:!A.isFlipY}}};A.isMipmap&&!Da&&U&&!ja&&(Ha.md(),ja=!0);if(A.url)a(Qa),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,1,1,0,c.RGBA,c.UNSIGNED_BYTE,null),Ma=new Image,Ma.Zo="Anonymous",Ma.crossOrigin="Anonymous",Ma.src=A.url,Ma.onload=function(){ka=Ma.width;fa=Ma.height;N()};else if(A.ia){var lb=function(){G();ka?N():setTimeout(lb,1)};lb()}else A.array?
(A.S&&!A.isFloat?A.array instanceof Uint16Array?(Fa=A.array,N()):e()?(Fa=b(A.array),N()):(N(),l.uh(c,Qa,Ha.L(),Ha.Y(),A.array,Ra,!0)):(Fa=A.isFloat?A.array instanceof Float32Array?A.array:new Float32Array(A.array):A.array instanceof Uint8Array?A.array:new Uint8Array(A.array),N()),A.isKeepArray||(Fa&&Fa!==A.array&&(Fa=null),delete A.array)):A.Gh?U=!0:N();Ha.wp=Ha.L;A.R&&U&&(A.R(Ha),A.R=null);D.push(Ha);return Ha},$:function(q){q!==n&&(c.activeTexture(m[q]),n=q);k[q]=-1;a(null)},vk:function(q){t.random.g(q)},
Yd:function(){p=null;c.framebufferTexture2D(wa.qd(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)},reset:function(){0!==n&&c.activeTexture(m[0]);for(var q=0;q<m.length;++q)k[q]=-1;n=-1},Pp:function(){n=-1},sj:function(){for(var q=0;q<m.length;++q)l.$(q)},K:function(){t&&(t.random.remove(),t.qj.remove())},Oc:function(q,G){if("RGBA"===q.format||"RGBE"===q.format){var H=new Image;H.src=q.data;H.onload=function(){l.instance({isMirrorY:q.isMirrorY,isFlipY:q.isFlipY,isFloat:!1,ia:H,R:function(N){if("RGBA"===
q.format)G(N);else{var Q=q.width,Z=q.height,ia=l.instance({isMirrorY:q.isMirrorY,isFloat:!0,width:Q,height:Z,isFlipY:q.isFlipY});wa.ha();c.viewport(0,0,Q,Z);ba.set("s44");ia.o();N.g(0);V.l(!0,!0);l.$(0);G(ia);za.flush();setTimeout(N.remove,50)}}})}}else"JSON"===q.format?G(l.instance({isFloat:!0,isFlipY:q.isFlipY,width:q.width,height:q.height,array:new Float32Array(q.data)})):G(!1)},Ik:b,v:function(){p&&(wa.ha(),l.Yd(),wa.$());l.sj();D.slice(0).forEach(function(q){q.remove()});D.splice(0);x=!1;C=0;
"undefined"!==typeof yb&&yb.v();t=null}};return l}(),Ac={instance:function(a){var b=[W.instance(a),W.instance(a)],e=[b[1],b[0]],d=e,n={Ui:function(m){d[1].o();d[0].g(m);n.gj()},yn:function(m){d[1].M();d[0].g(m);n.gj()},gj:function(){d=d===b?e:b},refresh:function(){d[0].refresh();d[1].refresh()},g:function(m){d[0].g(m)},uk:function(m){d[1].g(m)},rp:function(){return d[0]},up:function(){return d[1]},Cg:function(m){d[0].Cg(m);d[1].Cg(m)},remove:function(){d[0].remove();d[1].remove();d=null},sync:function(){n.yn(0);
ba.set("s0");V.l(!1,!1)}};return n}},V=function(){function a(t){var p={ga_:null,U:null};p.ga_=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,p.ga_);t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),t.STATIC_DRAW);p.U=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,p.U);t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),t.STATIC_DRAW);return p}var b=null,e=0,d=!1,n=[],m=-2,C=-2,k={reset:function(){C=m=-2},m:function(){d||(b=a(c),k.se(),d=!0)},instance:function(t){var p=e++,
F=t.U?t.U.length:0,I="undefined"===typeof t.mode?c.STATIC_DRAW:t.mode,u=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,u);c.bufferData(c.ARRAY_BUFFER,t.ga_ instanceof Float32Array?t.ga_:new Float32Array(t.ga_),I);m=p;var x=null,D=null,g=null;if(t.U){x=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,x);var f=null;65536>t.U.length?(f=Uint16Array,D=c.UNSIGNED_SHORT,g=2):(f=Uint32Array,D=c.UNSIGNED_INT,g=4);f=t.U instanceof f?t.U:new f(t.U);c.bufferData(c.ELEMENT_ARRAY_BUFFER,f,I);C=p}var y={tc:function(L){m!==
p&&(c.bindBuffer(c.ARRAY_BUFFER,u),m=p);L&&pb.Od()},rk:function(){C!==p&&(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,x),C=p)},bind:function(L){y.tc(L);y.rk()},V:function(){c.drawElements(c.TRIANGLES,F,D,0)},Ja:function(L,z){c.drawElements(c.TRIANGLES,L,D,z*g)},remove:function(){c.deleteBuffer(u);t.U&&c.deleteBuffer(x);y=null}};n.push(y);return y},se:function(){-1!==m&&(c.bindBuffer(c.ARRAY_BUFFER,b.ga_),m=-1);-1!==C&&(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,b.U),C=-1)},l:function(t,p){t&&V.se();p&&pb.Kc();c.drawElements(c.TRIANGLES,
3,c.UNSIGNED_SHORT,0)},Mb:function(t){t=t||c;var p=a(t);t.bindBuffer(t.ARRAY_BUFFER,p.ga_);t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,p.U);pb.cc(t);t.clear(t.COLOR_BUFFER_BIT);t.drawElements(t.TRIANGLES,3,t.UNSIGNED_SHORT,0);t.flush();t.bindBuffer(t.ARRAY_BUFFER,null);t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);t.deleteBuffer(p.ga_);t.deleteBuffer(p.U);k.reset();d&&(k.se(),pb.Kc())},K:function(){var t=c,p=b;t.deleteBuffer(p.ga_);t.deleteBuffer(p.U)},v:function(){k.K();n.forEach(function(t){t.remove()});c.bindBuffer(c.ARRAY_BUFFER,
null);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,null);k.reset();d=!1;n.splice(0);e=0}};return k}(),wa=function(){var a=null,b=null,e=null,d=!1,n=[],m={na:-2,th:1},C={Wb:function(){return d},m:function(){if(!d){a=c.createFramebuffer();var k=za.ja();b=k&&c.DRAW_FRAMEBUFFER?c.DRAW_FRAMEBUFFER:c.FRAMEBUFFER;e=k&&c.READ_FRAMEBUFFER?c.READ_FRAMEBUFFER:c.FRAMEBUFFER;d=!0}},xl:function(){return b},Ah:function(){return e},qd:function(){return c.FRAMEBUFFER},vp:function(){return m},kp:function(){return a},instance:function(k){void 0===
k.zc&&(k.zc=!1);var t=k.ka?k.ka:null,p=k.width,F=void 0!==k.height?k.height:k.width,I=a,u=null,x=!1,D=!1,g=0;t&&(p=p?p:t.L(),F=F?F:t.Y());var f={Oi:function(){x||(I=c.createFramebuffer(),x=!0,g=m.th++)},Vc:function(){f.Oi();f.o();u=c.createRenderbuffer();c.bindRenderbuffer(c.RENDERBUFFER,u);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,p,F);c.framebufferRenderbuffer(b,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,u);c.clearDepth(1)},bind:function(y,L){g!==m.na&&(c.bindFramebuffer(b,I),m.na=g);t&&t.o();
L&&c.viewport(0,0,p,F);y&&c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)},Rg:function(){g!==m.na&&(c.bindFramebuffer(b,I),m.na=g)},clear:function(){c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)},ze:function(){c.clear(c.COLOR_BUFFER_BIT)},Yg:function(){c.clear(c.DEPTH_BUFFER_BIT)},Lc:function(){c.viewport(0,0,p,F)},o:function(){g!==m.na&&(c.bindFramebuffer(b,I),m.na=g)},rtt:function(y){t=y;m.na!==g&&(c.bindFramebuffer(c.FRAMEBUFFER,I),m.na=g);y.o()},$:function(){c.bindFramebuffer(b,null);m.na=-1},
resize:function(y,L){p=y;F=L;u&&(c.bindRenderbuffer(c.RENDERBUFFER,u),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,p,F))},remove:function(){I===a||D||(c.bindFramebuffer(b,I),c.framebufferTexture2D(b,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),u&&c.framebufferRenderbuffer(b,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,null),c.bindFramebuffer(b,null),c.deleteFramebuffer(I),u&&c.deleteRenderbuffer(u));D=!0}};k.zc&&f.Vc();n.push(f);return f},$:function(){c.bindFramebuffer(b,null);m.na=-1},gq:function(){c.bindFramebuffer(b,
null);c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);za.dj();m.na=-1},reset:function(){m.na=-2},ha:function(){0!==m.na&&(c.bindFramebuffer(b,a),m.na=0)},clear:function(){za.dj();c.clear(c.COLOR_BUFFER_BIT)},v:function(){C.$();n.forEach(function(k){k.remove()});null!==a&&(c.deleteFramebuffer(a),a=null);C.reset();d=!1;n.splice(0);m.th=1}};return C}(),za=function(){function a(){n="undefined"===typeof fb?ca:fb;m=!0}function b(f,y){for(var L=0;L<f.length;++L){var z=y.getExtension(f[L]);if(z)return z}return null}
function e(){null!==x.Xd&&(clearInterval(x.Xd),x.Xd=null);x.Rb=!1}function d(){x.xc&&(c.deleteSync(x.xc),x.xc=null)}var n=null,m=!1,C={Sh:!1,ug:null,vg:null,Wh:!1,mm:!1,wg:null,Xh:!1,xg:null,Th:!1,Ae:null,dm:!1,Be:null,em:!1},k=null,t={Ta:!0,Va:!0,Se:!0,Di:!1},p=null,F=!0,I=null,u=null,x={Rb:!1,Ob:null,xc:null,bf:-1,Ka:null,Xd:null},D="undefined"===typeof window?{}:window,g={m:function(){if(m)return!0;g.reset();m||a();var f=c;if(!k.Sh){k.ug=g.qh(f);D.GL_EXT_FLOAT=k.ug;k.Wh=k.ug?!0:!1;if(k.Wh||g.ja())k.vg=
g.rh(f),k.mm=k.vg?!0:!1,D.GL_EXT_FLOATLINEAR=k.vg;k.Sh=!0}if(!k.Th){k.wg=g.hd(f);k.wg&&(k.Xh=!0,D.GL_EXT_HALFFLOAT=k.wg);if(k.Xh||g.ja())k.xg=g.sh(f),D.GL_EXT_HALFFLOATLINEAR=k.xg;k.Bp=k.xg?!0:!1;k.Th=!0}k.Ae=g.oh(f);k.dm=k.Ae?!0:!1;D.GL_EXT_COLORBUFFERFLOAT=k.Ae;k.Be=g.ph(f);k.em=k.Be?!0:!1;D.GL_EXT_COLORBUFFERHALFFLOAT=k.Be;wa.m();W.m();if(!g.Uk())return!1;V.m();W.Yl();return!0},reset:function(){k=Object.assign({},C);p=Object.assign({},t)},L:function(){m||a();return n.L()},Y:function(){m||a();return n.Y()},
ja:function(){m||a();return n.ja()},nh:function(f){g.oh(f);g.ph(f);g.qh(f);g.rh(f);g.hd(f);g.sh(f)},oh:b.bind(null,["EXT_color_buffer_float","WEBGL_color_buffer_float","OES_color_buffer_float"]),ph:b.bind(null,["EXT_color_buffer_half_float","WEBGL_color_buffer_half_float","OES_color_buffer_half_float"]),qh:b.bind(null,["OES_texture_float","MOZ_OES_texture_float","WEBKIT_OES_texture_float"]),rh:b.bind(null,["OES_texture_float_linear","MOZ_OES_texture_float_linear","WEBKIT_OES_texture_float_linear"]),
hd:b.bind(null,["OES_texture_half_float","MOZ_OES_texture_half_float","WEBKIT_OES_texture_half_float"]),sh:b.bind(null,["OES_texture_half_float_linear","MOZ_OES_texture_half_float_linear","WEBKIT_OES_texture_half_float_linear"]),Xe:function(f){var y=g.hd(f);return y&&y.HALF_FLOAT_OES?y.HALF_FLOAT_OES:f.HALF_FLOAT||f.FLOAT},yl:function(){return u||c.RGBA32F||c.RGBA},zl:function(){return I||c.RGBA16F||c.RGBA},sl:function(){return p},ea:function(){return p.Ta},Uo:function(){return p.Va},Bk:function(){return p.Se},
Ek:function(){return p.Di&&F},pj:function(f){F=f;!f&&x.Rb&&(d(),c.bindBuffer(x.Ka,null),x.Rb=!1)},Ep:function(){return x.Rb},Ud:function(f,y,L){function z(){f.bindTexture(f.TEXTURE_2D,null);f.bindFramebuffer(r,null);f.deleteTexture(O);f.deleteFramebuffer(K)}var r=f.FRAMEBUFFER,h=f.NEAREST,K=f.createFramebuffer();f.bindFramebuffer(r,K);var O=f.createTexture();f.activeTexture(f.TEXTURE0);f.bindTexture(f.TEXTURE_2D,O);f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,!1);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,
f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,h);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,h);f.texImage2D(f.TEXTURE_2D,0,y,3,3,0,f.RGBA,L,null);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,O,0);if(f.checkFramebufferStatus(f.READ_FRAMEBUFFER||f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE)return z(),!1;pb.Md(f);f.clearColor(0,0,0,0);f.viewport(0,0,3,3);f.disable(f.DEPTH_TEST);f.clear(f.COLOR_BUFFER_BIT);
V.Mb(f);f.bindFramebuffer(r,null);pb.vb(f);f.activeTexture(f.TEXTURE0);f.bindTexture(f.TEXTURE_2D,O);V.Mb(f);y=new Uint8Array(36);f.readPixels(0,0,3,3,f.RGBA,f.UNSIGNED_BYTE,y);z();for(L=0;36>L;++L)if(3!==L%4&&3<Math.abs(y[L]-127))return!1;return!0},Ke:function(f){var y={Ta:!1,Va:!1};f.disable(f.BLEND);f.clearColor(0,0,0,0);f.clear(f.COLOR_BUFFER_BIT);f.RGBA32F&&g.Ud(f,f.RGBA32F,f.FLOAT)&&(y.Ta=!0,u=f.RGBA32F);!y.Ta&&g.Ud(f,f.RGBA,f.FLOAT)&&(y.Ta=!0,u=f.RGBA);var L=g.Xe(f);I=null;f.RGBA16F&&g.Ud(f,
f.RGBA16F,L)&&(y.Va=!0,I=f.RGBA16F);!y.Va&&g.Ud(f,f.RGBA,L)&&(y.Va=!0,I=f.RGBA);return y},Wk:function(){var f=wa.instance({width:2});f.Oi();var y=W.instance({width:2,isFloat:!0,F:3});f.o();y.o();g.flush();c.checkFramebufferStatus(wa.Ah())!==c.FRAMEBUFFER_COMPLETE?(W.Jn(),p.Se=!1):p.Se=!0;f.remove();y.remove()},Xk:function(){var f=!1;g.ja()&&(f="PIXEL_PACK_BUFFER STREAM_READ SYNC_GPU_COMMANDS_COMPLETE WAIT_FAILED fenceSync deleteSync createBuffer".split(" ").every(function(y){return"undefined"!==typeof c[y]}));
p.Di=f},Uk:function(){var f=g.Ke(c);Object.assign(p,f);if(!p.Ta&&!p.Va)return!1;g.Wk();g.Xk();return!0},cn:function(f,y,L,z,r){c.readPixels(f,y,L,z,c.RGBA,c.UNSIGNED_BYTE,r);return Promise.resolve(r,!1)},Xf:function(f,y,L,z,r,h){if(!g.Ek())return g.cn(f,y,L,z,r);null===x.Ob&&(x.Ka=c.PIXEL_PACK_BUFFER,x.Ob=c.createBuffer(),x.bf=-1);c.bindBuffer(x.Ka,x.Ob);r.byteLength!==x.bf&&(c.bufferData(x.Ka,r.byteLength,c.STREAM_READ),x.bf=r.byteLength);c.readPixels(f,y,L,z,c.RGBA,c.UNSIGNED_BYTE,0);x.xc=c.fenceSync(c.SYNC_GPU_COMMANDS_COMPLETE,
0);g.flush();var K=!1;return new Promise(function(O,w){function l(){if(!x.Rb)return e(),w(),!1;switch(c.clientWaitSync(x.xc,0,0)){case c.TIMEOUT_EXPIRED:case c.WAIT_FAILED:return!1;default:return e(),d(),c.getBufferSubData(x.Ka,0,r),c.bindBuffer(x.Ka,null),O(r,K),!0}}e();x.Rb=!0;l()||(h&&!K&&(K=!0,h()),x.Xd=setInterval(l,0))})},dj:function(){c.viewport(0,0,g.L(),g.Y())},flush:function(){c.flush()},v:function(){e();d();W.v();wa.v();V.v();null!==x.Ob&&(c.deleteBuffer(x.Ob),x.Ob=null);pb.reset();m=!1}};
return g}(),yb=function(){function a(h,K,O,w){f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,w?f.NEAREST_MIPMAP_NEAREST:f.LINEAR);var l=null;if(null!==O)try{l=f.getError();if("FUCKING_BIG_ERROR"===l)return!1;f.texImage2D(f.TEXTURE_2D,0,h,4,4,0,f.RGBA,K,O);l=f.getError();if(l!==f.NO_ERROR)return!1}catch(q){return!1}w&&f.generateMipmap(f.TEXTURE_2D);f.clear(f.COLOR_BUFFER_BIT);V.Mb(f);l=f.getError();if("FUCKING_BIG_ERROR"===l)return!1;f.readPixels(0,0,2,2,f.RGBA,f.UNSIGNED_BYTE,F);l=f.getError();
l===f.INVALID_OPERATION&&"undefined"!==typeof f.PIXEL_PACK_BUFFER&&(f.bindBuffer(f.PIXEL_PACK_BUFFER,null),f.readPixels(0,0,2,2,f.RGBA,f.UNSIGNED_BYTE,F),l=f.getError());if(l!==f.NO_ERROR)return!1;O=!0;for(w=0;16>w;++w)O=O&&4>Math.abs(F[w]-127);O&&(t.yi=K,t.Qh=h);return O}function b(h,K){return y.Ta&&a(h,f.FLOAT,new Float32Array(I),K)?(k=C.Og,!0):!1}function e(h,K,O){if(!y.Va)return!1;var w=W.Ik(I),l=za.hd(f);if(l&&l.HALF_FLOAT_OES&&a(h,l.HALF_FLOAT_OES,w,K)||f.HALF_FLOAT&&a(h,f.HALF_FLOAT,w,K))return k=
C.oc,!0;w=new Float32Array(I);if(a(h,f.FLOAT,w,K))return k=C.oc,!0;f.bindTexture(f.TEXTURE_2D,O);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,2,2,0,f.RGBA,f.UNSIGNED_BYTE,null);f.bindFramebuffer(t.cd,r);W.uh(f,O,2,2,w,!1,!1);f.bindFramebuffer(t.cd,null);f.bindTexture(f.TEXTURE_2D,O);return a(h,null,null,K)?(k=C.oc,!0):!1}function d(h,K,O){p=!0;if(e(h,!0,O)||b(K,!0))return!0;p=!1;return e(h,!1,O)||b(K,!1)?!0:!1}function n(h){if(k===C.I){f=h||c;k=C.RGBA8;p=!0;za.nh(f);y||(y=za.Ke(f));wa.reset();r=f.createFramebuffer();
t.cd=f.DRAW_FRAMEBUFFER||f.FRAMEBUFFER;f.bindFramebuffer(t.cd,null);f.clearColor(0,0,0,0);f.viewport(0,0,2,2);ba.I();L=ba.vb(f);h=f.createTexture();f.activeTexture(f.TEXTURE0);f.bindTexture(f.TEXTURE_2D,h);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST);z=h;var K=h=f.RGBA,O=f.RGBA16F,w=f.RGBA32F;w&&(h=w);O&&(K=O);if((O||w)&&d(K,h,z))return m(),!0;h=K=f.RGBA;if(d(K,h,z))return m(),
!0;k=C.RGBA8;m();return!1}}function m(){f.deleteProgram(L.pa);f.deleteTexture(z);z=L=null}for(var C={I:-1,Og:3,oc:2,RGBA8:0},k=C.I,t={yi:null,Qh:null,cd:null},p=!0,F=new Uint8Array(16),I=Array(64),u=0;4>u;++u)for(var x=0;4>x;++x){var D=0===(x+u)%2?1:0,g=4*u+x;I[4*g]=D;I[4*g+1]=D;I[4*g+2]=D;I[4*g+3]=D}var f=null,y=null,L=null,z=null,r=null;return{Ck:function(h){n(h);return p},Wg:function(h,K){k===C.I&&(typeof("undefined"!==K)&&(y=K),n(h));return k!==C.RGBA8},Cp:function(h){n(h);return k===C.Og},pm:function(h){n(h);
return k===C.oc},qp:function(h){n(h);return t.yi},Al:function(h){n(h);return t.Qh},v:function(){f=null;p=!0;k=C.I;y=null}}}(),$c={instance:function(a){var b=W.instance(a.alpha),e=W.instance(a.beta);return{dl:function(){b.g(1);e.g(2)}}}},Oc={instance:function(a){var b=null,e=!1,d=!1,n=null,m=!1,C=!1,k=null,t="undefined"===typeof a.preprocessing?!1:a.preprocessing,p="undefined"===typeof a.preprocessingSize?a.size:a.preprocessingSize;a.mask&&(e=!0,J&&void 0!==J.aa&&(a.mask=J.aa+a.mask),b=W.instance({isFloat:!1,
url:a.mask}));var F=!1;a.customInputShader&&(F="s45",ba.qa({name:"_",id:F,h:a.customInputShader,hq:["uSource"],precision:"lowp"}),ba.j(F,[{type:"1i",name:"_",value:0}]));switch(t){case "sobel":k="s32";m=!0;break;case "meanNormalization":k="s33";m=!0;break;case "grayScale":k="s29";m=!1;break;case "grayScaleTilt":k="s30";C=!0;m=!1;break;case "rgbGrayTilt":k="s31";C=!0;m=!1;break;case "copy":k=F?F:"s0";break;case "inputLightRegulation":k=F?F:"s29";n=ad.instance({Ph:p,si:a.size,mi:a.nBlurPass,vd:!1});
d=!0;break;case "inputMix0":k="none";n=bd.instance({wa:p,yj:a.varianceMin,Sg:a.blurKernelSizePx,vd:!1});d=!0;break;case "direct":case "none":k="abort";break;default:k="s4"}C&&ba.j(k,[{name:"u27",type:"1f",value:a.tilt}]);e&&(k+="Mask");var I=W.instance({isFloat:!1,isPot:!1,width:a.size}),u={L:function(){return p},Ye:function(){return u.L()},Fl:function(){return d?n.Ze():I},Aa:function(x){wa.ha();"abort"!==k&&("none"!==k&&(ba.set(k),m&&ba.G("u28",1/a.size),I.M(),e&&b.g(1),V.l(!1,!1),I.g(0),x=I),d&&
n.process(x))},v:function(){I.remove();e&&b.remove()}};return u}},Pc={instance:function(a){function b(H){n.forEach(function(N,Q){m[Q][0]=H[0][N];m[Q][1]=H[1][N];m[Q][2]=H[2][N];m[Q][3]=H[3][N]});return m}a.normalize=a.normalize||!1;var e={input:null,bias:null,qf:null,Pa:null,Dd:null,Rf:null,Sf:null},d=null,n=[],m=[],C=!1,k=null,t=!0,p=-1,F=a.isReorganize?a.isReorganize:!1,I=a.kernelsCount?!0:!1,u=a.dynPelu?$c.instance(a.dynPelu):!1,x=u?!0:!1,D={isEnabled:!1};a.jm?(a.sparsity="undefined"!==typeof a.sparsity?
a.sparsity:a.Id.Ye(),t=!1):"full"===a.connectivityUp&&(a.sparsity=a.Id.Ye());var g={elu:"s16",elu01:"s17",relu:"s15",arctan:"s19",sigmoid:"s14",copy:"s0",softplus:"s20",dynPelu:"s18"}[a.activation],f=a.sparsity*a.sparsity,y=!1,L=a.size,z="";if(a.maxPooling){switch(a.maxPooling.size){case 2:z="s34";break;case 4:z="s35"}y=!0;L/=a.maxPooling.size;e.Rf=W.instance({isFloat:!0,isPot:!1,width:L})}var r=a.normalization?!0:!1,h=null,K=null,O=null;if(r){h="s46"+a.index.toString();ba.Nh("s46",h,[((a.normalization.n-
1)/2).toFixed(1)]);ba.j(h,[{type:"1i",name:"u1",value:0},{type:"2f",name:"u8",value:[1/a.size,1/a.size]},{type:"1f",name:"u7",value:a.normalization.alpha},{type:"1f",name:"u10",value:a.normalization.beta},{type:"1f",name:"u31",value:a.normalization.k}]);var w={isFloat:!0,isPot:!0,width:a.size};K=W.instance(w);O=W.instance(w)}var l=-1,q=null;t&&(e.Pa=W.instance({isFloat:!0,isPot:!1,width:a.size}));e.bias=W.instance(a.bias);var G={L:function(){return a.size},Ye:function(){return L},xh:function(){return a.classesCount},
sk:function(H){d.g(H)},Tm:function(){a.remap&&a.remap.isEnabled&&(D={isEnabled:!0,Dm:W.instance({isFloat:!1,isFlipY:!1,array:new Uint8Array(a.remap.maskTexture.data),width:a.remap.maskTexture.width,isPot:!1}),xd:a.remap.layers.map(function(H){return a.parent.Cl(H)}),depth:a.remap.depth})},Kn:function(){switch(a.connectivityUp){case "direct":q=cd.instance(a.connectivity);break;case "square":q=dd.instance(a.connectivity);break;case "squareFast":q=ed.instance(a.connectivity,a.activation);break;case "full":q=
fd.instance(a.connectivity);break;case "conv":p=a.kernelsCount,q=gd.instance(a.connectivity),F&&(e.Dd=W.instance({width:L,isFloat:!0,isFlipY:!1,isPot:!1}))}if(q.hc){var H=a.size*a.sparsity;l=Math.log(H/a.size)/Math.log(2);e.input=W.instance({isMipmap:!0,isFloat:!0,isPot:!0,width:H,Jf:l});e.qf=W.instance({isFloat:!0,isPot:!0,width:a.size})}},Aa:function(H,N){d=H;q.hc?(e.input.M(),I&&e.bias.g(2),q.Aa(D),e.input.g(0),e.input.pl(l),e.qf.M(),I?ba.set("s0"):(ba.set("s28"),ba.G("u26",f),e.bias.g(1)),e.input.tk(l,
0),V.l(!1,!1),ba.set(g),r?K.o():e.Pa.o(),e.qf.g(0),x&&u.dl(),V.l(!1,!1)):(e.Pa.M(),e.bias.g(1),q.Aa());r&&(ba.set(h),O.o(),K.g(0),V.l(!1,!1),ba.set("s47"),ba.G("u7",1),e.Pa.o(),O.g(1),V.l(!1,!1));if(t)return y?(e.Rf.M(),e.Pa.g(0),ba.set(z),ba.N("u8",1/a.size,1/a.size),V.l(!1,!1),N=e.Rf):N=e.Pa,N.g(0),F&&(e.Dd.o(),ba.set("s22"),ba.N("u13",p,L/p),V.l(!1,!1),N=e.Dd,e.Dd.g(0)),N;var Q=e.Pa;a.normalize&&(ba.set("gpuRawAvg"===C?"s9":"s8"),ba.G("u4",1/a.size),e.Sf.M(),e.Pa.g(0),V.l(!1,!1),Q=e.Sf);H=null;
switch(C){case "cpuRGBA2Float":Q.jh(!1);N?H=G.Ym(Q).then(k):(Q=G.Zm(Q),k(Q));break;case "cpuMeanFloat":Q.jh(!0);if(N)H=Q.an().then(k);else{Q=Q.bn();for(var Z=0;Z<Q.length;++Z);k(Q)}break;case "gpuRawAvg":case "gpuRaw":Q.g(0);case "none":null!==k&&k(Q)}N&&null===H&&(H=Promise.resolve());return H},Kk:function(H){H&&(C=H.Tf||"none",k=H.Qf||null);e.Pa=W.instance({isFloat:!0,isPot:!0,isMipmap:!1,width:a.size});H="undefined"!==typeof a.classesCount&&a.classesCount?a.classesCount:a.size*a.size;for(var N=
0,Q=0,Z=0;N<H;++N)n.push(Q+(a.size-1-Z)*a.size),m.push([-1,-1,-1,-1]),++Q,Q===a.size&&(Q=0,++Z);a.normalize&&(e.Sf=W.instance({isFloat:!0,isPot:!0,width:a.size}))},Ym:function(H){return H.$m().then(b)},Zm:function(H){H=H.Ei();b(H);return m},v:function(){for(var H in e){var N=e[H];N&&N.remove()}q&&(q.v(),q=null)}};a.Id&&G.Kn(a.Id);return G}},cd={instance:function(a){var b=W.instance(a.weights);return{hc:!0,pd:function(){return 1},v:function(){b.remove()},Sl:function(){return b},Aa:function(){ba.set("s27");
b.g(1);V.l(!1,!1)}}}},fd={instance:function(a){var b=a.fromLayerSize,e=W.instance(a.weights);return{hc:!0,pd:function(){return b},v:function(){e.remove()},Aa:function(d){if(d.isEnabled){ba.set("s25");d.Dm.g(3);var n,m=Math.min(d.xd.length,d.depth);for(n=0;n<m;++n)d.xd[n].sk(4+n)}else ba.set("s24");ba.G("u17",a.toLayerSize);e.g(1);V.l(!1,!1)}}}},dd={instance:function(a){for(var b=a.fromLayerSize,e=a.toLayerSize,d=a.toSparsity,n=d*e,m=n/b,C=b/e,k=0,t=0,p=0,F=Array(d*e*d*e*4),I=Array(d*e*d*e*4),u=Array(b*
b),x=0;x<u.length;++x)u[x]=0;x=Math.floor(d/2);for(var D=.5/e,g=.5/b,f=.5/n,y=0;y<e;++y)for(var L=Math.round(y*C),z=0;z<e;++z){var r=Math.round(z*C),h=y/e,K=z/e;h+=D;K+=D;for(var O=0;O<d;++O){var w=L+O-x;0>w&&(w+=b);w>=b&&(w-=b);for(var l=0;l<d;++l){var q=k/n,G=t/n,H=r+l-x;0>H&&(H+=b);H>=b&&(H-=b);var N=w/b,Q=H/b;G=1-G-1/n;N+=g;Q+=g;q+=f;G+=f;var Z=y*d+O,ia=z*d+l;ia=e*d-ia-1;Z=ia*e*d+Z;F[4*Z]=q;F[4*Z+1]=G;F[4*Z+2]=N;F[4*Z+3]=Q;Q=u[H*b+w]++;Z=Q%m;N=w*m+Z;H=H*m+(Q-Z)/m;H=b*m-1-H;H=H*b*m+N;I[4*H]=q;
I[4*H+1]=G;I[4*H+2]=h;I[4*H+3]=K;++k>=n&&(k=0,++t);++p}}}u=null;var X=W.instance(a.weights);delete a.weights.data;var A=W.instance({width:n,isFloat:!0,array:new Float32Array(I),isPot:!0});I=null;var B=W.instance({width:n,isFloat:!0,array:new Float32Array(F),isPot:!0});F=null;return{hc:!0,pd:function(){return m},v:function(){A.remove();B.remove();X.remove()},Aa:function(){ba.set("s23");X.g(1);B.g(2);V.l(!1,!1)}}}},gd={instance:function(a){var b=a.kernelsCount,e=a.toSparsity,d=e*a.toLayerSize/a.fromLayerSize,
n=W.instance(a.weights);return{hc:!0,pd:function(){return d},yp:function(){return e},Sl:function(){return n},v:function(){n.remove()},Aa:function(){ba.set("s26");ba.G("u23",b);ba.G("u24",e);ba.G("u17",a.toLayerSize);ba.G("u25",a.fromLayerSize);n.g(1);V.l(!1,!1)}}}},ed={instance:function(a,b){var e=a.fromLayerSize,d=a.toLayerSize,n=a.toSparsity,m=a.stride?a.stride:1,C=n*d/e,k=d<e,t=e/d,p=W.instance(a.weights),F="s48"+[e.toString(),d.toString(),n.toString(),m.toString(),b].join("_");ba.ml(F)||(a=jb(b),
d=[{type:"1f",name:"u17",value:d},{type:"1f",name:"u30",value:m}],k&&d.push({type:"1f",name:"u25",value:e}),e=[(k?C:n).toFixed(1),a],k&&e.push(t.toFixed(1)),ba.Nh(k?"s40":"s39",F,e),ba.j(F,d.concat([{type:"1i",name:"u15",value:0},{type:"1i",name:"u22",value:1},{type:"1i",name:"u14",value:3}])));return{hc:!1,pd:function(){return C},v:function(){p.remove()},Aa:function(){ba.set(F);p.g(3);V.l(!1,!1)}}}},ad={instance:function(a){var b=a.mi?a.mi:3,e=a.Ph?a.Ph:64,d=a.si?a.si:64,n=a.vd?!0:!1;a={isFloat:!1,
width:e,isPot:!1,isFlipY:!1};var m=W.instance(a),C=W.instance(a),k=W.instance(a),t=W.instance(a),p=W.instance({isFloat:!0,width:d,isPot:!1,isFlipY:!1}),F=1/e;return{process:function(I){ba.set("s36");t.o();V.l(n,!1);ba.set("s37");for(var u=0;u<b;++u)m.o(),ba.N("u8",F,0),V.l(n,!1),k.o(),t.g(0),V.l(n,!1),C.o(),m.g(0),ba.N("u8",0,F),V.l(n,!1),t.o(),k.g(0),V.l(n,!1),u!==b-1&&C.g(0);ba.set("s38");p.o();I.g(0);C.g(1);t.g(2);V.l(n,!1);p.g(0)},Ze:function(){return p}}}},bd={instance:function(a){function b(p){return W.instance({isFloat:p,
width:e.wa,isPot:!1,isFlipY:!1})}var e=Object.assign({yj:.1,Sg:9,wa:128,vd:!1},a),d=b(!1),n=[b(!1),b(!1),b(!1)],m=[b(!1),b(!1),b(!1)],C=b(!0),k=[d,m[0],m[1]];a="uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u32;varying vec2 vv0;void main(){float b=0.,c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u32*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j).r,c+=f;}b/=c,gl_FragColor=vec4(b,0.,0.,1.);}".replace("1.1111",Math.round((e.Sg-1)/2).toFixed(2)).replace("2.2222",(1/e.wa).toFixed(6));
var t={u1:0};ba.pe([{id:"s50",name:"_",h:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(.2126,.7152,.0722),g=vec3(1.,1.,1.);void main(){vec3 b=texture2D(u1,vv0).rgb;float a=dot(b,f);gl_FragColor=vec4(a,a,a,a);}",u:t,i:["u1"],precision:"lowp"},{id:"s51",name:"_",h:a,u:t,i:["u1","u32"],precision:"lowp"},{id:"s52",name:"_",h:"uniform sampler2D u33,u34,u35,u36;const float f=1.1111;const vec3 g=vec3(1.,1.,1.);varying vec2 vv0;void main(){vec3 a=texture2D(u33,vv0).rgb;float c=texture2D(u34,vv0).r,d=texture2D(u35,vv0).r,h=texture2D(u36,vv0).r,i=a.r*a.r;vec3 b=vec3(c,d,h),j=max(g*f,abs(i-b*b)),k=sqrt(j);gl_FragColor=vec4(a.r,(a-b)/k);}".replace("1.1111",
e.yj.toFixed(4)),u:{u33:0,u34:1,u35:2,u36:3},i:["u33","u34","u35","u36"],precision:"highp"}]);return{process:function(){ba.set("s50");d.M();V.l(e.vd,!1);ba.set("s51");for(var p=0;3>p;++p)ba.N("u32",1,0),n[p].o(),k[p].g(0),V.l(!1,!1),ba.N("u32",0,1),m[p].o(),n[p].g(0),V.l(!1,!1);ba.set("s52");C.o();d.g(0);m[0].g(1);m[1].g(2);m[2].g(3);V.l(!1,!1);C.g(0)},Ze:function(){return C}}}},xb=function(){function a(D,g,f,y,L,z,r){if(!u)if(r===z.length)L();else{switch(z[r]){case "A":f();break;case "D":D();break;
case "S":g().then(function(h,K){x.oj();a(D,g,f,K?null:y,L,z,++r)}).catch(function(h){L();throw h;});return;case "R":y&&y()}a(D,g,f,y,L,z,++r)}}var b={n:5,Of:1,di:0,ld:[35,49],gd:[2,200],k:.7,io:200,Om:.05},e=-1,d=null,n=-1,m=-1,C=0,k=-1,t=-1,p=0,F=0,I=b.gd[1],u=!0,x={T:function(){switch(e){case -1:return-1;case 0:return t+d.di;case 1:return p}},yh:function(D){return Math.pow(Math.min(Math.max(k,0),d.n-1)/(d.n-1),D||1)},m:function(D){d=Object.assign({},b,D);k=t=d.Of;e=0;x.reset()},oj:function(D){D=
("undefined"===typeof D?Date.now():D)||0;var g=Math.min(Math.max(D-F,d.gd[0]),d.gd[1]);I=g;F=D;var f=-1===n?0:d.k;n=Math.min(Math.max(1E3/g,5),120)*(1-f)+n*f;D-m>d.io&&5<++C&&(g=d.k,k=k*(1-g)+(n<d.ld[0]?t-1:n>d.ld[1]?t+1:t)*g,Math.abs(k-t)>1-d.Om&&(g=Math.min(Math.max(Math.round(k),0),d.n-1),g!==t&&(k=t=g,n=(d.ld[1]-d.ld[0])/2)),m=D)},Zf:function(D,g,f,y,L,z){u=!1;a(D,g,f,y,L,z,0)},stop:function(){u=!0},En:function(D){p=D;e=1},ho:function(){e=0;x.reset()},reset:function(){I=b.gd[1];m=n=-1;C=0},pp:function(){return I}};
return x}(),Bc=function(){var a={ni:4,Ed:[1.5,1.5,2],ta:[.1,.1,.1],Li:1,wa:-1,kf:-1,$n:2,Lm:1,Mi:!0,ll:.8},b=null,e=[],d=[0],n=[.5,.5,1];return{m:function(m){b=Object.assign({},a,m);e.splice(0);m=b.Ed[0]*b.ta[0];var C=b.Ed[1]*b.ta[1],k=1/(1+b.Ed[2]*b.ta[2]),t=b.Li*Math.min(b.wa,b.kf),p=t/b.wa;t/=b.kf;var F=.5*b.ll;F*=F;for(var I=0;I<b.ni;++I){var u=Math.pow(k,I),x=p*u,D=t*u;u=x*b.Lm;var g=x*m,f=D*C;x/=2;D/=2;for(var y=1+(1-x-x)/g,L=1+(1-D-D)/f,z=0;z<L;++z)for(var r=D+z*f,h=r-.5,K=0;K<y;++K){var O=
x+K*g,w=O-.5;w*w+h*h>F||e.push([O,r,u])}}b.Mi&&e.sort(function(l,q){var G=l[0]-.5;l=l[1]-.5;var H=q[0]-.5;q=q[1]-.5;return G*G+l*l-(H*H+q*q)})},get:function(m){var C=e.length;if(0===C)return n;for(;m>=d.length;)d.push(0);d[m]>=C&&(d[m]=0);var k=e[Math.floor(d[m])];d[m]=(d[m]+1/b.$n)%C;return k},reset:function(){for(var m=e.length/d.length,C=0;C<d.length;++C)d[C]=Math.floor(C*m)}}}(),tb=function(){function a(){e(g+x.Kf);f.port.postMessage("DONE")}function b(){var l=x.ma;h.isEnabled&&(l=Math.max(l,
h.ma));r.Wc=0===l?L(e):L(d)}function e(l){z.Ub&&null!==D&&(l-=g,l=Math.min(Math.max(l,x.mh[0]),x.mh[1]),g+=l,m(),h.isEnabled&&h.Ac&&z.Ma&&g-h.vf>x.Ng&&(p(),h.vf=g),D(g))}function d(l){z.Ub&&(r.timeout=window.setTimeout(e.bind(null,l),x.ma))}function n(){D=null;z.Ub=!1;m()}function m(){r.Wc&&(window.cancelAnimationFrame(r.Wc),r.Wc=null);r.timeout&&(window.clearTimeout(r.timeout),r.timeout=null)}function C(l){l&&!z.Ma?(z.Ma=!0,y&&xb.ho(),f.port.postMessage("STOP"),za.pj(!0),b()):!l&&z.Ma&&(z.Ma=!1,
y&&xb.En(1),za.pj(!1),f.port.postMessage("START"))}function k(l){l.target.hidden?O():K()}function t(l,q,G){q=l.createShader(q);l.shaderSource(q,G);l.compileShader(q);return q}function p(){h.Ac=!1;var l=h.Ua,q=h.rd,G=h.sd,H=h.Ka;l.uniform1f(h.Hh,Math.random());h.Vb?q.beginQueryEXT(H,G):l.beginQuery(H,G);l.drawElements(l.POINTS,1,l.UNSIGNED_SHORT,0);h.Vb?q.endQueryEXT(H):l.endQuery(H);za.flush();I().then(function(N){N=x.Gj*x.Lg*1E3/N;h.be=(h.be+1)%x.nc;h.wf[h.be]=N;if(++h.bi>x.nc){h.wd.set(h.wf);h.wd.sort(function(Z,
ia){return Z-ia});N=h.wd[Math.floor(x.nc/2)];h.kd=Math.max(h.kd,N);var Q=0;for(Q=0;Q<h.zg&&!(N>h.kd*(1-(x.Mg[Q]+x.Hj*(Q>=h.Wd?1:-1))));++Q)Q===h.zg-1&&++Q;Q!==h.Wd&&(console.log("THERMAL THROTTLING LEVEL = "+Q.toString()),h.Wd=Q,h.ma=0===Q?0:x.Fj[Q-1],x.Kg&&x.Kg(Q))}h.Ac=!0}).catch(function(){h.Ac=!0})}function F(l){var q=h.Ua,G=h.rd,H=h.sd;H=h.Vb?G.jp(H,G.QUERY_RESULT_AVAILABLE_EXT):q.getQueryParameter(H,q.QUERY_RESULT_AVAILABLE);q=q.getParameter(G.GPU_DISJOINT_EXT);H?l(!q):setTimeout(F.bind(null,
l),.1)}function I(){return new Promise(function(l,q){F(function(G){if(G){G=h.Ua;var H=h.rd,N=h.sd;G=h.Vb?H.getQueryObjectEXT(N,H.QUERY_RESULT_EXT):G.getQueryParameter(N,G.QUERY_RESULT);l(G)}else q()})})}var u={Uh:!0,mh:[1,200],Kf:20,ma:0,Ij:!1,Lg:50,Gj:240,Ng:3E3,nc:3,Mg:[.2,.35,.5],Hj:.05,Fj:[8,20,40],Kg:null},x=null,D=null,g=0,f=null,y=!1,L=null,z={La:!1,Ma:!0,uf:!1,tf:!1,sf:!1,Ub:!1},r={Wc:null,timeout:null},h={isEnabled:!1,Ac:!1,Ua:null,rd:null,sd:null,Ka:null,Hh:null,Vb:!0,Wd:0,zg:0,ma:0,vf:0,
bi:0,wf:null,wd:null,be:0,kd:0},K=C.bind(null,!0),O=C.bind(null,!1),w={m:function(l){x=Object.assign(u,l);Object.assign(z,{Ma:!0,La:!0,Ub:!1});L=window.requestPostAnimationFrame||window.requestAnimationFrame;if(x.Ij){l=document.createElement("canvas");l.setAttribute("width","1");l.setAttribute("height","1");var q={antialias:!1};l=l.getContext("webgl2",q)||l.getContext("webgl",q);if(q=l.getExtension("EXT_disjoint_timer_query")||l.getExtension("EXT_disjoint_timer_query_webgl2")){h.Ua=l;h.rd=q;h.isEnabled=
!0;h.Vb=q.beginQueryEXT?!0:!1;var G=t(l,l.VERTEX_SHADER,"attribute vec4 a0;void main(){gl_Position=a0;}"),H=t(l,l.FRAGMENT_SHADER,"precision lowp float;uniform float u37;void main(){vec4 a=u37*vec4(1.,2.,3.,4.);for(int b=0;b<666;b+=1)a=cos(a);gl_FragColor=a;}".replace("666",x.Lg.toString())),N=l.createProgram();l.attachShader(N,G);l.attachShader(N,H);l.linkProgram(N);G=l.getAttribLocation(N,"a0");h.Hh=l.getUniformLocation(N,"u37");l.useProgram(N);l.enableVertexAttribArray(G);N=l.createBuffer();l.bindBuffer(l.ARRAY_BUFFER,
N);l.bufferData(l.ARRAY_BUFFER,new Float32Array([.5,.5,0,1]),l.STATIC_DRAW);l.vertexAttribPointer(G,4,l.FLOAT,!1,16,0);N=l.createBuffer();l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,N);l.bufferData(l.ELEMENT_ARRAY_BUFFER,new Uint16Array([0]),l.STATIC_DRAW);l.disable(l.DEPTH_TEST);l.disable(l.DITHER);l.disable(l.STENCIL_TEST);l.viewport(0,0,1,1);N=h.Vb?q.createQueryEXT():l.createQuery();h.sd=N;h.Ka=q.TIME_ELAPSED_EXT||l.TIME_ELAPSED;h.Wd=0;h.zg=x.Mg.length;h.ma=0;h.vf=-x.Ng;h.wf=new Float32Array(x.nc);h.wd=
new Float32Array(x.nc);h.kd=0;h.be=0;h.bi=0;h.Ac=!0}}if(x.Uh){l=!1;try{if("undefined"===typeof SharedWorker){var Q=URL.createObjectURL(new Blob(["let handler = null;\n      self.addEventListener('message', function(e){\n        if (handler !== null){\n          clearTimeout(handler);\n          handler = null;\n        }\n        switch (e.data) {\n          case 'START':\n          case 'DONE':\n            handler = setTimeout(function(){\n              self.postMessage('TICK');\n            }, "+
x.Kf.toString()+");\n            break;\n          case 'STOP':\n            break;\n        };\n      }, false);"],{type:"text/javascript"})),Z=new Worker(Q);Z.addEventListener("message",a);f={Bi:Z,port:Z};z.uf=!0}else{var ia=URL.createObjectURL(new Blob(["let handler = null;\n      onconnect = function(e) {\n        const port = e.ports[0];\n        port.addEventListener('message', function(e) {\n          \n          if (handler !== null){\n            clearTimeout(handler);\n            handler = null;\n          }\n          switch (e.data) {\n            case 'START':\n            case 'DONE':\n              handler = setTimeout(function(){\n                port.postMessage('TICK');\n              }, "+
x.Kf.toString()+");\n              break;\n            case 'STOP':\n              break;\n          };\n          \n        });\n        \n        port.start();\n      } // end onconnect()"],{type:"text/javascript"})),X=new SharedWorker(ia);X.port.start();X.port.addEventListener("message",a);f={Bi:X,port:X.port};z.tf=!0}l=!0}catch(A){}l&&("onvisibilitychange"in document?document.addEventListener("visibilitychange",k):(window.addEventListener("blur",O),window.addEventListener("focus",K)),z.sf=!0)}y=
"undefined"!==typeof xb},v:function(){n();z.sf&&("onvisibilitychange"in document?document.removeEventListener("visibilitychange",k):(window.removeEventListener("blur",O),window.removeEventListener("focus",K)),z.sf=!1);z.tf?(f.port.close(),z.tf=!1):z.uf&&(f.Bi.terminate(),z.uf=!1);Object.assign(z,{Ma:!0,La:!1,Ub:!1});D=null},Hp:function(){return z.Ma},update:function(l){Object.assign(x,l)},Zf:function(l){z.La||w.m({});m();z.Ub=!0;D=l;z.Ma&&b()},stop:n};return w}(),rc={We:function(){return Date.now()},
mp:function(){return performance.now()}},rb=function(){function a(U){switch(K){case h.movePinch:var ea=-U.deltaY;0===O&&g("pinch",-1,.001*ea,null)}U.deltaY;U.preventDefault()}function b(U){if(-1!==O)switch(K){case h.swipe:if(1!==O)break;t();F(U,l);var ea=l[0]-w[0];n(ea);U=ea/(20*L.offsetWidth/100);g("swipeMove",Math.min(Math.max(U,-1),1),U,null);break;case h.movePinch:if(2===O||3===O){F(U,l);ea=l[0]-w[0];var xa=l[1]-w[1];2===O?(ha+=Math.sqrt(ea*ea+xa*xa),10>ha?(w[0]=l[0],w[1]=l[1]):(Qa||(Qa=!0,g("moveStart",
null,null,null)),na[0]=ea,na[1]=xa,G[0]=ea-q[0],G[1]=xa-q[1],g("move",na,G,null),q[0]=na[0],q[1]=na[1])):3===O&&(U=p(U)/ua,g("pinch",U,U-Ma,null),Ma=U)}}}function e(U){if(-1!==O)switch(K){case h.swipe:if(1!==O)break;t();F(U,l);U=l[0]-w[0];var ea=0>U;(U=20<100*Math.abs(U)/L.offsetWidth)&&ea?g("swipeLeft",H,null,null):U&&!ea&&g("swipeRight",H,null,null);var xa=function(){setTimeout(function(){k();O=0;g("swipeEnd",null,null,null)},202)};U?(U=function(){var La=(ea?-1:1)*L.width,Ia=(ea?1:-1)*La/L.width;
H.style.transitionDuration=(400).toString()+"ms";H.style.left=(X[0]+La).toString()+"px";H.style.top=X[1].toString()+"px";H.style.transform="rotate( "+Ia.toString()+"rad )";xa()},ia?U():A=U):(H.style.transitionDuration=(200).toString()+"ms",H.style.opacity="0",H.style.left=X[0].toString()+"px",H.style.top=X[1].toString()+"px",H.style.transform="",xa());O=-1;break;case h.movePinch:if(2===O||3===O)O===O.move?g("moveEnd",null,null,null):3===O&&g("pinchEnd",null,null,null),O=0}}function d(U){U.preventDefault();
if(-1!==O)switch(K){case h.swipe:if(0!==O)break;t();O=1;B=setTimeout(function(){k();B=null;1===O&&(O=0,g("swipeEnd",null,null,null))},1E3);m();g("swipeStart",null,null,null);g("swipeGetCanvas",H,Q,N);F(U,w);break;case h.movePinch:0!==O?2!==O||Qa||void 0===U.changedTouches&&void 0===U.touches||(ua=p(U),20<ua&&(O=3,Ma=1,g("pinchStart",null,null,null))):3!==O&&(Qa=!1,F(U,w),q[0]=0,q[1]=0,O=2,ha=0)}}function n(U){var ea=0>U;H.style.left=X[0]+U+"px";H.style.transformOrigin=ea?M:v;H.style.transform="rotate( "+
((ea?1:-1)*U/L.width).toString()+"rad )"}function m(){ia=!1;var U=L.getBoundingClientRect();X[0]=U.left;X[1]=U.top;H.width=Math.round(L.width/4);H.height=Math.round(L.height/4);N.width=H.width;N.height=H.height;H.style.width=L.offsetWidth+"px";H.style.height=L.offsetHeight+"px";H.style.left=X[0]+"px";H.style.top=X[1]+"px";setTimeout(C,0)}function C(){Q.drawImage(L,0,0,H.width,H.height);Z.drawImage(H,0,0);ia=!0;document.body.appendChild(H);A&&(A(),A=!1)}function k(){H.style.transitionDuration="0ms";
H.style.opacity="1";H.style.transform="";ia&&(document.body.removeChild(H),ia=!1)}function t(){B&&(window.clearTimeout(B),B=null)}function p(U){I(U,Fa,0);I(U,ka,1);return Math.sqrt(Fa[0]*Fa[0]+ka[0]*ka[0])}function F(U,ea){void 0!==U.changedTouches||void 0!==U.touches?I(U,ea,0):(ea[0]=U.pageX,ea[1]=U.pageY)}function I(U,ea,xa){U.touches.length>xa?(ea[0]=U.touches[xa].pageX,ea[1]=U.touches[xa].pageY):(ea[0]=U.changedTouches[xa].pageX,ea[1]=U.changedTouches[xa].pageY)}function u(){r.forEach(function(U){L.removeEventListener(U.type,
U.ob,!1)});return r.splice(0,r.length)}function x(U){U.forEach(function(ea){D(ea.type,ea.ob)})}function D(U,ea){L.removeEventListener(U,ea,!1);H.removeEventListener(U,ea,!1);L.addEventListener(U,ea,!1);H.addEventListener(U,ea,!1);0===r.filter(function(xa){return xa.type===U&&xa.ob===ea}).length&&r.push({type:U,ob:ea})}function g(U,ea,xa,La){z[U].forEach(function(Ia){Ia.ob(ea,xa,La)})}function f(U){return U[0]+"% "+(100-U[1]).toString()+"%"}var y=!1,L=null,z={swipeStart:[],swipeEnd:[],swipeLeft:[],
swipeRight:[],swipeMove:[],swipeGetCanvas:[],pinch:[],pinchStart:[],pinchEnd:[],move:[],moveStart:[],moveEnd:[]},r=[],h={idle:0,swipe:1,movePinch:2},K=h.idle,O=0,w=[0,0],l=[0,0],q=[0,0],G=[0,0],H=document.createElement("canvas"),N=document.createElement("canvas"),Q=H.getContext("2d"),Z=N.getContext("2d");H.style.position="fixed";H.style.zIndex="800";H.style.cursor="move";H.style.pointerEvents="none";H.className="swipeImage";H.setAttribute("draggable",!1);var ia=!1,X=[0,0],A=null,B=null,v=f([50,100]),
M=f([50,0]),da=null,ha=0,na=[0,0],ua=0,Qa=!1,Ma=1,Fa=[0,0],ka=[0,0],fa={init:function(U){if(y)fa.switch_canvas(U.sa);else return L=U.sa,D("mousedown",d),D("mouseup",e),D("mouseout",e),D("mousemove",b),D("mousemove",b),D("wheel",a),D("touchstart",d),D("touchend",e),D("touchmove",b),y=!0,fa},switch_canvas:function(U){if(!y)fa.init({sa:U});else if(L!==U){var ea=u();L=U;x(ea);for(var xa in z)for(U=z[xa],ea=U.length-1;0<=ea;--ea)U[ea].en&&U.splice(ea,1)}},get_mode:function(){for(var U in h)if(h[U]===K)return U;
return!1},switch_mode:function(U){y&&"undefined"!==typeof h[U]&&(U=h[U],K!==U&&(t(),K=U,O=0))},add_listener:function(U,ea,xa){z[U].push({ob:ea,en:"undefined"===typeof xa?!1:xa});return fa},remove_listener:function(U){z[U].splice(0,z[U].length);return fa},animate_swipe:function(U,ea){da&&(clearInterval(da),da=null);m();var xa=L.width/(ea/1E3)*("left"===U?-1:1),La=0,Ia,ub=Date.now();da=setInterval(function(){da&&(Ia=Date.now(),La+=(Ia-ub)/1E3*xa,n(La),ub=Ia,Math.abs(La)>.75*L.width&&da&&(clearInterval(da),
da=null,k()))},16)}};return fa}();window.CanvasListeners=rb;var R={VERSION:"3.3.1",Tc:[],Sc:[],le:!1,ke:!1,me:!1,ready:!1,isBusy:!1},ab={idealWidth:800,idealHeight:600,minWidth:480,maxWidth:1280,minHeight:480,maxHeight:1280,FOVdesktop:60,rotate:0,Ej:23,ie:10,he:8E3},Dc={Mf:"models3D",If:"materials",eo:"tweakers",neuralNetworkPath:"built/jeefitNNC.json",aa:"",xa:"",je:"",ma:0,Sj:20,width:1024,height:1024,Nm:[2,3.5],Ji:300,Qc:[1,6],scanOverlapFactors:[2,2,3],scanNScaleLevels:2,scanScale0Factor:.7,ta:[.2,
.2,.3],kc:[[.8,.5],[.8,.5],[1,1]],bo:30,Sk:1.92,Wm:[.3,.7],Vm:1,co:[.005,.025],mn:[.002,.005],sg:[0,.6],ol:.2,Ya:[.698111,1.047166,.122169],nj:[-.1,0,0],Fa:[0,-62,8],ub:1.03,Ea:[0,-60,0],Nf:40,vc:.4,Te:73,qe:[.04,1],Qj:[4,1],wk:[0,.5],on:.3,ln:1,to:20,hp:!1,yc:145,jf:-18,gf:20,hf:3,oa:[-110,0],ec:1,ej:.4,fj:3,Qd:[0,0,0],fc:[1.1,1],$c:0,Ie:.95,He:90,Ge:50,za:30,ra:.05,ef:!0,zd:!0,Ff:"images/masks/target.jpg",Gf:!1,yd:[1/255,175/255,236/255,0],Ad:-.001,Ef:3.14,ve:0,ue:"images/masks/burka.png",re:Math.PI-
Math.PI/4,Ee:Math.PI/4,Yf:[.3,.2,.1],Xb:1,ei:[700,90],xm:[.2,.04],uo:"images/backgrounds/viewer3D.png",Jg:[0,0,0],Ig:[0,15,60],fe:.3,Co:50,yo:Lc?Ka:!1,zo:Lc?Ka:!1,Bo:1E3,Eo:1E3,Ao:40,xo:[0,0,-400],hi:.1,Bm:.5,ii:[.5,1.5],Bd:30,Am:!0},J=Object.assign({},Dc);S.model=!1;S.Zb=1;S.Hd=1;S.eh=!0;S.fh=!0;S.dh=!1;S.Na=!0;var bb={ag:3.5,$b:"images/debug/picsou.png",Jd:45,Bf:.785,Cf:.3925,Df:5,zf:2,Af:0,yf:0,vo:"images/backgrounds/bg1.jpg",wo:"images/backgrounds/bg1_light.jpg",Aj:1,Bj:2};J.fx=[4,50];J.oa=[-110,
0];J.ej=.25;J.fj=3;J.Qd=[0,-2,20];J.fc=[.95,1];S.Zb=2.1289;S.Hd=1;bb.ag=2.5858;bb.Bf=.4388;bb.Cf=.118;bb.$b="images/debug/hdri2.png";bb.Jd=180;bb.$f=.8065;bb.Df=5.3887;bb.zf=.5351;bb.Af=-.3019;bb.yf=0;bb.Aj=3.5288;bb.Bj=6.2168;var Cc={element:null,ah:null,ka:null,yg:null,deviceId:-1,Nb:-1,fd:0,zi:null,ee:-1},Ea=Object.assign({},Cc),db=null,Lb=-1,Mb=-1,Mc=J.Nm,wc=window.devicePixelRatio?window.devicePixelRatio:1;var jc={nl:Math.max(Mc[0],wc)/wc,Re:Math.min(wc,Mc[1])};var eb=null;R.onLoad=function(a){R.ready?
a():R.Tc.push(a)};R.onHalfLoad=function(a){R.load_model?a():R.Sc.push(a)};R.onWebcamAsk=function(a){R.le=a};R.onContextLost=function(a){R.ke=a};R.onWebcamGet=function(a){R.me=a};R.get_onHalfLoadCallstack=function(){return R.Sc};R.set_size=function(a,b,e){e=e?jc.Re:1;J.width=a*e;J.height=b*e};R.get_videoDevices=function(a){Qc(a)};R.set_videoDevice=function(a){Ea.deviceId=a};R.set_videoSizes=function(a,b,e,d,n,m){ab.idealWidth=a;ab.idealHeight=b;ab.minWidth=e;ab.maxWidth=d;ab.minHeight=n;ab.maxHeight=
m};R.set_loading=function(a,b,e){a&&(J.Gf=!0,J.Ff=a);"number"===typeof b&&(a=new Nb(b),J.yd=[a.r,a.X,a.b,0]);"number"===typeof e&&(J.Ad=e)};R.set_settings=function(a,b,e){a&&Object.assign(J,a);b&&Object.assign(ab,b);e&&Object.assign(bb,e)};R.get_size=function(){return{width:J.width,height:J.height}};R.get_cv=function(){return fb.pb()};R.set_NNCPath=function(a){J.je=a};R.set_materialsPath=function(a){J.If=a};R.set_modelsPath=function(a){J.Mf=a};R.destroy=function(){return eb?eb.v():Promise.resolve()};
R.init=function(a,b,e,d){eb=Rc();R.lb=e?function(n,m){e(n,m);R.lb=!1}:function(){};R.Ko=eb;a&&(J.aa=a);b&&R.Tc.push(b);eb.ao();if(!fb.m({De:"jeefitCanvas",sa:d,width:Lb,height:Mb,debug:!1,Pf:function(){R.ke&&R.ke()},premultipliedAlpha:!0}))return R.lb&&R.lb("GL_INCOMPATIBLE","Cannot init Context"),!1;R.le&&R.le();a={width:{min:ab.minWidth,max:ab.maxWidth,ideal:ab.idealWidth},height:{min:ab.minHeight,max:ab.maxHeight,ideal:ab.idealHeight},facingMode:{ideal:"user"}};b={video:a,audio:!1};Ea.ah=b;a&&
-1!==Ea.deviceId&&Vb(b,Ea.deviceId);Yb(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?document.createElement("video"):!1,function(n){R.me&&R.me(n);Ea.element=n;n=Ea.element.videoWidth;var m=Ea.element.videoHeight;Ea.yg={ia:Ea.element,isPot:!1,isFloat:!1,isFlipY:!0};Ea.ka=W.instance(Ea.yg);eb.kg(n,m);eb.pf(n,m)&&eb.rg()},function(n){R.lb&&R.lb("WEBCAM_UNAVAILABLE",n)},b);return!0};window.JEELIZVTO=R;var Fc=function(){function a(){wa.$();c.viewport(0,0,1,1);ba.set("s64");d.g(0);V.l(!1);
c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,m);b(0<m[0])}var b=null,e=!1,d=null,n=!1,m=null,C={m:function(k){if(n)return!1;d=k;ba.pe([{id:"s64",name:"_",h:"uniform sampler2D u39;const vec2 e=vec2(.16,.5);void main(){vec4 a=texture2D(u39,e);float b=step(1.99,a.r);gl_FragColor=vec4(b,0.,0.,1.);}",i:["u39"],precision:"lowp"}]);ba.j("s64",[{type:"1i",name:"u39",value:0}]);m=new Uint8Array(4);return n=!0},start:function(k,t){C.stop();b=t;e=window.setInterval(a,k)},stop:function(){e&&(window.clearInterval(a),
e=!1)}};return C}(),mc=mc||{};Nb.prototype={constructor:Nb,r:1,X:1,b:1,set:function(a){a instanceof Nb?this.J(a):"number"===typeof a?Gc(this,a):"string"===typeof a&&Tc(this,a);return this},rn:function(){function a(b,e,d){0>d&&(d+=1);1<d&&--d;return d<1/6?b+6*(e-b)*d:.5>d?e:d<2/3?b+6*(e-b)*(2/3-d):b}return function(b,e,d){b=mc.Math.ip(b,1);e=mc.Math.ye(e,0,1);d=mc.Math.ye(d,0,1);0===e?this.r=this.X=this.b=d:(e=.5>=d?d*(1+e):d+e-d*e,d=2*d-e,this.r=a(d,e,b+1/3),this.X=a(d,e,b),this.b=a(d,e,b-1/3));return this}}(),
clone:function(){return new this.constructor(this.r,this.X,this.b)},J:function(a){this.r=a.r;this.X=a.X;this.b=a.b;return this},add:function(a){this.r+=a.r;this.X+=a.X;this.b+=a.b;return this},multiply:function(a){this.r*=a.r;this.X*=a.X;this.b*=a.b;return this},Da:function(a){this.r*=a;this.X*=a;this.b*=a;return this},mb:function(a,b){void 0===b&&(b=0);this.r=a[b];this.X=a[b+1];this.b=a[b+2];return this}};var Uc={};kc.prototype={constructor:kc,get x(){return this.B},set x(a){this.B=a},get y(){return this.C},
set y(a){this.C=a},get z(){return this.D},set z(a){this.D=a},get w(){return this.O},set w(a){this.O=a},set:function(a,b,e,d){this.B=a;this.C=b;this.D=e;this.O=d;return this},clone:function(){return new this.constructor(this.B,this.C,this.D,this.O)},J:function(a){this.B=a.x;this.C=a.y;this.D=a.z;this.O=a.w;return this},inverse:function(){this.B*=-1;this.C*=-1;this.D*=-1;this.normalize();return this},bd:function(a){return this.B*a.B+this.C*a.C+this.D*a.D+this.O*a.O},xf:function(){return this.B*this.B+
this.C*this.C+this.D*this.D+this.O*this.O},length:function(){return Math.sqrt(this.B*this.B+this.C*this.C+this.D*this.D+this.O*this.O)},normalize:function(){var a=this.length();0===a?(this.D=this.C=this.B=0,this.O=1):(a=1/a,this.B*=a,this.C*=a,this.D*=a,this.O*=a);return this},multiply:function(a,b){return void 0!==b?(console.warn("JETHREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),Hc(this,a,b)):Hc(this,this,a)},mb:function(a,b){void 0===b&&
(b=0);this.B=a[b];this.C=a[b+1];this.D=a[b+2];this.O=a[b+3];return this}};Ob.prototype={constructor:Ob,get width(){return this.x},set width(a){this.x=a},get height(){return this.y},set height(a){this.y=a},set:function(a,b){this.x=a;this.y=b;return this},Pi:function(a){this.x=a;return this},Qi:function(a){this.y=a;return this},clone:function(){return new this.constructor(this.x,this.y)},J:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
this.Uc(a,b);this.x+=a.x;this.y+=a.y;return this},Uc:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},sub:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.cb(a,b);this.x-=a.x;this.y-=a.y;return this},cb:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},multiply:function(a){this.x*=a.x;this.y*=a.y;return this},Da:function(a){isFinite(a)?(this.x*=a,this.y*=a):this.y=this.x=0;return this},Me:function(a){return this.Da(1/
a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this},ye:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);
return this},bd:function(a){return this.x*a.x+this.y*a.y},xf:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.Me(this.length())},mb:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this}};Sa.prototype={constructor:Sa,set:function(a,b,e){this.x=a;this.y=b;this.z=e;return this},Pi:function(a){this.x=a;return this},Qi:function(a){this.y=a;return this},clone:function(){return new this.constructor(this.x,
this.y,this.z)},J:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.Uc(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},Uc:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},sub:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.cb(a,
b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},cb:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},multiply:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.x=a.x*b.x,this.y=a.y*b.y,this.z=a.z*b.z,this;this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},Da:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},Me:function(a){return this.Da(1/
a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this},ye:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=
Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},bd:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},xf:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){return this.Me(this.length())},mb:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];
this.z=a[b+2];return this}};Pb.Dj="XYZ";Pb.prototype={constructor:Pb,get x(){return this.B},set x(a){this.B=a},get y(){return this.C},set y(a){this.C=a},get z(){return this.D},set z(a){this.D=a},get order(){return this.Ra},set order(a){this.Ra=a},set:function(a,b,e,d){this.B=a;this.C=b;this.D=e;this.Ra=d||this.Ra;return this},clone:function(){return new this.constructor(this.B,this.C,this.D,this.Ra)},J:function(a){this.B=a.B;this.C=a.C;this.D=a.D;this.Ra=a.Ra;return this},mb:function(a){this.B=a[0];
this.C=a[1];this.D=a[2];void 0!==a[3]&&(this.Ra=a[3]);return this}};tc.prototype={constructor:tc,set:function(a,b){this.min.J(a);this.max.J(b);return this},clone:function(){return(new this.constructor).J(this)},J:function(a){this.min.J(a.min);this.max.J(a.max);return this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},size:function(a){return(a||new Sa).cb(this.max,this.min)},getParameter:function(a,b){return(b||new Sa).set((a.x-this.min.x)/(this.max.x-
this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},translate:function(a){this.min.add(a);this.max.add(a);return this}};Qb.prototype={constructor:Qb,set:function(a,b,e,d,n,m,C,k,t,p,F,I,u,x,D,g){var f=this.elements;f[0]=a;f[4]=b;f[8]=e;f[12]=d;f[1]=n;f[5]=m;f[9]=C;f[13]=k;f[2]=t;f[6]=p;f[10]=F;f[14]=I;f[3]=u;f[7]=x;f[11]=D;f[15]=g;return this},clone:function(){return(new Qb).mb(this.elements)},J:function(a){this.elements.set(a.elements);return this},multiply:function(a,
b){return void 0!==b?(console.warn("JETHREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),Jc(this,a,b)):Jc(this,this,a)},Da:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this},setPosition:function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},translate:function(){console.error("JETHREE.Matrix4: .translate() has been removed.")},
scale:function(a){var b=this.elements,e=a.x,d=a.y;a=a.z;b[0]*=e;b[4]*=d;b[8]*=a;b[1]*=e;b[5]*=d;b[9]*=a;b[2]*=e;b[6]*=d;b[10]*=a;b[3]*=e;b[7]*=d;b[11]*=a;return this},mb:function(a){this.elements.set(a);return this}};uc.prototype={constructor:uc,clone:function(){return(new this.constructor).J(this)},J:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.Oa.J(a.Oa);this.color.J(a.color);this.Yb=a.Yb;for(var b=0,e=a.de.length;b<e;b++)this.de[b]=a.de[b].clone();b=0;for(e=a.Gg.length;b<e;b++)this.Gg[b]=
a.Gg[b].clone();return this}};var E=function(){function a(r,h,K){h=r.createShader(h);r.shaderSource(h,K);r.compileShader(h);return r.getShaderParameter(h,r.COMPILE_STATUS)?h:!1}function b(r,h){ca.ja()&&(h.h=h.h.replace(/gl_FragData\[([0-3])\]/g,"gbuf$1"));h.df=a(r,r.VERTEX_SHADER,h.s,h.name+" VERTEX");h.cf=a(r,r.FRAGMENT_SHADER,h.h,h.name+" FRAGMENT");var K=r.createProgram();r.attachShader(K,h.df);r.attachShader(K,h.cf);r.linkProgram(K);return K}function e(r){r.s="#version 300 es\n"+r.s.replace(/varying/g,
"out");r.h="#version 300 es\n"+r.h.replace(/varying/g,"in");r.s=r.s.replace(/texture2D\(/g,"texture(");r.h=r.h.replace(/texture2D\(/g,"texture(");r.ca||(r.h=r.h.replace(/void main/g,"out vec4 FragColor;\nvoid main"),r.h=r.h.replace(/gl_FragColor/g,"FragColor"));var h=0,K=[];r.s=r.s.replace(/attribute ([a-z]+[0-4]*) ([_a-zA-Z,0-9\s]+);/g,function(O,w,l){var q="";l.split(",").forEach(function(G){G=G.trim();q+="layout(location = "+h+") in "+w+" "+G+";\n";K.push(G);++h});return q});r.Mj=K}function d(r){return["float",
"sampler2D","int"].map(function(h){return"precision "+r+" "+h+";\n"}).join("")}function n(r,h){if(h.Oh)return!1;var K=ca.ja();S.Ap||K||r.enableVertexAttribArray(0);void 0===h.ca&&(h.ca=!1);h.ca&&(h.Rc=K?3:2);h.id=L++;void 0===h.Rc&&(h.Rc=2);void 0===h.precision&&(h.precision="highp");h.ca&&(h.h=(ca.ja()?"precision highp float;\n          layout(location = 0) out vec4 gbuf0;\n          layout(location = 1) out vec4 gbuf1;\n          layout(location = 2) out vec4 gbuf2;\n          layout(location = 3) out vec4 gbuf3;\n":
"#extension GL_EXT_draw_buffers : require\n")+h.h);void 0===h.s&&(h.s="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");var O=d(h.precision);h.h=O+h.h;h.s=O+h.s;K&&3<=h.Rc&&e(h);h.Ga&&h.Ga.forEach(function(w){h.s=h.s.replace(w.search,w.replace);h.h=h.h.replace(w.search,w.replace)});h.pa=b(r,h);h.A={};h.i.forEach(function(w){h.A[w]=r.getUniformLocation(h.pa,w)});h.attributes={};h.ya=[];h.Fg=0;void 0===h.H&&(h.H=["a0"]);void 0===
h.P&&(h.P=[2]);h.H.forEach(function(w,l){var q=K&&3<=h.Rc?h.Mj.indexOf(w):r.getAttribLocation(h.pa,w);h.attributes[w]=q;h.ya.push(q);h.Fg+=4*h.P[l]});h.set=function(){f!==h.id&&(-1!==f&&y.I(),f=h.id,y=h,r.useProgram(h.pa),h.ya.forEach(function(w){0!==w&&r.enableVertexAttribArray(w)}))};h.I=function(){f=-1;h.ya.forEach(function(w){0!==w&&r.disableVertexAttribArray(w)})};h.Oh=!0}function m(r,h){n(r,h);h.set();f=-1;return h}function C(){return{name:"_",h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
i:["u1"],precision:"highp"}}function k(){z.j("s93",[{type:"1i",name:"u1",value:0}]);z.j("s94",[{type:"1i",name:"u146",value:0}]);z.j("s95",[{type:"1i",name:"u68",value:0}])}function t(){var r="u39 u136 u137 u138 u139 u40 u72".split(" ").concat(x,D);g.s96={name:"_",h:"varying vec3 vv0;varying float vv1;void main(){gl_FragColor=vec4(vv0,vv1);}",s:"attribute vec3 a0;uniform sampler2D u39;uniform vec3 u136;uniform vec2 u40,u144;uniform float u137,u142,u143,u138,u139,u145;varying vec3 vv0;varying float vv1;const vec2 e=vec2(1.,1.);const vec3 o=vec3(1.,1.,1.);const vec2 D=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u70;uniform vec3 u72,u76,u77,u78;uniform float u71,u79,u80,u73,u74,u75,u81;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,p);vec2 f=u79*e;vec3 c=u79*o;vec2 t=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,q).rgb+vec3(u73,0.,0.),u76,c);float u=mix(texture2D(u39,r).r,0.,u79);a.z+=u;mat3 v=s(a);vec3 w=mix(u136,u77,c);float x=mix(u137,u80,u79);vec3 b=mix(u72,u78,c);b.x+=u71*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 y=mat2(h,i,-i,h);b.xy=y*b.xy;float z=mix(u75,1.,u79);vec2 j=u74/t;vec3 k=a0;float A=max(0.,-a0.z-u138)*u139;k.x+=A*sign(a0.x)*(1.-u79);vec3 l=v*(k+w)*x+b;vec2 B=j*z;vec3 C=vec3(g*B,-j)+l*vec3(1.,-1.,-1.);gl_Position=u70*(vec4(u81*e,e)*vec4(C,1.)),vv0=l,vv1=smoothstep(u142,u143,a0.z);}",
i:["u142","u143"].concat(r),H:["a0"],precision:"highp"};g.s97={name:"_",h:"uniform sampler2D u1;uniform vec3 u140;uniform float u67;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);vec3 b=mix(u140,a.rgb,a.a);vec4 c=vec4(mix(a.rgb*u140,b,u67),a.a);gl_FragColor=c;}",s:"attribute vec3 a0;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u136;uniform vec2 u40,u144;uniform float u137,u138,u139,u145;varying vec2 vv0;const vec2 e=vec2(1.,1.);const vec3 m=vec3(1.,1.,1.);const vec2 C=vec2(-1.,1.),n=vec2(.16,.5),o=vec2(.5,.5),p=vec2(.84,.5);uniform mat4 u70;uniform vec3 u72,u76,u77,u78;uniform float u71,u79,u80,u73,u74,u75,u81;mat3 q(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,n);vec2 f=u79*e;vec3 c=u79*m;vec2 r=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,o).rgb+vec3(u73,0.,0.),u76,c);float s=mix(texture2D(u39,p).r,0.,u79);a.z+=s;mat3 t=q(a);vec3 u=mix(u136,u77,c);float v=mix(u137,u80,u79);vec3 b=mix(u72,u78,c);b.x+=u71*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 w=mat2(h,i,-i,h);b.xy=w*b.xy;float x=mix(u75,1.,u79);vec2 j=u74/r;vec3 k=a0;float y=max(0.,-a0.z-u138)*u139;k.x+=y*sign(a0.x)*(1.-u79);vec3 z=t*(k+u)*v+b;vec2 A=j*x;vec3 B=vec3(g*A,-j)+z*vec3(1.,-1.,-1.);gl_Position=u70*(vec4(u81*e,e)*vec4(B,1.)),vv0=a1;}",
i:["u140"].concat(I,r),H:["a0","a1"],P:[3,2],precision:"lowp"};g.s98={name:"_",h:"uniform vec3 u140;void main(){gl_FragColor=vec4(u140,0.);}",s:"attribute vec3 a0;uniform sampler2D u39;uniform vec3 u136;uniform vec2 u40,u144;uniform float u137,u138,u139,u145;const vec2 e=vec2(1.,1.);const vec3 l=vec3(1.,1.,1.);const vec2 B=vec2(-1.,1.),m=vec2(.16,.5),n=vec2(.5,.5),o=vec2(.84,.5);uniform mat4 u70;uniform vec3 u72,u76,u77,u78;uniform float u71,u79,u80,u73,u74,u75,u81;mat3 p(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,m);vec2 f=u79*e;vec3 c=u79*l;vec2 q=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,n).rgb+vec3(u73,0.,0.),u76,c);float r=mix(texture2D(u39,o).r,0.,u79);a.z+=r;mat3 s=p(a);vec3 t=mix(u136,u77,c);float u=mix(u137,u80,u79);vec3 b=mix(u72,u78,c);b.x+=u71*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 v=mat2(h,i,-i,h);b.xy=v*b.xy;float w=mix(u75,1.,u79);vec2 j=u74/q;vec3 k=a0;float x=max(0.,-a0.z-u138)*u139;k.x+=x*sign(a0.x)*(1.-u79);vec3 y=s*(k+t)*u+b;vec2 z=j*w;vec3 A=vec3(g*z,-j)+y*vec3(1.,-1.,-1.);gl_Position=u70*(vec4(u81*e,e)*vec4(A,1.));}",
i:["u140"].concat(r),P:[3],precision:"lowp"};g.s99={name:"_",h:"uniform vec4 u7;varying vec3 vv0;varying float vv1;void main(){float a=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv1);gl_FragColor=vec4(normalize(vv0),a);}",s:"attribute vec3 a0,a2;uniform sampler2D u39;uniform vec3 u136;uniform vec2 u40,u144;uniform float u137,u138,u139,u145;varying vec3 vv0;varying float vv1;const vec2 e=vec2(1.,1.);const vec3 o=vec3(1.,1.,1.);const vec2 D=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u70;uniform vec3 u72,u76,u77,u78;uniform float u71,u79,u80,u73,u74,u75,u81;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,p);vec2 f=u79*e;vec3 c=u79*o;vec2 t=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,q).rgb+vec3(u73,0.,0.),u76,c);float u=mix(texture2D(u39,r).r,0.,u79);a.z+=u;mat3 h=s(a);vec3 v=mix(u136,u77,c);float w=mix(u137,u80,u79);vec3 b=mix(u72,u78,c);b.x+=u71*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 x=mat2(i,j,-j,i);b.xy=x*b.xy;float y=mix(u75,1.,u79);vec2 k=u74/t;vec3 l=a0;float z=max(0.,-a0.z-u138)*u139;l.x+=z*sign(a0.x)*(1.-u79);vec3 A=h*(l+v)*w+b;vec2 B=k*y;vec3 C=vec3(g*B,-k)+A*vec3(1.,-1.,-1.);gl_Position=u70*(vec4(u81*e,e)*vec4(C,1.)),vv0=h*a2*vec3(1.,-1.,-1.),vv1=a0.y;}",
i:["u7","u72"].concat(r),H:["a0","a2"],precision:"highp"};g.s100={name:"_",h:"uniform sampler2D u146;uniform vec4 u7;varying vec4 vv0;varying vec3 vv1;varying vec2 vv2;varying float vv3;const vec3 i=vec3(1.,1.,1.);void main(){vec3 j=vec3(0.,0.,-1.),c=normalize(vv1),b=texture2D(u146,vv2).xyz;b=normalize(b*255./127.-1.007874*i);vec3 d=vv0.xyz,k=cross(c,d)*vv0.w;mat3 l=mat3(d,k,c);vec3 a=l*b;a=dot(a,j)>0.?vv1:a;float m=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv3);gl_FragColor=vec4(a,m);}",s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u136;uniform vec2 u40,u144;uniform float u137,u138,u139,u145;varying vec4 vv0;varying vec3 vv1;varying vec2 vv2;varying float vv3;const vec2 e=vec2(1.,1.);const vec3 q=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),r=vec2(.16,.5),s=vec2(.5,.5),t=vec2(.84,.5);uniform mat4 u70;uniform vec3 u72,u76,u77,u78;uniform float u71,u79,u80,u73,u74,u75,u81;mat3 u(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,r);vec2 f=u79*e;vec3 c=u79*q;vec2 v=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,s).rgb+vec3(u73,0.,0.),u76,c);float w=mix(texture2D(u39,t).r,0.,u79);a.z+=w;mat3 h=u(a);vec3 x=mix(u136,u77,c);float y=mix(u137,u80,u79);vec3 b=mix(u72,u78,c);b.x+=u71*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 z=mat2(i,j,-j,i);b.xy=z*b.xy;float A=mix(u75,1.,u79);vec2 k=u74/v;vec3 l=a0;float B=max(0.,-a0.z-u138)*u139;l.x+=B*sign(a0.x)*(1.-u79);vec3 C=h*(l+x)*y+b;vec2 D=k*A;vec3 E=vec3(g*D,-k)+C*vec3(1.,-1.,-1.);gl_Position=u70*(vec4(u81*e,e)*vec4(E,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv0=a3,vv2=a1,vv3=a0.y;}",
i:["u7","u72","u146"].concat(r),H:["a3","a0","a2","a1"],P:[4,3,3,2],precision:"highp"};g.s101={name:"_",h:"uniform vec4 u105;uniform float u141;void main(){float b=u141;vec4 a=u105;float c=floor(15.99*b),d=floor(15.99*a.b);a.b=(c+16.*d)/255.,gl_FragColor=a;}",s:"attribute vec3 a0;uniform sampler2D u39;uniform vec3 u136;uniform vec2 u40,u144;uniform float u137,u138,u139,u145;const vec2 e=vec2(1.,1.);const vec3 l=vec3(1.,1.,1.);const vec2 B=vec2(-1.,1.),m=vec2(.16,.5),n=vec2(.5,.5),o=vec2(.84,.5);uniform mat4 u70;uniform vec3 u72,u76,u77,u78;uniform float u71,u79,u80,u73,u74,u75,u81;mat3 p(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,m);vec2 f=u79*e;vec3 c=u79*l;vec2 q=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,n).rgb+vec3(u73,0.,0.),u76,c);float r=mix(texture2D(u39,o).r,0.,u79);a.z+=r;mat3 s=p(a);vec3 t=mix(u136,u77,c);float u=mix(u137,u80,u79);vec3 b=mix(u72,u78,c);b.x+=u71*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 v=mat2(h,i,-i,h);b.xy=v*b.xy;float w=mix(u75,1.,u79);vec2 j=u74/q;vec3 k=a0;float x=max(0.,-a0.z-u138)*u139;k.x+=x*sign(a0.x)*(1.-u79);vec3 y=s*(k+t)*u+b;vec2 z=j*w;vec3 A=vec3(g*z,-j)+y*vec3(1.,-1.,-1.);gl_Position=u70*(vec4(u81*e,e)*vec4(A,1.));}",
i:["u105","u141"].concat(r),precision:"lowp"};g.s102={name:"_",h:"uniform sampler2D u68;uniform vec4 u105,u69;uniform float u141;varying vec2 vv0;vec2 i(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float c=u141;vec4 a=u105,d=texture2D(u68,vv0);vec2 b=i(d.b,4.);float f=1.-b.x,g=b.y;b=i(d.a,1.);float h=b.x,e=b.y;vec4 k=vec4(d.rg,g,h);float l=f;a=mix(a,k,u69*e),c=mix(c,l,u69.b*e);float m=floor(15.99*c),n=floor(15.99*a.b);a.b=(m+16.*n)/255.,gl_FragColor=a;}",
s:"attribute vec3 a0;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u136;uniform vec2 u40,u144;uniform float u137,u138,u139,u145;varying vec2 vv0;const vec2 e=vec2(1.,1.);const vec3 m=vec3(1.,1.,1.);const vec2 C=vec2(-1.,1.),n=vec2(.16,.5),o=vec2(.5,.5),p=vec2(.84,.5);uniform mat4 u70;uniform vec3 u72,u76,u77,u78;uniform float u71,u79,u80,u73,u74,u75,u81;mat3 q(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,n);vec2 f=u79*e;vec3 c=u79*m;vec2 r=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,o).rgb+vec3(u73,0.,0.),u76,c);float s=mix(texture2D(u39,p).r,0.,u79);a.z+=s;mat3 t=q(a);vec3 u=mix(u136,u77,c);float v=mix(u137,u80,u79);vec3 b=mix(u72,u78,c);b.x+=u71*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 w=mat2(h,i,-i,h);b.xy=w*b.xy;float x=mix(u75,1.,u79);vec2 j=u74/r;vec3 k=a0;float y=max(0.,-a0.z-u138)*u139;k.x+=y*sign(a0.x)*(1.-u79);vec3 z=t*(k+u)*v+b;vec2 A=j*x;vec3 B=vec3(g*A,-j)+z*vec3(1.,-1.,-1.);gl_Position=u70*(vec4(u81*e,e)*vec4(B,1.)),vv0=a1;}",
i:["u105","u141"].concat(u,r),H:["a0","a1"],P:[3,2],precision:"lowp"};r=["u129","u117","u130"];g.s103={name:"_",h:"varying vec3 vv0;varying float vv1;void main(){gl_FragColor=vec4(vv0,vv1);}",s:"attribute vec3 a0;uniform mat4 u129,u117,u130;varying vec3 vv0;varying float vv1;void main(){vec4 a=u130*vec4(a0,1.);gl_Position=u129*u117*a,vv0=a.xyz,vv1=1.;}",i:r,precision:"highp"};g.s104={name:"_",h:"varying vec3 vv0;void main(){gl_FragColor=vec4(normalize(vv0),1.);}",s:"attribute vec3 a0,a2;uniform mat4 u129,u117,u130;varying vec3 vv0;varying float vv1;void main(){vec4 a=u130*vec4(a2,0.);gl_Position=u129*u117*u130*vec4(a0,1.),vv0=a.xyz,vv1=a0.y;}",
i:r,H:["a0","a2"],precision:"highp"};g.s94={name:"_",h:"uniform sampler2D u146;uniform vec3 u147;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;const vec3 i=vec3(1.,1.,1.);void main(){vec3 j=normalize(vv1+u147),c=normalize(vv2),b=texture2D(u146,vv3).xyz;b=normalize(b*255./127.-1.007874*i);vec3 d=vv0.xyz,k=cross(c,d)*vv0.w;mat3 l=mat3(d,k,c);vec3 a=l*b;a=dot(a,j)>0.?vv2:a,gl_FragColor=vec4(a,1.);}",s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u129,u117,u130;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;void main(){vec4 b=u130*vec4(a2,0.),a=u130*vec4(a0,1.);gl_Position=u129*u117*a,vv0=a3,vv2=b.xyz,vv3=a1,vv1=a.xyz;}",
i:["u146","u147"].concat(r),H:["a0","a2","a1","a3"],precision:"highp"};g.s93={name:"_",h:"uniform sampler2D u1;uniform vec3 u140;uniform float u67;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);vec3 b=mix(u140,a.rgb,a.a);vec4 c=vec4(mix(a.rgb*u140,b,u67),a.a);gl_FragColor=c;}",s:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u129,u117,u130;varying vec2 vv0;const vec4 f=vec4(0.,0.,5e-4,0.);void main(){gl_Position=u129*u117*u130*vec4(a0,1.)+f,vv0=a1;}",i:["u140"].concat(I,r),H:["a0","a1"],
Ga:[{search:"0.0005",replace:za.ea()?"0.0005":"0.0"}],precision:"lowp"};g.s105={name:"_",h:"uniform vec4 u105;uniform float u141;void main(){float b=u141;vec4 a=u105;float c=floor(15.99*b),d=floor(15.99*a.b);a.b=(c+16.*d)/255.,gl_FragColor=a;}",s:"attribute vec3 a0;uniform mat4 u129,u117,u130;void main(){gl_Position=u129*u117*u130*vec4(a0,1.);}",i:["u105"].concat(r),precision:"highp"};g.s95={name:"_",h:"uniform sampler2D u68;uniform vec4 u105,u69;uniform float u141;varying vec2 vv0;vec2 i(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float c=u141;vec4 a=u105,d=texture2D(u68,vv0);vec2 b=i(d.b,4.);float f=1.-b.x,g=b.y;b=i(d.a,1.);float h=b.x,e=b.y;vec4 k=vec4(d.rg,g,h);float l=f;a=mix(a,k,u69*e),c=mix(c,l,u69.b*e);float m=floor(15.99*c),n=floor(15.99*a.b);a.b=(m+16.*n)/255.,gl_FragColor=a;}",
s:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u129,u117,u130;varying vec2 vv0;void main(){gl_Position=u129*u117*u130*vec4(a0,1.),vv0=a1;}",i:["u105"].concat(u,r),H:["a0","a1"],P:[3,2],precision:"highp"}}function p(){for(var r in g)n(c,g[r])}var F=!1,I=["u1","u67"],u=["u68","u69"],x="u70 u71 u72 u73 u74 u75".split(" "),D="u76 u77 u78 u79 u80 u81".split(" "),g={},f=-1,y=null,L=0,z={qa:function(r,h){g[r]=h;F&&n(c,g[r])},Op:function(r,h){g[r]=h;h.Oh=!1;n(c,g[r])},Wb:function(){return F},m:function(){g.s0=
C();g.s1={name:"_",h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],precision:"lowp"};g.s65={name:"_",h:"uniform sampler2D u1,u6;uniform float u7;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){gl_FragColor=vec4(mix(texture2D(u6,vv0).rgb,texture2D(u1,vv0).rgb,u7*f),1.);}",i:["u1","u6","u7"],precision:"highp"};g.s66={name:"_",h:"uniform sampler2D u1,u6;uniform float u7;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){gl_FragColor=mix(texture2D(u6,vv0),texture2D(u1,vv0),u7*f);}",
i:["u1","u6","u7"],precision:"highp"};g.s12={name:"_",h:"uniform sampler2D u1,u82;uniform vec2 u83;uniform float u84,u85;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 b=texture2D(u82,vv0*u83),c=texture2D(u1,vv0*u83);float a=smoothstep(u84,0.,vv0.y);a+=smoothstep(1.-u84,1.,vv0.y),gl_FragColor=pow(mix(c,b,a*f),u85*f);}",i:["u1","u83","u82","u84","u85"]};g.s67={name:"_",h:"uniform sampler2D u1,u82;uniform vec2 u83;uniform float u84,u85;varying vec2 vv0;const vec3 h=vec3(1.,1.,1.);vec4 i(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),f=exp2(c);vec3 g=clamp(b/f,0.,1.);return vec4(g,(c+128.)/256.);}void main(){vec2 a=vv0*u83;float c=floor(a.x),d=mod(c,2.);a.x=mod(a.x,1.),a.x=mix(a.x,1.-a.x,d);vec3 f=texture2D(u82,a).rgb,g=texture2D(u1,a).rgb;float b=smoothstep(u84,0.,vv0.y);b+=smoothstep(1.-u84,1.,vv0.y);vec3 j=mix(g,f,b*h);vec4 k=i(pow(j,u85*h));gl_FragColor=k;}",
i:["u1","u83","u82","u84","u85"],precision:"highp"};g.s68={name:"_",h:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);if(a.a<.5)discard;gl_FragColor=a;}",i:["u1"],precision:"lowp"};g.s69={name:"_",h:"uniform sampler2D u1,u86;uniform vec2 u8;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec3 b=texture2D(u1,a).rgb+texture2D(u1,a+u8*f).rgb+texture2D(u1,a+u8*g).rgb+texture2D(u1,a+u8*h).rgb+texture2D(u1,a+u8*i).rgb;gl_FragColor=vec4(b/5.,1.);}",
i:["u1","u8"],precision:"lowp"};g.s70={name:"_",h:"uniform sampler2D u1,u86,u39;uniform vec2 u8,u87;varying vec2 vv0;const vec3 k=vec3(1.,1.,1.);const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec3 b=texture2D(u1,a).rgb+texture2D(u1,a+u8*f).rgb+texture2D(u1,a+u8*g).rgb+texture2D(u1,a+u8*h).rgb+texture2D(u1,a+u8*i).rgb;float c=texture2D(u39,vec2(.5,.5)).a,d=u87.x+pow(c,2.)*(u87.y-u87.x);vec3 j=mix(b/5.,texture2D(u86,a).rgb,d);gl_FragColor=vec4(j,1.);}",
i:["u1","u86","u8","u39","u87"],precision:"lowp"};g.s71={name:"_",h:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;const vec3 f=vec3(.299,.587,.114);const float m=.007813,n=.125,h=8.;void main(){vec2 x=vv0;vec3 o=texture2D(u1,vv0+vec2(-1.,-1.)*u8).xyz,p=texture2D(u1,vv0+vec2(1.,-1.)*u8).xyz,q=texture2D(u1,vv0+vec2(-1.,1.)*u8).xyz,r=texture2D(u1,vv0+vec2(1.,1.)*u8).xyz,s=texture2D(u1,vv0).xyz;float b=dot(o,f),c=dot(p,f),e=dot(q,f),g=dot(r,f),i=dot(s,f),t=min(i,min(min(b,c),min(e,g))),u=max(i,max(max(b,c),max(e,g)));vec2 a;a.x=-(b+c-(e+g)),a.y=b+e-(c+g);float v=max((b+c+e+g)*(.25*n),m),w=1./(min(abs(a.x),abs(a.y))+v);a=min(vec2(h,h),max(vec2(-h,-h),a*w))*u8;vec3 j=.5*(texture2D(u1,vv0+a*-.166667).rgb+texture2D(u1,vv0+a*.166667).rgb),k=j*.5+.25*(texture2D(u1,vv0+a*-.5).rgb+texture2D(u1,vv0+a*.5).rgb);float l=dot(k,f);gl_FragColor=l<t||l>u?vec4(j,1.):vec4(k,1.);}",
i:["u1","u8"],precision:"lowp"};g.s43={name:"_",h:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(0.,0.,0.);vec4 g(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),h=exp2(c);vec3 i=clamp(b/h,0.,1.);return vec4(i,(c+128.)/256.);}void main(){vec3 a=texture2D(u1,vv0).rgb;gl_FragColor=g(max(a,f));}",i:["u1"],precision:"highp"};g.s72={name:"_",h:"uniform sampler2D u88,u89;uniform float u90,u91;varying vec2 vv0;void main(){vec3 a=texture2D(u89,vv0).rgb,b=texture2D(u88,vv0).rgb;gl_FragColor=vec4(b*u91+u90*a,1.);}",
i:["u88","u89","u90","u91"],precision:"highp"};g.s73={name:"_",h:"uniform sampler2D u92,u93;uniform float u85;varying vec2 vv0;const int j=8888;const float e=3.141592;const vec2 k=vec2(0.,0.);const vec3 n=vec3(1.,1.,1.),o=vec3(0.,0.,0.);void main(){float p=e*(vv0.x*2.-1.),q=e/2.*(vv0.y*2.-1.),b,c,r,l,m;vec4 d;vec3 f=o;vec2 g=k,a=k;for(int h=0;h<j;h+=1)a.x=float(h),a.y=floor(a.x/64.),d=texture2D(u93,a/64.),b=e*d.r,c=2.*asin(sqrt(.25+d.g*.25)),l=p+c*cos(b),m=q+c*sin(b),g.x=.5+.5*l/e,g.y=.5+m/e,f+=pow(texture2D(u92,g).rgb,u85*n);f/=float(j),gl_FragColor=vec4(f,1.);}",
i:["u92","u93","u85"],precision:"lowp",Ga:[{search:"8888",replace:S.cm[ca.T()]}]};g.s74={name:"_",h:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);float b=.031496*texture2D(u1,vv0-3.*u8).a+.110236*texture2D(u1,vv0-2.*u8).a+.220472*texture2D(u1,vv0-u8).a+.275591*a.a+.220472*texture2D(u1,vv0+u8).a+.110236*texture2D(u1,vv0+2.*u8).a+.031496*texture2D(u1,vv0+3.*u8).a;gl_FragColor=vec4(a.rgb,4.*b);}",i:["u1","u8"],precision:"lowp"};g.s75={name:"_",h:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);float b=.3*pow(a.a,2.);gl_FragColor=vec4(a.rgb+b*f,1.);}",
i:["u1"],precision:"lowp"};g.s76={name:"_",h:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=.031496*texture2D(u1,vv0-3.*u8)+.110236*texture2D(u1,vv0-2.*u8)+.220472*texture2D(u1,vv0-u8)+.275591*texture2D(u1,vv0)+.220472*texture2D(u1,vv0+u8)+.110236*texture2D(u1,vv0+2.*u8)+.031496*texture2D(u1,vv0+3.*u8);gl_FragColor=a;}",i:["u1","u8"],precision:"lowp"};g.s77={name:"_",h:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0-3.*u8)+texture2D(u1,vv0-2.*u8)+texture2D(u1,vv0-u8)+texture2D(u1,vv0)+texture2D(u1,vv0+u8)+texture2D(u1,vv0+2.*u8)+texture2D(u1,vv0+3.*u8);gl_FragColor=a/7.;}",
i:["u1","u8"],precision:"lowp"};g.s78={name:"_",h:"uniform sampler2D u1;varying vec2 vv0;const vec4 g=vec4(0.,0.,0.,0.);const float e=256.;void main(){vec4 b=g;float c=0.;vec2 d;for(float a=0.;a<e;a+=1.)d=vec2((a+.5)/e,vv0.y),b+=texture2D(u1,d),c+=1.;gl_FragColor=b/c;}",i:["u1"],precision:"highp"};g.s79={name:"_",h:"uniform sampler2D u1,u82;varying vec2 vv0;const vec4 h=vec4(1.,1.,1.,1.);const float f=0.,g=.3;void main(){vec4 b=texture2D(u82,vv0),c=texture2D(u1,vv0);float a=smoothstep(g,f,vv0.y);a+=smoothstep(1.-g,1.-f,vv0.y),gl_FragColor=mix(c,b,a*h);}",
i:["u1","u82"],precision:"highp"};g.s80={name:"_",h:"uniform sampler2D u1,u82;varying vec2 vv0;const vec3 h=vec3(1.,1.,1.);const float f=0.,g=.3;vec4 i(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),j=exp2(c);vec3 k=clamp(b/j,0.,1.);return vec4(k,(c+128.)/256.);}void main(){vec3 b=texture2D(u82,vv0).rgb,c=texture2D(u1,vv0).rgb;float a=smoothstep(g,f,vv0.y);a+=smoothstep(1.-g,1.-f,vv0.y),gl_FragColor=i(mix(c,b,a*h));}",i:["u1","u82"],precision:"highp"};g.s81=
{name:"_",h:"uniform sampler2D u1,u94,u2,u95;uniform vec4 u96;uniform vec2 u97;uniform float u98,u99,u100,u101;varying vec2 vv0;const vec2 g=vec2(1.,1.),h=vec2(.5,.5);const float e=3.141592;void main(){vec4 d=texture2D(u1,vv0),i=texture2D(u94,vec2(1.-vv0.x,vv0.y));float j=step(texture2D(u95,vec2(.25,.5)).r,1.);vec2 a=vv0*2.-g;float k=texture2D(u2,a*u97*.5+h).r,l=atan(a.x,a.y),m=-(mod(u98,2.*e)-e),b=mod(l-m+e,2.*e)-e,n=smoothstep(0.,u99,b),c=.5+u101*(.5-n);c*=(sign(b)+1.)/2.;vec4 o=i+c*u96*k;gl_FragColor=mix(d,o,j*u100);}",
i:"u1 u2 u95 u94 u96 u98 u99 u100 u97 u101".split(" "),precision:"lowp"};var r="u102 u103 u104 u105 u92 u106 u22 u107 u94 u108 u109 u110 u111 u112 u8".split(" ");S.da&&(g.s82={name:"_",h:"uniform sampler2D u102,u103,u104,u105,u92,u106,u113,u94;uniform vec3 u107,u110;uniform vec2 u8;uniform float u22,u114,u109,u111,u108;varying vec2 vv0;const float j=3.141592;const vec3 u=vec3(0.,0.,0.),v=vec3(.299,.587,.114);const float w=2.;vec3 l(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}vec2 x(vec3 a){float b=atan(a.x,a.z),c=acos(-a.y);return vec2(.5-.5*b/j,1.-c/j);}vec2 y(vec3 a,float b){vec2 d=vec2(1.,.5)/pow(2.,b),f=vec2(0.,1.-pow(.5,b));float g=atan(a.x,a.z),h=acos(-a.y),c=.5+.5*g/j,i=h/j,k=pow(2.,b)/u108;c=(1.-k)*c;return f+vec2(c,i)*d;}void main(){vec4 c=texture2D(u102,vv0);vec3 k=texture2D(u94,vec2(1.-vv0.x,vv0.y)).rgb;if(c.a<.01){gl_FragColor=vec4(k,0.);return;}float z=c.a;vec3 A=c.rgb,B=A+u107;vec4 b=texture2D(u105,vv0),m=texture2D(u103,vv0);vec3 d=m.rgb;float f=m.a;vec4 n=texture2D(u104,vv0);vec3 C=n.rgb;float o=b.r,D=b.g,p=floor(b.b*255.),g=floor(p/16.),E=(p-16.*g)/16.;g/=16.;float F=b.a;f=1.-(1.-f)*(1.-n.a);vec2 G=x(-d);vec3 q=(1.-F)*l(texture2D(u106,G)),r=normalize(B),h=u,s=reflect(-r,d);vec2 H=y(s,floor(D*u22));float I=acos(-s.z),J=smoothstep(u109-u111,u109+u111,I);h=mix(l(texture2D(u92,H)),u110,J);float a=o+(E-o)*pow(1.-dot(d,-r),g*16.);a=clamp(a,0.,1.);float t=1.-u114*texture2D(u113,vv0).r;h*=pow(t,2.),q*=t;vec3 i=C*mix(q,h,a),M=mix(k,i,z*(f*(1.-a)+a));float K=dot(i,v),L=max(0.,(K-1.)/(w-1.));gl_FragColor=vec4(i,L);}",
i:r.concat(["u113","u114"]),precision:"highp"});g.s83={name:"_",h:"uniform sampler2D u102,u103,u104,u105,u92,u106,u94;uniform vec3 u107,u110;uniform vec2 u8;uniform float u22,u109,u111,u112,u115,u116,u108;varying vec2 vv0;const float g=3.141592;const vec3 D=vec3(0.,0.,0.),m=vec3(1.,1.,1.),E=vec3(.299,.587,.114);const float F=2.;vec3 p(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}vec2 G(vec3 a){float b=atan(a.x,-a.z),c=acos(-a.y);return vec2(.5-.5*b/g,1.-c/g);}vec2 H(vec3 a,float d){float b=pow(2.,d);vec2 f=vec2(1.,.5)/b,h=vec2(0.,1.-1./b);float i=atan(a.x,a.z),j=acos(-a.y),c=.5+.5*i/g,k=j/g,l=.5*b/u108;c=(1.-l)*c;return h+vec2(c,k)*f;}float n(vec3 a,vec3 b){return abs(acos(dot(a,b)));}float o(vec2 a){float b=texture2D(u102,a).a;return step(.01,b);}void main(){vec4 h=texture2D(u102,vv0),i=texture2D(u94,vec2(1.-vv0.x,vv0.y));if(h.a<.01){gl_FragColor=vec4(i.rgb,0.);return;}float q=h.a;vec3 I=h.rgb,J=I+u107;vec4 c=texture2D(u105,vv0),r=texture2D(u103,vv0);vec3 a=r.rgb;float j=r.a;vec4 k=texture2D(u104,vv0);vec3 d=k.rgb;if(q>1.){gl_FragColor=vec4(mix(i.rgb,d,k.a),1.);return;}d=pow(d,u115*m);float s=c.r,K=c.g,L=c.a,t=floor(c.b*255.),l=floor(t/16.),M=(t-16.*l)/16.;l/=16.,j=1.-(1.-j)*(1.-k.a);vec2 u=vv0+vec2(-1.,0.)*u8,v=vv0+vec2(1.,0.)*u8,w=vv0+vec2(0.,1.)*u8,x=vv0+vec2(0.,-1.)*u8;vec3 N=texture2D(u103,u).rgb,O=texture2D(u103,v).rgb,P=texture2D(u103,w).rgb,Q=texture2D(u103,x).rgb;float R=n(a,N)*o(u),S=n(a,O)*o(v),T=n(a,P)*o(w),U=n(a,Q)*o(x),V=2.*max(max(R,S),max(T,U)),W=1.2*clamp(V/g,0.,1.),X=max(K,W);vec2 Y=G(a);vec3 Z=p(texture2D(u106,Y)),_=(1.-L)*Z,y=normalize(J),z=D,A=reflect(-y,a);float aa=floor(X*u22);vec2 ba=H(A,aa);float ca=acos(-A.z),da=smoothstep(u109-u111,u109+u111,ca);vec3 ea=p(texture2D(u92,ba));z=mix(ea,u110,da*u112);float b=s+(M-s)*pow(1.+dot(a,y),l*15.);b=clamp(b,0.,1.);vec3 fa=d*mix(_,z,b);float B=q*(j*(1.-b)+b);vec3 f=mix(i.rgb,pow(fa,m/u115),B);float C=dot(f,E),ga_=max(0.,(C-1.)/(F-1.));f=mix(C*m,f,mix(1.,u116,B)*m),gl_FragColor=vec4(f,ga_);}",
i:r.concat(["u115","u116"]),precision:"highp"};S.da&&(g.s84={name:"_",h:"uniform sampler2D u102,u103;uniform mat4 u117;uniform vec2 u118,u8,u119;uniform float u120,u121,u122,u123,u124,u125,u126,u127,u114;varying vec2 vv0;const float PI=3.141593,HALFPI=1.570796,N=8888.8;void main(){vec2 uvt=vv0+u119;vec4 pos=texture2D(u102,uvt);if(pos.a<.01){gl_FragColor=vec4(0.,0.,0.,1.);return;}vec3 co0=pos.rgb;float c=cos(u120),s=sin(u120);vec3 no0=texture2D(u103,uvt).rgb;float zv=(u117*vec4(co0,1.)).z;vec3 co;vec2 scale=u118/abs(zv),uv,duv=u8*vec2(c,s)*scale;vec3 dp,dpn;float dzMax=0.,angleMin=0.,angle;for(float i=0.;i<N;i+=1.)uv=uvt+i*duv,co=texture2D(u102,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u126,u127,length(dp)),angleMin=max(angleMin,angle),dzMax=max(dzMax,sin(angle)*length(dp));float angleMinInv=0.;for(float i=0.;i<N;i+=1.)uv=uvt-i*duv,co=texture2D(u102,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u126,u127,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMinInv=max(angleMinInv,angle);duv=u8*vec2(s,c)*scale;float angleMin2=0.;for(float i=0.;i<N;i+=1.)uv=uvt+i*duv,co=texture2D(u102,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u126,u127,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMin2=max(angleMin2,angle);float angleMin2Inv=0.;for(float i=0.;i<N;i+=1.)uv=uvt-i*duv,co=texture2D(u102,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u126,u127,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMin2Inv=max(angleMin2Inv,angle);float omegaMin=PI/4.*(angleMin+angleMinInv)*(angleMin2+angleMin2Inv),dzFactor=clamp(dzMax/u123,u124,1.),ao=dzFactor*clamp(u122*omegaMin*u125,0.,u114);gl_FragColor=vec4(ao,ao,ao,u121);}",
i:"u102 u103 u122 u121 u120 u8 u128 u123 u124 u125 u126 u127 u117 u118 u114".split(" "),Ga:[{search:"8888.8",replace:S.fk[ca.T()].toFixed(1)}],precision:"lowp"},g.s85={name:"_",h:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4),j=vec2(-1.9,.9),k=vec2(.9,1.9),l=vec2(-.9,-1.9),m=vec2(1.9,-.9);void main(){vec2 a=vv0;vec4 b=texture2D(u1,a)+texture2D(u1,a+u8*f)+texture2D(u1,a+u8*g)+texture2D(u1,a+u8*h)+texture2D(u1,a+u8*i);b+=texture2D(u1,a+u8*j)+texture2D(u1,a+u8*k)+texture2D(u1,a+u8*l)+texture2D(u1,a+u8*m),gl_FragColor=b/9.;}",
i:["u1","u8"],precision:"lowp"});g.s86={name:"_",h:"varying vec3 vv0;void main(){gl_FragColor=vec4(vv0,1.);}",s:"attribute vec3 a0;uniform mat4 u129,u117,u130;varying vec3 vv0;void main(){vec4 a=u129*u117*u130*vec4(a0,1.);gl_Position=a,vv0=a.xyz/a.w;}",i:["u129","u117","u130"],precision:"lowp"};g.s87={name:"_",h:"uniform sampler2D u131,u106,u93;uniform mat4 u129,u132;uniform vec2 u133;uniform float u134;varying vec2 vv0;const float n=8888.8,o=9999.9,p=25.,v=50.,w=1.2,e=3.141592;const vec4 x=vec4(0.,0.,0.,0.),A=vec4(1.,1.,1.,1.);const vec2 f=vec2(.5,.5);vec2 y(vec3 a){float b=atan(a.x,a.z),c=acos(a.y);return vec2(.5-.5*b/e,1.-c/e);}void main(){float d,a,q;vec2 z=vec2(vv0.x,1.-vv0.y),b;vec3 r=vec3(u133*(z-f),0.),B=vec3(u132*vec4(r,1.)),g,s;vec4 t=x,h,c,u;vec3 i;int j;for(float k=0.;k<n;k+=1.){b.x=k,b.y=floor(b.x/64.),c=texture2D(u93,b/64.),d=e*c.r,a=2.*asin(sqrt(.25+c.g*.25)),g=vec3(cos(d)*sin(a),sin(d)*sin(a),-cos(a)),q=p+(.5+.5*c.b)*(v-p),j=0;for(float l=0.;l<=o;l+=1.){u=vec4(r+g*q*pow(l/o,w),1.),h=u129*u,i=h.xyz/h.w;if(texture2D(u131,f+f*i.xy).z<i.z){j=1;break;}}if(j==1)continue;s=vec3(u132*vec4(g,0.)),t+=texture2D(u106,y(s));}gl_FragColor=vec4(u134*t.rgb/n,1.);}",
i:"u131 u106 u93 u129 u132 u133 u134".split(" "),Ga:[{search:"8888.8",replace:S.Vn[ca.T()].toFixed(1)},{search:"9999.9",replace:S.Wn[ca.T()].toFixed(1)}],precision:"lowp"};g.s88={name:"_",h:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=.285714*texture2D(u1,vv0-u8)+.428571*texture2D(u1,vv0)+.285714*texture2D(u1,vv0+u8);gl_FragColor=a;}",i:["u1","u8"],precision:"lowp"};g.s89={name:"_",h:"uniform sampler2D u1,u135;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
s:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u129,u117;varying vec2 vv0;void main(){vec4 a=u129*u117*vec4(a0,1.);gl_Position=a,vv0=a1;}",i:["u129","u117","u1"],H:["a0","a1"],precision:"lowp"};if(ca.Z()){r="u39 u136 u137 u138 u139 u40 u105 u140 u141 u7 u142 u143 u72".split(" ").concat(x,D);ca.Yh()||(g.s90={name:"_",s:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",h:"void main(){gl_FragData[0]=vec4(0.,0.,0.,0.),gl_FragData[1]=vec4(0.,0.,0.,0.),gl_FragData[2]=vec4(0.,0.,0.,0.),gl_FragData[3]=vec4(0.,0.,0.,0.);}",
i:[],precision:"lowp",ca:!0});g.s91={name:"_",s:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",h:"uniform vec4 color;void main(){gl_FragData[0]=color,gl_FragData[1]=color,gl_FragData[2]=color,gl_FragData[3]=color;}",i:["color"],ca:!0};g.s92NNGLcolor={name:"_",h:"uniform vec4 u105,u7;uniform vec3 u140;uniform float u141;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){float b=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv3),c=u141;vec4 a=u105;float d=floor(15.99*c),i=floor(15.99*a.b);a.b=(d+16.*i)/255.,gl_FragData[0]=vec4(vv0,vv2),gl_FragData[1]=vec4(normalize(vv1),b),gl_FragData[2]=vec4(u140,0.),gl_FragData[3]=a;}",
s:"attribute vec3 a0,a2;uniform sampler2D u39;uniform vec3 u136;uniform vec2 u40,u144;uniform float u137,u142,u143,u138,u139,u145;varying vec3 vv0,vv1;varying float vv2,vv3;const vec2 e=vec2(1.,1.);const vec3 r=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),s=vec2(.16,.5),t=vec2(.5,.5),u=vec2(.84,.5);uniform mat4 u70;uniform vec3 u72,u76,u77,u78;uniform float u71,u79,u80,u73,u74,u75,u81;mat3 v(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,s);vec2 f=u79*e;vec3 c=u79*r;vec2 w=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,t).rgb+vec3(u73,0.,0.),u76,c);float x=mix(texture2D(u39,u).r,0.,u79);a.z+=x;mat3 h=v(a);vec3 y=mix(u136,u77,c);float z=mix(u137,u80,u79);vec3 b=mix(u72,u78,c);b.x+=u71*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 A=mat2(i,j,-j,i);b.xy=A*b.xy;float B=mix(u75,1.,u79);vec2 k=u74/w;vec3 l=a0;float C=max(0.,-a0.z-u138)*u139;l.x+=C*sign(a0.x)*(1.-u79);vec3 m=h*(l+y)*z+b;vec2 D=k*B;vec3 E=vec3(g*D,-k)+m*vec3(1.,-1.,-1.);gl_Position=u70*(vec4(u81*e,e)*vec4(E,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv2=smoothstep(u142,u143,a0.z),vv0=m,vv3=a0.y;}",
i:r,H:["a0","a2"],P:[3,3],ca:!0};g.s92NNGLtexture={name:"_",h:"uniform sampler2D u1;uniform vec4 u105,u7;uniform vec3 u140;uniform float u141,u67;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){float c=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv4),d=u141;vec4 b=u105;float j=floor(15.99*d),k=floor(15.99*b.b);b.b=(j+16.*k)/255.;vec4 a=texture2D(u1,vv2);vec3 l=mix(u140,a.rgb,a.a);vec4 m=vec4(mix(a.rgb*u140,l,u67),a.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),c),gl_FragData[2]=m,gl_FragData[3]=b;}",
s:"attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u136;uniform vec2 u40,u144;uniform float u137,u142,u143,u138,u139,u145;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;const vec2 e=vec2(1.,1.);const vec3 s=vec3(1.,1.,1.);const vec2 G=vec2(-1.,1.),t=vec2(.16,.5),u=vec2(.5,.5),v=vec2(.84,.5);uniform mat4 u70;uniform vec3 u72,u76,u77,u78;uniform float u71,u79,u80,u73,u74,u75,u81;mat3 w(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,t);vec2 f=u79*e;vec3 c=u79*s;vec2 x=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,u).rgb+vec3(u73,0.,0.),u76,c);float y=mix(texture2D(u39,v).r,0.,u79);a.z+=y;mat3 h=w(a);vec3 z=mix(u136,u77,c);float A=mix(u137,u80,u79);vec3 b=mix(u72,u78,c);b.x+=u71*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 B=mat2(i,j,-j,i);b.xy=B*b.xy;float C=mix(u75,1.,u79);vec2 k=u74/x;vec3 l=a0;float D=max(0.,-a0.z-u138)*u139;l.x+=D*sign(a0.x)*(1.-u79);vec3 m=h*(l+z)*A+b;vec2 E=k*C;vec3 F=vec3(g*E,-k)+m*vec3(1.,-1.,-1.);gl_Position=u70*(vec4(u81*e,e)*vec4(F,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv3=smoothstep(u142,u143,a0.z),vv2=a1,vv0=m,vv4=a0.y;}",
i:r.concat(I),H:["a0","a2","a1"],P:[3,3,2],ca:!0};g.s92NNGLtextureNormalMap={name:"_",h:"uniform vec4 u105,u7;uniform vec3 u140;uniform sampler2D u1,u146;uniform float u141,u67;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 l=vec3(1.,1.,1.);void main(){float m=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv5);vec3 v=vec3(0.,0.,-1.),d=normalize(vv2),b=texture2D(u146,vv3).xyz;b=normalize(b*255./127.-1.007874*l);vec3 g=vv0.xyz,n=cross(d,g)*vv0.w;mat3 o=mat3(g,n,d);vec3 p=o*b;float q=u141;vec4 c=u105;float r=floor(15.99*q),s=floor(15.99*c.b);c.b=(r+16.*s)/255.;vec4 a=texture2D(u1,vv3);vec3 t=mix(u140,a.rgb,a.a);vec4 u=vec4(mix(a.rgb*u140,t,u67),a.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(p,m),gl_FragData[2]=u,gl_FragData[3]=c;}",
s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u136;uniform vec2 u40,u144;uniform float u137,u142,u143,u138,u139,u145;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec2 e=vec2(1.,1.);const vec3 t=vec3(1.,1.,1.);const vec2 H=vec2(-1.,1.),u=vec2(.16,.5),v=vec2(.5,.5),w=vec2(.84,.5);uniform mat4 u70;uniform vec3 u72,u76,u77,u78;uniform float u71,u79,u80,u73,u74,u75,u81;mat3 x(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,u);vec2 f=u79*e;vec3 c=u79*t;vec2 y=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,v).rgb+vec3(u73,0.,0.),u76,c);float z=mix(texture2D(u39,w).r,0.,u79);a.z+=z;mat3 h=x(a);vec3 A=mix(u136,u77,c);float B=mix(u137,u80,u79);vec3 b=mix(u72,u78,c);b.x+=u71*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 C=mat2(i,j,-j,i);b.xy=C*b.xy;float D=mix(u75,1.,u79);vec2 k=u74/y;vec3 l=a0;float E=max(0.,-a0.z-u138)*u139;l.x+=E*sign(a0.x)*(1.-u79);vec3 m=h*(l+A)*B+b;vec2 F=k*D;vec3 G=vec3(g*F,-k)+m*vec3(1.,-1.,-1.);gl_Position=u70*(vec4(u81*e,e)*vec4(G,1.)),vv2=h*a2*vec3(1.,-1.,-1.),vv0=a3,vv4=smoothstep(u142,u143,a0.z),vv3=a1,vv1=m,vv5=a0.y;}",
i:r.concat(I,["u146"]),H:["a3","a0","a2","a1"],P:[4,3,3,2],ca:!0};g.s92NNGLtextureParamsMap={name:"_",h:"uniform sampler2D u1,u68;uniform vec4 u105,u7,u69;uniform vec3 u140;uniform float u141,u67;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;vec2 j(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float g=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv4),d=u141;vec4 a=u105,e=texture2D(u68,vv2);vec2 b=j(e.b,4.);float h=1.-b.x,o=b.y;b=j(e.a,1.);float p=b.x,f=b.y;vec4 q=vec4(e.rg,o,p);float r=h;a=mix(a,q,u69*f),d=mix(d,r,u69.b*f);float s=floor(15.99*d),t=floor(15.99*a.b);a.b=(s+16.*t)/255.;vec4 c=texture2D(u1,vv2);vec3 u=mix(u140,c.rgb,c.a);vec4 v=vec4(mix(c.rgb*u140,u,u67),c.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),g),gl_FragData[2]=v,gl_FragData[3]=a;}",
s:"attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u136;uniform vec2 u40,u144;uniform float u137,u142,u143,u138,u139,u145;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;const vec2 e=vec2(1.,1.);const vec3 s=vec3(1.,1.,1.);const vec2 G=vec2(-1.,1.),t=vec2(.16,.5),u=vec2(.5,.5),v=vec2(.84,.5);uniform mat4 u70;uniform vec3 u72,u76,u77,u78;uniform float u71,u79,u80,u73,u74,u75,u81;mat3 w(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,t);vec2 f=u79*e;vec3 c=u79*s;vec2 x=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,u).rgb+vec3(u73,0.,0.),u76,c);float y=mix(texture2D(u39,v).r,0.,u79);a.z+=y;mat3 h=w(a);vec3 z=mix(u136,u77,c);float A=mix(u137,u80,u79);vec3 b=mix(u72,u78,c);b.x+=u71*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 B=mat2(i,j,-j,i);b.xy=B*b.xy;float C=mix(u75,1.,u79);vec2 k=u74/x;vec3 l=a0;float D=max(0.,-a0.z-u138)*u139;l.x+=D*sign(a0.x)*(1.-u79);vec3 m=h*(l+z)*A+b;vec2 E=k*C;vec3 F=vec3(g*E,-k)+m*vec3(1.,-1.,-1.);gl_Position=u70*(vec4(u81*e,e)*vec4(F,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv3=smoothstep(u142,u143,a0.z),vv2=a1,vv0=m,vv4=a0.y;}",
i:r.concat(I,u),H:["a0","a2","a1"],P:[3,3,2],ca:!0};g.s92NNGLtextureNormalParamsMap={name:"_",h:"uniform sampler2D u1,u146,u68;uniform vec4 u105,u7,u69;uniform vec3 u140;uniform float u141,u67;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 q=vec3(1.,1.,1.);vec2 k(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float r=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv5);vec3 E=vec3(0.,0.,-1.),g=normalize(vv2),d=texture2D(u146,vv3).xyz;d=normalize(d*255./127.-1.007874*q);vec3 h=vv0.xyz,s=cross(g,h)*vv0.w;mat3 t=mat3(h,s,g);vec3 u=t*d;float e=u141;vec4 a=u105,f=texture2D(u68,vv3);vec2 b=k(f.b,4.);float v=1.-b.x,w=b.y;b=k(f.a,1.);float x=b.x,l=b.y;vec4 y=vec4(f.rg,w,x);float z=v;a=mix(a,y,u69*l),e=mix(e,z,u69.b*l);float A=floor(15.99*e),B=floor(15.99*a.b);a.b=(A+16.*B)/255.;vec4 c=texture2D(u1,vv3);vec3 C=mix(u140,c.rgb,c.a);vec4 D=vec4(mix(c.rgb*u140,C,u67),c.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(u,r),gl_FragData[2]=D,gl_FragData[3]=a;}",
s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u136;uniform vec2 u40,u144;uniform float u137,u142,u143,u138,u139,u145;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec2 e=vec2(1.,1.);const vec3 t=vec3(1.,1.,1.);const vec2 H=vec2(-1.,1.),u=vec2(.16,.5),v=vec2(.5,.5),w=vec2(.84,.5);uniform mat4 u70;uniform vec3 u72,u76,u77,u78;uniform float u71,u79,u80,u73,u74,u75,u81;mat3 x(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,u);vec2 f=u79*e;vec3 c=u79*t;vec2 y=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,v).rgb+vec3(u73,0.,0.),u76,c);float z=mix(texture2D(u39,w).r,0.,u79);a.z+=z;mat3 h=x(a);vec3 A=mix(u136,u77,c);float B=mix(u137,u80,u79);vec3 b=mix(u72,u78,c);b.x+=u71*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 C=mat2(i,j,-j,i);b.xy=C*b.xy;float D=mix(u75,1.,u79);vec2 k=u74/y;vec3 l=a0;float E=max(0.,-a0.z-u138)*u139;l.x+=E*sign(a0.x)*(1.-u79);vec3 m=h*(l+A)*B+b;vec2 F=k*D;vec3 G=vec3(g*F,-k)+m*vec3(1.,-1.,-1.);gl_Position=u70*(vec4(u81*e,e)*vec4(G,1.)),vv2=h*a2*vec3(1.,-1.,-1.),vv0=a3,vv4=smoothstep(u142,u143,a0.z),vv3=a1,vv1=m,vv5=a0.y;}",
i:r.concat(I,["u146"],u),H:["a3","a0","a2","a1"],P:[4,3,3,2],ca:!0};r="u129 u117 u130 u105 u140 u141 u7".split(" ");g.s92color={name:"_",h:"uniform vec4 u105,u7;uniform vec3 u140;uniform float u141;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){float b=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv3),c=u141;vec4 a=u105;float d=floor(15.99*c),i=floor(15.99*a.b);a.b=(d+16.*i)/255.,gl_FragData[0]=vec4(vv0,vv2),gl_FragData[1]=vec4(normalize(vv1),b),gl_FragData[2]=vec4(u140,0.),gl_FragData[3]=a;}",s:"attribute vec3 a0,a2;uniform mat4 u129,u117,u130;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){vec4 a=u130*vec4(a0,1.),b=u130*vec4(a2,0.);gl_Position=u129*u117*a,vv0=a.xyz,vv1=b.xyz,vv2=1.,vv3=a0.y;}",
i:r,H:["a0","a2"],ca:!0};g.s92={name:"_",h:"uniform sampler2D u1;uniform vec4 u105,u7;uniform vec3 u140;uniform float u141,u67;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){float c=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv4),d=u141;vec4 b=u105;float j=floor(15.99*d),k=floor(15.99*b.b);b.b=(j+16.*k)/255.;vec4 a=texture2D(u1,vv2);vec3 l=mix(u140,a.rgb,a.a);vec4 m=vec4(mix(a.rgb*u140,l,u67),a.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),c),gl_FragData[2]=m,gl_FragData[3]=b;}",
s:"attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u129,u117,u130;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){vec4 a=u130*vec4(a0,1.),b=u130*vec4(a2,0.);gl_Position=u129*u117*a,vv2=a1,vv0=a.xyz,vv1=b.xyz,vv3=1.,vv4=a0.y;}",i:r.concat(I),H:["a0","a2","a1"],ca:!0};var h=["u146","u147"];g.s92NormalMap={name:"_",h:"uniform sampler2D u1,u146;uniform vec4 u105,u7;uniform vec3 u147,u140;uniform float u141,u67;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 l=vec3(1.,1.,1.);void main(){float m=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv5);vec3 v=vec3(0.,0.,-1.),d=normalize(vv2),b=texture2D(u146,vv3).xyz;b=normalize(b*255./127.-1.007874*l);vec3 g=vv0.xyz,n=cross(d,g)*vv0.w;mat3 o=mat3(g,n,d);vec3 p=o*b;float q=u141;vec4 c=u105;float r=floor(15.99*q),s=floor(15.99*c.b);c.b=(r+16.*s)/255.;vec4 a=texture2D(u1,vv3);vec3 t=mix(u140,a.rgb,a.a);vec4 u=vec4(mix(a.rgb*u140,t,u67),a.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(p,m),gl_FragData[2]=u,gl_FragData[3]=c;}",
s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u129,u117,u130;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;void main(){vec4 a=u130*vec4(a0,1.),b=u130*vec4(a2,0.);gl_Position=u129*u117*a,vv0=a3,vv3=a1,vv1=a.xyz,vv2=b.xyz,vv4=1.,vv5=a0.y;}",i:r.concat(I,h),H:["a0","a2","a1","a3"],ca:!0};g.s92ParamsMap={name:"_",h:"uniform sampler2D u1,u68;uniform vec4 u105,u7,u69;uniform vec3 u140;uniform float u141,u67;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;vec2 j(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float g=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv4),d=u141;vec4 a=u105,e=texture2D(u68,vv2);vec2 b=j(e.b,4.);float h=1.-b.x,o=b.y;b=j(e.a,1.);float p=b.x,f=b.y;vec4 q=vec4(e.rg,o,p);float r=h;a=mix(a,q,u69*f),d=mix(d,r,u69.b*f);float s=floor(15.99*d),t=floor(15.99*a.b);a.b=(s+16.*t)/255.;vec4 c=texture2D(u1,vv2);vec3 u=mix(u140,c.rgb,c.a);vec4 v=vec4(mix(c.rgb*u140,u,u67),c.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),g),gl_FragData[2]=v,gl_FragData[3]=a;}",
s:"attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u129,u117,u130;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){vec4 a=u130*vec4(a0,1.),b=u130*vec4(a2,0.);gl_Position=u129*u117*a,vv2=a1,vv0=a.xyz,vv1=b.xyz,vv3=1.,vv4=a0.y;}",i:r.concat(I,u),H:["a0","a2","a1"],ca:!0};g.s92NormalParamsMap={name:"_",h:"uniform sampler2D u1,u146,u68;uniform vec4 u105,u7,u69;uniform vec3 u147,u140;uniform float u141,u67;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 q=vec3(1.,1.,1.);vec2 k(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float r=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv5);vec3 E=vec3(0.,0.,-1.),g=normalize(vv2),d=texture2D(u146,vv3).xyz;d=normalize(d*255./127.-1.007874*q);vec3 h=vv0.xyz,s=cross(g,h)*vv0.w;mat3 t=mat3(h,s,g);vec3 u=t*d;float e=u141;vec4 a=u105,f=texture2D(u68,vv3);vec2 b=k(f.b,4.);float v=1.-b.x,w=b.y;b=k(f.a,1.);float x=b.x,l=b.y;vec4 y=vec4(f.rg,w,x);float z=v;a=mix(a,y,u69*l),e=mix(e,z,u69.b*l);float A=floor(15.99*e),B=floor(15.99*a.b);a.b=(A+16.*B)/255.;vec4 c=texture2D(u1,vv3);vec3 C=mix(u140,c.rgb,c.a);vec4 D=vec4(mix(c.rgb*u140,C,u67),c.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(u,r),gl_FragData[2]=D,gl_FragData[3]=a;}",
s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u129,u117,u130;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;void main(){vec4 a=u130*vec4(a0,1.),b=u130*vec4(a2,0.);gl_Position=u129*u117*a,vv0=a3,vv3=a1,vv1=a.xyz,vv2=b.xyz,vv4=1.,vv5=a0.y;}",i:r.concat(I,h,u),H:["a0","a2","a1","a3"],ca:!0}}else t();p();r=[{type:"1i",name:"u1",value:0}];z.j("s0",r);z.j("s1",r);z.j("s65",[{type:"1i",name:"u6",value:1}].concat(r));z.j("s66",[{type:"1i",name:"u6",
value:1}].concat(r));z.j("s12",[{type:"1i",name:"u82",value:1}].concat(r));z.j("s67",[{type:"1i",name:"u82",value:1}].concat(r));z.j("s68",r);z.j("s69",r);z.j("s70",[{type:"1i",name:"u86",value:1},{type:"1i",name:"u39",value:2}].concat(r));z.j("s71",r);z.j("s43",r);z.j("s72",[{type:"1i",name:"u88",value:0},{type:"1i",name:"u89",value:1}]);z.j("s73",[{type:"1i",name:"u92",value:0},{type:"1i",name:"u93",value:1}]);z.j("s74",r);z.j("s75",r);z.j("s76",r);z.j("s77",r);z.j("s78",r);z.j("s79",[{type:"1i",
name:"u82",value:1}].concat(r));z.j("s80",[{type:"1i",name:"u82",value:1}].concat(r));S.da&&(z.j("s84",[{type:"1i",name:"u102",value:0},{type:"1i",name:"u103",value:1},{type:"1f",name:"u123",value:S.Uj},{type:"1f",name:"u124",value:S.Vj},{type:"1f",name:"u125",value:S.gk},{type:"1f",name:"u126",value:S.Yj},{type:"1f",name:"u127",value:S.Zj},{type:"1f",name:"u122",value:1},{type:"1f",name:"u114",value:1}]),z.j("s85",r));h=[{type:"1i",name:"u102",value:0},{type:"1i",name:"u103",value:1},{type:"1i",
name:"u104",value:2},{type:"1i",name:"u92",value:3},{type:"1i",name:"u106",value:4},{type:"1i",name:"u105",value:6},{type:"1i",name:"u94",value:7},{type:"1f",name:"u112",value:0},{type:"1f",name:"u109",value:0},{type:"1f",name:"u111",value:0}];S.da&&z.j("s82",h.concat([{type:"1f",name:"u114",value:S.Xj[ca.T()]},{type:"1i",name:"u113",value:5}]));z.j("s83",h.concat([{type:"1f",name:"u115",value:S.Zb},{type:"1f",name:"u116",value:S.Hd}]));z.j("s87",[{type:"1i",name:"u131",value:0},{type:"1i",name:"u106",
value:1},{type:"1i",name:"u93",value:2},{type:"1f",name:"u134",value:S.Un}]);z.j("s88",r);z.j("s89",r);z.j("s81",[{type:"1i",name:"u2",value:1},{type:"1i",name:"u95",value:2},{type:"1i",name:"u94",value:3},{type:"1f",name:"u100",value:1},{type:"2f",name:"u97",value:[0,0]}].concat(r));ca.Z()?(z.j("s92",r),z.j("s92NormalMap",[{type:"1i",name:"u146",value:1}].concat(r)),z.j("s92ParamsMap",[{type:"1i",name:"u68",value:1}].concat(r)),z.j("s92NormalParamsMap",[{type:"1i",name:"u146",value:1},{type:"1i",
name:"u68",value:2}].concat(r))):k();F=!0},In:function(){t();p();k()},od:function(){return y.id},$e:function(){return x},af:function(){return D},set:function(r){pb.bj(z);g[r].set()},vb:function(r){return m(r,C())},Md:function(r){return m(r,{name:"_",h:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",i:[],precision:"highp"})},Ln:function(r){return m(r,{name:"_",h:"const vec4 d=vec4(.5,.5,.5,.5);void main(){gl_FragData[0]=d,gl_FragData[1]=d,gl_FragData[2]=d,gl_FragData[3]=d;}",i:[],precision:"highp",
ca:!0})},I:function(){-1!==f&&y.I()},Od:function(){var r=0;y.ya.forEach(function(h,K){K=y.P[K];c.vertexAttribPointer(h,K,c.FLOAT,!1,y.Fg,r);r+=4*K})},Kc:function(){z.cc(c)},cc:function(r){r.vertexAttribPointer(y.ya[0],2,r.FLOAT,!1,8,0)},Sp:function(){c.vertexAttribPointer(y.attributes.a0,3,c.FLOAT,!1,12,0)},Qa:function(){c.vertexAttribPointer(y.attributes.a0,3,c.FLOAT,!1,32,0)},Za:function(){c.vertexAttribPointer(y.attributes.a0,3,c.FLOAT,!1,24,0)},Vi:function(){c.vertexAttribPointer(y.attributes.a2,
3,c.FLOAT,!1,32,12)},Wi:function(){c.vertexAttribPointer(y.attributes.a2,3,c.FLOAT,!1,24,12)},Ic:function(){c.vertexAttribPointer(y.attributes.a1,2,c.FLOAT,!1,32,24)},Tp:function(){c.vertexAttribPointer(y.attributes.a0,3,c.FLOAT,!1,20,0);c.vertexAttribPointer(y.attributes.a1,2,c.FLOAT,!1,20,12)},zn:function(){c.vertexAttribPointer(y.attributes.a0,3,c.FLOAT,!1,32,0);c.vertexAttribPointer(y.attributes.a2,3,c.FLOAT,!1,32,12);c.vertexAttribPointer(y.attributes.a1,2,c.FLOAT,!1,32,24)},An:function(){c.vertexAttribPointer(y.attributes.a0,
3,c.FLOAT,!1,32,0);c.vertexAttribPointer(y.attributes.a2,3,c.FLOAT,!1,32,12)},Bn:function(){c.vertexAttribPointer(y.attributes.a0,3,c.FLOAT,!1,24,0);c.vertexAttribPointer(y.attributes.a2,3,c.FLOAT,!1,24,12)},Kd:function(){c.vertexAttribPointer(y.attributes.a3,4,c.FLOAT,!1,16,0)},Nd:function(r,h){c.uniform1i(y.A[r],h)},G:function(r,h){c.uniform1f(y.A[r],h)},N:function(r,h,K){c.uniform2f(y.A[r],h,K)},cj:function(r,h){c.uniform2fv(y.A[r],h)},ig:function(r,h,K,O){c.uniform3f(y.A[r],h,K,O)},jg:function(r,
h){c.uniform3fv(y.A[r],h)},Ba:function(r,h){c.uniform4fv(y.A[r],h)},Pn:function(r,h){c.uniformMatrix2fv(y.A[r],!1,h)},Qn:function(r,h){c.uniformMatrix3fv(y.A[r],!1,h)},Jc:function(r,h){c.uniformMatrix4fv(y.A[r],!1,h)},j:function(r,h){z.set(r);h.forEach(function(K){switch(K.type){case "4f":c.uniform4fv(y.A[K.name],K.value);break;case "3f":c.uniform3fv(y.A[K.name],K.value);break;case "2f":c.uniform2fv(y.A[K.name],K.value);break;case "1f":c.uniform1f(y.A[K.name],K.value);break;case "1i":c.uniform1i(y.A[K.name],
K.value);break;case "mat2":c.uniformMatrix2fv(y.A[K.name],!1,K.value);break;case "mat4":c.uniformMatrix4fv(y.A[K.name],!1,K.value)}})},K:function(){for(var r in g){var h=g[r];c.detachShader(h.pa,h.df);c.detachShader(h.pa,h.cf);c.deleteShader(h.df);c.deleteShader(h.cf);c.deleteProgram(h.pa)}},v:function(){c.disableVertexAttribArray(0);z.I();z.K();L=0;F=!1;y=null;f=-1}};return z}(),Ua=function(){var a={},b=[],e=!1,d=0,n=0,m=-1,C=-1,k=-1,t=1,p=null,F=!1,I=null,u=!1,x=!1,D=!1,g=!1,f=!1,y=!1,L=!1,z=null,
r=null,h=-1,K=-1,O=null,w=-1,l,q=null,G=null,H=null,N=null,Q=null,Z=null,ia=null,X=[{type:"1f",name:"u79",value:0},{type:"1f",name:"u142",value:0},{type:"1f",name:"u143",value:0},{type:"1f",name:"u74",value:1},{type:"1f",name:"u71",value:0},{type:"1f",name:"u81",value:1}],A={m:function(B,v){a.lg=B;ca.Bg();xc.Qe();Gb.Qe(B.fe);m=B.Te;C=B.Do;k=B.Nf;t=B.ee;var M=[{type:"1f",name:"u74",value:m},{type:"1f",name:"u71",value:k},{type:"1f",name:"u75",value:B.pn},{type:"mat4",name:"u70",value:B.Um},{type:"2f",
name:"u40",value:B.Cj}];B.Ag=M;var da=[{type:"3f",name:"u76",value:[0,0,0]},{type:"3f",name:"u77",value:B.Jg},{type:"3f",name:"u78",value:B.Ig},{type:"1f",name:"u79",value:0},{type:"1f",name:"u80",value:B.fe},{type:"1f",name:"u81",value:1}];B.tj=da;A.Zl(B,v);e||void 0!==B.Ea||(B.Ea=[0,0,120]);L=y=J.ef;if(!e&&y){v=1*ca.rb();var ha=1*ca.qb(),na={isLinear:!0,isPot:!1,width:v,height:ha};z=W.instance(na);r=W.instance(na);h=1/v;K=1/ha}M=[{type:"1i",name:"u39",value:1},{type:"3f",name:"u72",value:B.Ea},
{type:"1f",name:"u138",value:B.za},{type:"1f",name:"u139",value:B.ra}].concat(M,da);p=B.oa;da=[{type:"1f",name:"u142",value:p[0]},{type:"1f",name:"u143",value:p[1]}];ca.Z()?(v=[{type:"1i",name:"u1",value:0}],ha=[{type:"1i",name:"u146",value:2}],E.j("s92NNGLcolor",M.concat(da)),E.j("s92NNGLtexture",[].concat(v,M,da)),E.j("s92NNGLtextureNormalMap",[].concat(v,ha,M,da)),E.j("s92NNGLtextureParamsMap",[{type:"1i",name:"u68",value:2}].concat(v,M,da)),E.j("s92NNGLtextureNormalParamsMap",[{type:"1i",name:"u68",
value:3}].concat(v,ha,M,da))):(E.j("s96",M.concat(da)),E.j("s97",[{type:"1i",name:"u1",value:0}].concat(M)),E.j("s98",M),E.j("s99",M),E.j("s100",M.concat([{type:"1i",name:"u146",value:0}])),E.j("s101",M),E.j("s102",M.concat([{type:"1i",name:"u68",value:0}])));E.j("s70",[{type:"2f",name:"u87",value:B.sg}]);E.j(S.da?"s82":"s83",[{type:"1f",name:"u109",value:B.re},{type:"3f",name:"u110",value:B.Yf},{type:"1f",name:"u111",value:B.Ee},{type:"1f",name:"u112",value:1},{type:"3f",name:"u107",value:B.Kj}]);
if(l=B.zd)O=B.zm,w=B.Ad,E.j("s81",[{type:"4f",name:"u96",value:B.yd},{type:"1f",name:"u99",value:B.Ef},{type:"2f",name:"u97",value:B.ym},{type:"1f",name:"u101",value:Math.sign(w)}]);b.forEach(function(ua){ua.Ri(B)});e=!0},ac:function(B){x&&sa.la.ac(B);D&&sa.ua.ac(B)},Zl:function(B,v){void 0!==sa.la&&B.ec&&ca.Z()&&(sa.la.m(B),u=!0,v.push(function(M){sa.la.ac(M);x=!0}));void 0!==sa.ua&&B.$c&&(sa.ua.m(B),v.push(function(M){sa.ua.ac(M);D=!0}));void 0!==sa.mc&&B.ve&&(sa.mc.m(B),f=g=!0);void 0!==sa.kb&&
(sa.kb.m(B),I=sa.kb.am({width:B.yc,height:2*B.yc,depth:1.5*B.yc,kl:-B.jf,Sa:B.gf,Nk:B.hf}),F=!0)},Nn:function(B,v,M,da){B&&(ia=B,u&&sa.la.bc(B),D&&sa.ua.bc(B),g&&sa.mc.bc(B),b.forEach(function(ha){ha.bc(B)}));M&&(N=M);da&&(Q=da)},wb:function(B){ca.Z()?(E.j("s92NNGLcolor",B),E.j("s92NNGLtexture",B),E.j("s92NNGLtextureNormalMap",B),E.j("s92NNGLtextureParamsMap",B),E.j("s92NNGLtextureNormalParamsMap",B)):(E.j("s96",B),E.j("s97",B),E.j("s98",B),E.j("s99",B),E.j("s100",B),E.j("s101",B),E.j("s102",B))},
ab:function(B,v,M){var da=[B[0]+v[0],B[1]+v[1],B[2]+v[2]];da=[da[0]+M[0],da[1]+M[1],da[2]+M[2]];a.Fa=da;a.Gm=v;a.ro=M;A.wb([{type:"3f",name:"u136",value:da}]);ca.Z()&&(u&&sa.la.ab(B,v,M),D&&sa.ua.ab(da));F&&sa.kb.ab(B)},bb:function(B,v,M){var da=B*v*M;a.Hm=v;a.so=M;a.Tl=B;A.wb([{type:"1f",name:"u137",value:da}]);ca.Z()&&(u&&sa.la.bb(B*v,M),D&&sa.ua.bb(da));F&&sa.kb.bb(B)},Ki:function(){A.ab(a.Fa,a.Gm,a.ro);A.bb(a.Tl,a.Hm,a.so);A.$i(a.rx);A.m(a.lg);A.Xi(a.pk,a.ra)},$i:function(B){a.rx=B;A.wb([{type:"1f",
name:"u73",value:B}]);ca.Z()&&(u&&sa.la.gg(B),D&&sa.ua.gg(B))},Xi:function(B,v){a.pk=B;a.ra=v;A.wb([{type:"1f",name:"u138",value:B},{type:"1f",name:"u139",value:v}])},Gn:function(B){p=B;0===d&&A.wb([{type:"1f",name:"u142",value:p[0]},{type:"1f",name:"u143",value:p[1]}])},$a:function(B){function v(){F&&sa.kb.toggle(!1);l&&E.j("s81",[{type:"1f",name:"u100",value:0}])}0>=B?(n=0,0!==d&&(d=0,Gb.jn(),F&&sa.kb.toggle(!0),l&&E.j("s81",[{type:"1f",name:"u100",value:1}]))):1<=B?(n=1,1!==d&&(d=1,Gb.ij(!0)),
v()):(n=B,2!==d&&(Gb.ij(!1),d=2,v()));E.j("s83",[{type:"1f",name:"u112",value:1-B}]);X[0].value=n;X[1].value=p[0]*(1-B)+-300*B;X[2].value=p[1]*(1-B)+-300*B;X[3].value=m*(1-B)+B*C;X[4].value=k*(1-B);X[5].value=1-B+B*t;x&&sa.la.hg(n,X);D&&sa.ua.hg(n,X);A.wb(X)},hl:function(B){ia.g(1);B.forEach(function(v){v.bl()});F&&I.V()},sm:function(){return 1===d},te:function(B){ia.Gb(B)},Pj:function(B){b.push(B)},qg:function(B){x=B&&u},pg:function(B){f=B&&g},dg:function(B){D&&ca.Z()&&sa.ua.Rn(B)},xb:function(B){ca.Z()&&
(u&&sa.la.xb(B),D&&sa.ua.xb(B))},el:function(B,v){if(!L)return!1;z.M();B.g(0);E.set("s74");E.N("u8",0,K);V.l(!1,!1);r.o();z.g(0);E.N("u8",h,0);V.l(!1,!1);E.set("s75");v.M();r.g(0);V.l(!1,!1);return!0},hj:function(B){L=B&&y},resize:function(B,v,M){y&&(B*=M,v*=M,z.resize(B,v),r.resize(B,v),h=1/B,K=1/v)},bg:function(B,v){var M=B.L(),da=B.Y(),ha={width:M,height:da,isPot:!1};u&&(H&&H.remove(),H=W.instance(ha));q=wa.instance({width:M,height:da});g||D?(sa.mc.cg(M,da),G&&G.remove(),G=W.instance(ha)):G=B;
u&&sa.la.cg(M,da);v&&(Z&&Z.remove(),Z=W.instance(ha))},$k:function(B){var v=null;switch(d){case 0:v=B;break;case 2:q.bind(!1,!0);Z.o();E.set("s65");E.G("u7",n);B.g(1);Q.g(0);V.l(!0,!0);v=Z;break;case 1:v=Q}if(!x||1===d||!ca.Z())return v;v.Gb(0);f&&sa.mc.V(v,G);q.bind(!1,!f);D&&(f?v.g(0):(G.o(),E.set("s1"),V.l(!0,!0)),sa.ua.V());G.g(0);N.Gb(2);sa.la.V();H.o();E.set("s1");f||D?G.g(0):v.g(0);V.l(!0,!S.da);sa.la.add();return H},fl:function(B,v){if(!l)return!1;E.set("s81");E.G("u98",B*w);O.g(1);Ua.te(2);
G?G.g(3):v.g(3);return!0},v:function(){e=!1;n=d=0;k=C=m=-1;t=1;p=null;F=!1;I=null;f=g=D=x=u=!1;sa.la.v();sa.jb.v()}};return A}(),ra=function(){function a(){k.forEach(function(v){v.il(N)})}function b(){k.forEach(function(v){v.dd(N)})}function e(){k.forEach(function(v){v.gl(N)})}function d(){k.forEach(function(v){v.ed(N)})}function n(){N?Ua.hl(k):k.forEach(function(v){v.cl()})}function m(){q&&clearTimeout(q);q=setTimeout(function(){q=h=!1},16)}function C(v){v()}var k=[],t=[],p={fa:!1,position:!1,sb:!1},
F=[],I=[],u=null,x=0,D=null,g=null,f=null,y=null,L=!1,z=!1,r=!1,h=!1,K=!1,O=!1,w=null,l=null,q=null,G=null,H=!1,N=!1,Q=!1,Z=!1,ia=!1,X=!1,A=!1,B={m:function(){c.enable(c.DEPTH_TEST);c.depthFunc(c.LEQUAL);c.clearDepth(1);S.Lk?(c.enable(c.CULL_FACE),c.frontFace("CCW"===S.Mk?c.CCW:c.CW),c.cullFace(c.BACK)):c.disable(c.CULL_FACE);B.bh();var v={isPot:!1,isLinear:!1,width:ca.rb(),height:ca.qb(),F:4,isFloat:!1};D=W.instance(v);v=Object.assign({},v,{isLinear:!0,width:ca.L(),height:ca.Y()});g=W.instance(v);
f=W.instance(v);S.Na&&(v=Object.assign({},v,{isLinear:!1}),y=W.instance(v));O=za.ea();S.Na||(u=ac.instance({Fb:S.Fb,rc:S.rc,sc:S.sc,qc:S.qc}));L=!0},bh:function(){ca.Z()?p=nc.instance({}):(p.fa=zb.instance({dc:S.Na?!1:"s93",isFloat:!1,Sb:!0,clearColor:[0,0,0,0],F:4}),p.position=zb.instance({dc:S.Na?!1:"s103",isFloat:!0,Sb:!0,clearColor:[0,0,0,0],F:4}),p.sb=zb.instance({dc:!1,isFloat:!0,Sb:!0,clearColor:[0,0,0,0],F:4}),p.Dc=zb.instance({dc:!1,isFloat:!1,Sb:!0,clearColor:[0,0,0,0],F:4}))},Dl:function(){return u},
va:function(v){u=v},fq:function(){},xb:function(v){Ua.xb(v)},Ri:function(v){Ua.m(v,F);ca.Z()||(p.fa.aj(!1),p.position.aj("s96"));N=Z=!0},Qp:function(){Ua.Ki()},Lo:function(v){Ua.Pj(v)},vn:function(v,M,da){Ua.ab(v,M,da)},wn:function(v,M,da){Ua.bb(v,M,da)},tn:function(v,M){Ua.Xi(v,M)},un:function(v){Ua.Gn(v)},xn:function(v){Ua.$i(v)},$a:function(v){Ua.$a(v)},Si:function(v,M,da,ha){Ua.Nn(v,M,da,ha);M&&B.bg(M,ha?!0:!1);Q=!0},qg:function(v){Ua.qg(v)},dg:function(v){Ua.dg(v)},pg:function(v){Ua.pg(v)},hj:function(v){Ua.hj(v)},
Mo:function(v){H&&(ia=!0,X=W.instance({width:G.L(),height:G.Y(),isPot:!1}),A=v)},bg:function(v,M){G="string"===typeof v?W.instance({url:v,isFloat:!1}):v;N&&Ua.bg(G,M);H=!0},Oj:function(v){k.push(v);0!==F.length&&(F.forEach(function(M){M(v)}),F.splice(0,F.length))},fn:function(v){v=k.indexOf(v);-1!==v&&k.splice(v,1)},No:function(v){t.push(v)},Np:function(v){v=t.indexOf(v);-1!==v&&t.splice(v,1)},Td:function(v){N&&(z=v)},animate:function(v){!S.Na||N&&Q?z&&(h||x>S.Im&&K?(w&&clearTimeout(w),++x,window.cancelAnimationFrame(B.animate),
w=setTimeout(function(){window.requestAnimationFrame(B.animate)},16)):(B.Fi(v),++x,N||z&&window.requestAnimationFrame(B.animate))):setTimeout(B.animate,100)},Po:function(v){I.push(v)},Fi:function(v){if((!S.Na||N&&Q)&&L){I.forEach(C);if(ca.Z()){if(!p.set()&&!ca.ja()){ca.fo();B.bh();zb.Vc();E.In();S.Na&&Ua.Ki();c.flush();window.requestAnimationFrame(B.animate);return}N||sc.hn();n();p.I();O&&c.depthMask(!1)}else N&&Ua.te(1),p.fa.set(!0,!0,!0),b(),p.fa.I(),O&&c.depthMask(!1),p.Dc.set(!1,!O,!1),e(),p.Dc.I(),
p.position.set(!0,!O,!1),mb.V(),a(),p.position.I(),p.sb.set(!1,!O,!1),d(),p.sb.I();c.disable(c.DEPTH_TEST);O||c.depthMask(!1);S.da&&vb.V();var M=B.vh();null!==M&&(M.g(7),E.set(S.da?"s82":"s83"),E.N("u8",1/ca.rb(),1/ca.qb()),zb.qk(),D.M(),S.Xm?(c.enable(c.BLEND),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA)):c.disable(c.BLEND),N||mb.Pe(),p.position.g(0),p.sb.g(1),p.fa.g(2),u.Xc(3),p.Dc.g(6),u.Yc(4),u.gh(),S.da&&vb.g(5),V.l(!0,!0),wa.ha(),Ua.el(D,g)||(E.set("s1"),
g.M(),D.g(0),V.l(!1,!1)),E.set("s71"),f.M(),g.g(0),V.l(!1,!1),g.o(),f.g(0),Z&&N?(E.set("s70"),y.g(1),Ua.te(2),V.l(!1,!1),E.set("s1"),y.M(),g.g(0),V.l(!1,!1)):(E.set("s69"),V.l(!1,!1),g.g(0)),wa.$(),c.viewport(0,0,ca.L(),ca.Y()),N&&Ua.fl(v,M)||E.set("s1"),V.l(!1,!1),c.enable(c.DEPTH_TEST),c.depthMask(!0),c.flush())}},vh:function(){if(!H)return W.Fh();if(!N)return G;if(ia&&!Ua.sm()){E.set(A);wa.ha();X.Lc();X.o();G.g(0);var v=X;V.l(!0,!0)}else v=G;return Ua.$k(v)},Yn:function(){S.Rk||z||(z=!0,B.animate(Date.now()),
r||oc.Zn(),r||Gb.lc(!1),l&&clearTimeout(l),S.da&&vb.Ld(),l=setTimeout(B.Ca,S.lk),r||ca.Wl(),r=!0)},cq:function(){z&&(K=z=!1,cancelAnimationFrame(B.animate))},Ca:function(){K||!r||h||S.eh||(K=h=!0,l&&clearTimeout(l),q&&clearTimeout(q),mb.Ve().Hi(),l=setTimeout(function(){ca.Dg(S.Mm);S.da&&vb.uj();x=0;m()},24))},wake:function(){K&&r&&!h&&(h=!0,K=!1,x=0,mb.Ve().Hi(),l&&clearTimeout(l),q&&clearTimeout(q),l=setTimeout(function(){ca.Dg(1);S.da&&vb.Ld();m()},16))},zp:function(){},ep:function(){},Sd:function(v){Z=
v},jq:function(){E.j("s83",[{type:"1f",name:"u115",value:S.Zb},{type:"1f",name:"u116",value:S.Hd}])},resize:function(v,M,da){D.resize(v*da,M*da);g.resize(v,M);f.resize(v,M);S.Na&&y.resize(v,M);Ua.resize(v,M,da);v=[{type:"2f",name:"u8",value:[1/v,1/M]}];E.j("s71",v);E.j("s69",v)},K:function(){w&&clearTimeout(w);l&&clearTimeout(l);q&&clearTimeout(q);k.concat(t).forEach(function(v){v.K()});k.splice(0,k.length);t.splice(0,t.length);p.fa.remove();p.sb.remove();p.Dc.remove();p.position.remove();D.remove();
g.remove();f.remove();y&&y.remove();h=!0},v:function(){B.K();O=K=h=r=z=N=Q=h=!1}};return B}(),sa={},ca=function(){function a(){zb.resize(e*t,d*t);D.Z()&&nc.resize(e*t,d*t);ra.resize(e,d,t);S.da&&vb.resize(e*t,d*t,t);D.Bg()}var b=null,e=0,d=0,n=-1,m=!1,C={Vd:!1,tg:!1,rj:!1,mg:!1,drawBuffers:!1,lm:!1,Vh:!1,nm:!1,Bc:!1,Wa:!1},k=Object.assign({},C),t=1,p=!1,F=!1,I=!1,u=!1,x=!1,D={m:function(g){void 0!==g.onload&&g.onload&&(F=g.onload);void 0===g.expand&&(g.expand=!1);void 0===g.ud&&(g.ud=!1);void 0===
g.sa&&(g.sa=!1);void 0===g.Pb&&(g.Pb=!1);void 0===g.alpha&&(g.alpha=!1);void 0===g.preserveDrawingBuffer&&(g.preserveDrawingBuffer=!1);g.ud&&(m=!0);b=g.sa?g.sa:document.getElementById(g.Fk);g.expand&&D.expand();try{window.Io=g.Pb?g.Pb.ql():b.getContext("webgl",{antialias:!1,alpha:g.alpha,depth:!0,premultipliedAlpha:!1,stencil:!1,preserveDrawingBuffer:g.preserveDrawingBuffer});u=g.Pb?g.Pb.ja():!1;I=!u;8>c.getParameter(c.MAX_TEXTURE_IMAGE_UNITS)&&D.ad("too few texture image units");if(!za.m())return D.ad("invalid config");
S.oo&&(k.tg=c.getExtension("EXT_texture_filter_anisotropic"),k.tg&&(k.Vh=!0));S.po&&(k.Vd=c.getExtension("WEBGL_compressed_texture_s3tc"),k.Vd&&void 0!==k.Vd.COMPRESSED_RGBA_S3TC_DXT5_EXT&&k.Vd.COMPRESSED_RGBA_S3TC_DXT5_EXT&&(k.lm=!0));I&&(k.rj=c.getExtension("OES_element_index_uint")||c.getExtension("MOZ_OES_element_index_uint")||c.getExtension("WEBKIT_OES_element_index_uint"),k.rj&&(k.nm=!0));!u&&S.qo&&(k.mg=c.getExtension("EXT_sRGB"),k.mg&&(k.Bc=!0));I?(k.drawBuffers=c.getExtension("WEBGL_draw_buffers"),
k.drawBuffers&&!S.dh&&(k.Wa=!0)):k.Wa=4<=c.getParameter(c.MAX_DRAW_BUFFERS);if(k.Wa){var f=D.Tk();k.Wa=k.Wa&&f}}catch(y){return D.ad(y)}if(null===c||!c)return D.ad("NO_GL");g.expand&&window.addEventListener("resize",D.expand,!1);b.addEventListener("contextmenu",function(y){y.preventDefault();return!1},!1);e=b.width;d=b.height;D.pf();return!0},pf:function(){n=m?3:2;za.ea()||(n=Math.min(n,1));za.Bk()||(n=Math.min(n,0));xc.m();zb.m();for(var g in sa)sa[g].Gc();E.m();mb.m();Gb.m();ra.m();oc.m();S.da&&
vb.m();"undefined"!==typeof FPSCounter&&FPSCounter.m();D.Bg();D.Vk();p=!0;F&&F();return!0},Vk:function(){if(k.Wa){var g=nc.instance({width:256,height:1});g.bind();c.viewport(0,0,256,1);E.set("s91");E.Ba("color",[1,0,0,1]);V.l(!0,!0);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT||c.DEPTH_BUFFER_BIT);wa.$();E.set("s1");g.sb.g(0);V.l(!1,!1);g=new Uint8Array(1024);c.readPixels(0,0,256,1,c.RGBA,c.UNSIGNED_BYTE,g);x=1>=g[1020]}},Tk:function(){var g=nc.instance({width:1,height:1});if(!g.set())return g.remove(),
!1;E.Ln(c);V.Mb(c);c.bindFramebuffer(c.FRAMEBUFFER,null);E.vb(c);g.fa.Gb(0);V.Mb(c);var f=new Uint8Array(4);c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,f);g.remove();return 3<Math.abs(f[0]-127)?!1:!0},ja:function(){return u},L:function(){return e},Y:function(){return d},rb:function(){return t*D.L()},qb:function(){return t*D.Y()},rl:function(){return e/d},T:function(){return n},qm:function(){return 3===n},Yh:function(){return x},Z:function(){return k.Wa},fo:function(){k.Wa=!1},Fp:function(){return!1},
Dk:function(){return 0<D.T()},Vo:function(){return D.Z()&&0<D.T()},Ue:function(g){var f=c,y="";u||(f=k.drawBuffers,y="_WEBGL");return[f["COLOR_ATTACHMENT0"+y],f["COLOR_ATTACHMENT1"+y],f["COLOR_ATTACHMENT2"+y],f["COLOR_ATTACHMENT3"+y]].splice(0,g)},nd:function(g){return D.Ue(4)[g]},Pl:function(){return u?c.SRGB?c.SRGB:c.RGBA:k.Bc?k.mg.SRGB_ALPHA_EXT:c.RGBA},om:function(){return k.Vh},wl:function(){return k.tg},Cm:function(g){D.ja()?c.drawBuffers(D.Ue(g)):k.drawBuffers.drawBuffersWEBGL(D.Ue(g))},expand:function(){ra.wake();
D.resize(window.innerWidth,window.innerHeight);ra.Ca()},resize:function(g,f){!b||g===e&&f===d||(e=g,d=f,b.width=e,b.height=d,p&&(mb.resize(),a()))},Bg:function(){var g=[{type:"2f",name:"u8",value:[1/ca.rb(),1/ca.qb()]}];E.j("s71",g);E.j("s69",g)},Dg:function(g){t=g;a()},Ia:function(g,f){b.addEventListener(g,f,!1)},ad:function(){n=-1;return!1},Xg:function(){return 0<=n},Ip:function(){},Rp:function(){},bq:function(){var g=document.getElementById("loading");g&&(g.style.display="block")},Wl:function(){var g=
document.getElementById("loading");g&&(g.style.display="none")},K:function(){D.Xg()&&(W.sj(),ra.K(),V.K(),zb.K(),S.da&&vb.K(),ac.K(),oc.K(),E.K(),W.K(),c.flush(),c=null)},v:function(){ra.v();Ua.v();E.v();Object.assign(k,C);p=!1}};return D}(),mb=function(){var a=!1,b=!1,e=[];return{m:function(){},instance:function(d){void 0===d.Ii&&(d.Ii=!0);void 0===d.ie&&(d.ie=.1);void 0===d.he&&(d.he=100);void 0===d.direction&&(d.direction=[0,0,-1]);void 0===d.Nb&&(d.Nb=45);var n=new Qb,m=new Sa(50,-50,-400),C=
null;n.setPosition(m);var k=new Int8Array(20),t=new Int8Array(20),p=0,F=0,I=0,u=0,x={V:function(){t[E.od()]||(E.Jc("u117",n.elements),t[E.od()]=1);k[E.od()]||(E.Jc("u129",C),k[E.od()]=1)},Oe:function(){F||(E.Jc("u117",n.elements),F=1);p||(E.N("u118",C[0],C[5]),p=1)},Pe:function(){I||(E.ig("u107",m.x,m.y,m.z),I=1)},Jb:function(){u||(E.ig("u147",m.x,m.y,m.z),u=1)},Zg:function(){var D=d.ie,g=d.he,f=Math.tan(.5*d.Nb*Math.PI/180);C=[.5/f,0,0,0,0,.5*ca.rl()/f,0,0,0,0,-(g+D)/(g-D),-1,0,0,-2*g*D/(g-D),0];
for(D=0;20>D;++D)k[D]=0;p=0},Hn:function(D,g){m.Pi(g[0]).Qi(g[1]).z=g[2];n.elements.set(D);for(D=0;20>D;++D)t[D]=0;u=I=F=0},Hi:function(){for(var D=u=I=0;20>D;++D)t[D]=0}};x.Zg();a=x;b=!0;d.Ii&&e.push(x);return x},V:function(){b&&a.V()},Oe:function(){b&&a.Oe()},Pe:function(){b&&a.Pe()},Jb:function(){b&&a.Jb()},resize:function(){e.forEach(function(d){d.Zg()})},Ve:function(){return a}}}(),zb=function(){var a=[],b=null;return{m:function(){b=wa.instance({width:ca.rb(),height:ca.qb(),zc:!ca.Z()})},instance:function(e){void 0===
e.width&&(e.width=ca.rb());void 0===e.height&&(e.height=ca.qb());void 0===e.isFloat&&(e.isFloat=!1);void 0===e.Sb&&(e.Sb=!1);void 0===e.clearColor&&(e.clearColor=[0,0,0,0]);void 0===e.F&&(e.F=4);var d=W.instance({isFloat:e.isFloat&&za.ea(),S:e.isFloat,width:e.width,height:e.height,isPot:!1,isLinear:!1,F:e.F}),n=void 0!==e.dc&&e.dc?!0:!1,m=e.dc,C={set:function(k,t,p){p&&b.bind(!1,p);d.o();k&&(c.clearColor(e.clearColor[0],e.clearColor[1],e.clearColor[2],e.clearColor[3]),b.ze());t&&b.Yg();n&&E.set(m)},
aj:function(k){n=(m=k)?!0:!1},I:function(){d.Yd()},g:function(k){d.g(k)},resize:function(k,t){d.resize(k,t)},debug:function(){d.debug()},remove:function(){d.remove()}};e.Sb&&a.push(C);return C},resize:function(e,d){b.resize(e,d);a.forEach(function(n){n.resize(e,d)})},qk:function(){b.Rg()},Vc:function(){b.Vc()},Lc:function(){b.Lc()},Yo:function(){b.Yg()},Xo:function(){b.ze()},Wo:function(){b.clear()},K:function(){b.remove()}}}(),nc=function(){var a=[];return{instance:function(b){void 0===b.width&&
(b.width=ca.rb());void 0===b.height&&(b.height=ca.qb());var e=c.createFramebuffer(),d=b.width,n=b.height,m=!0;b={isFloat:za.ea(),S:!0,width:d,height:n,isPot:!1,isLinear:!1,F:4};var C=W.instance(b),k=W.instance(b),t=W.instance(b),p=W.instance(b),F=wa.xl(),I=wa.Ah();c.bindFramebuffer(F,e);var u=c.createRenderbuffer();c.bindRenderbuffer(c.RENDERBUFFER,u);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,d,n);c.framebufferRenderbuffer(F,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,u);c.clearDepth(1);c.framebufferTexture2D(F,
ca.nd(0),c.TEXTURE_2D,C.get(),0);c.framebufferTexture2D(F,ca.nd(1),c.TEXTURE_2D,k.get(),0);c.framebufferTexture2D(F,ca.nd(2),c.TEXTURE_2D,p.get(),0);c.framebufferTexture2D(F,ca.nd(3),c.TEXTURE_2D,t.get(),0);ca.Cm(4);c.bindFramebuffer(F,null);wa.reset();var x={position:C,sb:k,Dc:t,fa:p,bind:function(){c.bindFramebuffer(F,e);wa.reset()},set:function(){c.checkFramebufferStatus(I);c.bindFramebuffer(F,e);wa.reset();if(m){if(c.checkFramebufferStatus(I)!==c.FRAMEBUFFER_COMPLETE)return!1;m=!1}c.viewport(0,
0,d,n);c.clearColor(0,0,0,0);E.Wb()&&!ca.Yh()&&(E.set("s90"),V.l(!1,!1));c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);return!0},I:function(){},resize:function(D,g){d=D;n=g;C.resize(D,g);k.resize(D,g);p.resize(D,g);t.resize(D,g);c.bindRenderbuffer(c.RENDERBUFFER,u);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,d,n);c.bindRenderbuffer(c.RENDERBUFFER,null)},remove:function(){C.remove();k.remove();p.remove();t.remove();c.deleteRenderbuffer(u);c.deleteFramebuffer(e);var D=a.indexOf(x);-1!==
D&&a.splice(D,1)}};a.push(x);return x},resize:function(b,e){a.forEach(function(d){d.resize(b,e)})}}}(),ac=function(){var a=[],b=S.Qg;return{instance:function(e){function d(){t?n():(f=hd.instance({ka:I,km:b}),k=S.mk[ca.T()],u=W.instance({isFloat:za.ea(),S:!0,isPot:!0,isLinear:!1,Qb:!0,width:k,height:k/2,F:3}),x=W.instance({isFloat:za.ea(),S:!0,isPot:!0,isLinear:!1,Qb:!0,width:k,height:k/2,F:3}),D=W.instance({isFloat:za.ea(),S:!0,isPot:!0,width:1,height:k/2,F:3}),g=W.instance({isFloat:za.ea()&&!b,S:!b,
isPot:!1,isLinear:!0,Qb:!0,isMipmap:!1,width:k,height:k/2,F:b?4:3}),t=!0,n(),L.forEach(function(z){z()}),L.splice(0,L.length))}function n(){if(t){wa.ha();f.dn();u.M();E.set("s73");I.g(0);E.G("u85",S.Zb);W.vk(1);V.l(!0,!0);for(var z=S.bm[ca.T()],r=0;r<z;++r)x.o(),E.set("s76"),E.N("u8",1/k,0),u.g(0),V.l(!1,!1),u.o(),E.N("u8",0,2/k),x.g(0),V.l(!1,!1);D.M();E.set("s78");u.g(0);V.l(!1,!1);E.set(b?"s80":"s79");g.M();u.g(0);D.g(1);V.l(!1,!1);W.$(0);W.$(1)}}var m=Object.assign({Fb:null,rc:null,qc:0,sc:0},
e),C=0,k=0,t=!1,p=null,F=null,I=null,u=null,x=null,D=null,g=null,f=null,y=0,L=[];e={m:function(){function z(){2===++r&&(I=W.instance({isFloat:za.ea(),S:!0,isPot:!1,isMipmap:!1,isLinear:!1,Qb:!0,width:C,height:C/2,F:3}),wa.ha(),I.M(),E.set("s72"),E.G("u90",m.sc),E.G("u91",m.qc),p.g(0),F.g(1),V.l(!0,!0),d())}var r=0;C=S.nk[ca.T()];y=Math.log2(C)-1;m.Fb&&(p=W.instance({isPot:!1,url:m.Fb,R:z,F:3,isFlipY:!1}),F=W.instance({isPot:!1,url:m.rc,R:z,F:3,isFlipY:!1}))},Yi:function(z){I=z;d()},Xc:function(z){t&&
(f.g(z),E.G("u108",f.L()))},Yc:function(z){t&&g.g(z)},gh:function(){E.G("u22",y)},wh:function(){return y},L:function(){return C},Hb:function(z){t?z():L.push(z)},K:function(){p&&p.remove();F&&F.remove();u.remove();D.remove();x.remove();f.remove();g.remove();I.remove()}};a.push(e);e.m();return e},K:function(){a.forEach(function(e){e.K()})}}}(),Sc={instance:function(a){var b=a.wm,e=a.um,d=0,n=b.L();a=S.Qg;var m=W.instance({isFloat:za.ea()&&!a,S:!a,isLinear:!0,isMipmap:!1,isPot:!1,width:n,F:a?4:3,isFlipY:!1}),
C=W.instance({isFloat:za.ea()&&!a,S:!a,isPot:!1,isLinear:!0,Qb:!0,isMipmap:!1,width:n,height:n/2,F:a?4:3}),k=wa.instance({width:n,height:n}),t=a?"s66":"s65";return{Mn:function(p){d=p;E.set(t);c.viewport(0,0,n,n);k.o();m.o();E.G("u7",d);b.Xc(1);e.Xc(0);V.l(!0,!0);c.viewport(0,0,n,n/2);C.o();b.Yc(1);e.Yc(0);V.l(!1,!1);c.flush()},Xc:function(p){m.g(p)},Yc:function(p){C.g(p)},gh:function(){E.G("u22",b.wh()*(1-d)+e.wh()*d)}}}},Gb=function(){function a(G){var H=(h-S.xe)/(S.Ug-S.xe);H=1-Math.pow(1-H,S.Go);
h+=G*(1+H*S.Ho);h=Math.min(Math.max(h,S.xe),S.Ug);q.lc()}function b(G){-1!==k&&(y=f=0,C(),a(S.Fo*G.deltaY/window.innerHeight),G.preventDefault())}function e(){z+=f;r+=y;r=Math.min(Math.max(r,S.Qm),S.Pm);q.lc()}function d(G){if(0===k||-1===k)return!1;var H=void 0!==G.touches&&G.touches.length;G.preventDefault();if(2===k){var N=Kc(G.touches[0].pageX,G.touches[0].pageY,G.touches[1].pageX,G.touches[1].pageY);a(-(D-N)*S.Rm);D=N}else N=H?G.touches[0].clientX:G.clientX,G=H?G.touches[0].clientY:G.clientY,
f=2*(N-u)*Math.PI/ca.L(),y=2*(G-x)*Math.PI/ca.Y(),4===k?(l[0]+=f*S.ti,l[1]-=y*S.ti,l[0]=Math.min(Math.max(l[0],-S.wi),S.wi),l[1]=Math.min(Math.max(l[1],-S.xi),S.xi),q.lc()):e(),u=N,x=G}function n(){0!==k&&-1!==k&&(0===f&&0===y||1!==k||!O?ra.Ca():(C(),g=Date.now(),K=setInterval(q.tm,L)),k=0)}function m(G){if(2!==k&&-1!==k){y=f=0;C();ra.wake();var H=void 0!==G.changedTouches&&G.touches.length;G.preventDefault();H&&2===G.touches.length?(k=2,D=Kc(G.touches[0].pageX,G.touches[0].pageY,G.touches[1].pageX,
G.touches[1].pageY)):(k=H||2!==G.button?1:4,u=H?G.touches[0].clientX:G.clientX,x=H?G.touches[0].clientY:G.clientY);return!1}}function C(){K&&(clearInterval(K),K=!1)}var k=0,t=!1,p=!1,F=!1,I=1,u=0,x=0,D=0,g=0,f=0,y=0,L=16,z=S.mj,r=S.vi,h=S.we,K=!1,O=0,w=new Float32Array([0,0,0,0,0]),l=[S.zk,S.Ak],q={m:function(){O=S.Rj[ca.T()];L=S.fd[ca.T()];ca.Ia("mousedown",m);ca.Ia("mouseup",n);ca.Ia("mouseout",n);ca.Ia("mousemove",d);ca.Ia("mousemove",d);ca.Ia("wheel",b);ca.Ia("touchstart",m);ca.Ia("touchend",
n);ca.Ia("touchmove",d)},lc:function(G){t?(p[0]=-r,p[1]=z,F[1].value=I/S.we*h,Ua.wb(F)):(w[0]=z,w[1]=r,w[2]=h,w[3]=l[0],w[4]=l[1],oc.qn(w,G))},tm:function(){if(1E-4>f&&1E-4>y||-1===k)C(),y=f=0,0===k&&ra.Ca();var G=Date.now(),H=G-g;g=G;G=Math.pow(O,H/L);f*=G;y*=G;e()},Qe:function(G){t||(t=!0,k=-1,p=[0,0,0],F=[{name:"u76",type:"3f",value:p},{name:"u80",type:"1f",value:1}],I=G)},ij:function(G){-1===k&&G&&(k=0);G||(k=-1)},jn:function(){y=f=0;z=S.mj;r=S.vi;h=S.we;q.lc()},Vp:function(G){h=G},Wp:function(G){l[0]=
G[0];l[1]=G[1];S.Vg=G[2]},Up:function(G,H){z=G;r=H}};return q}(),sc=function(){var a={s92:!1,s92color:!1,s92NormalMap:!1,s92ParamsMap:!1,s92NormalParamsMap:!1};return{instance:function(b){function e(A){if(X){A.tweaker&&window.JEELIZVTO&&"undefined"!==typeof R&&R.Pg(A.tweaker);w.splice(0,w.length);w.push({n:0,offset:0});h.min.set(Infinity,Infinity,Infinity);h.max.set(-Infinity,-Infinity,-Infinity);var B=A.uvs;B&&(B=B.filter(function(ea){return ea}));Z=B&&0<B.length&&0<B[0].length?!0:!1;"undefined"!==
typeof cb&&"string"===typeof A.faces&&(A.faces=cb(A.faces));"undefined"!==typeof kb&&("string"===typeof A.vertices&&(A.vertices=kb(A.vertices)),B&&B.length&&B.forEach(function(ea,xa){"string"===typeof ea&&(B[xa]=kb(ea))}));var v=A.metadata.faces,M=1+(Z?1:0);v=(A.faces.length-v)/(A.metadata.faces*M);6!==v&&8!==v||Z||(++M,v/=2);if(4===v){v=6*M+2;for(var da=4*M+1,ha=Array(A.metadata.faces*v),na=0;na<A.metadata.faces;++na)for(var ua=0;ua<M;++ua)ha[na*v+4*ua]=A.faces[na*da+5*ua],ha[na*v+4*ua+1]=A.faces[na*
da+5*ua+1],ha[na*v+4*ua+2]=A.faces[na*da+5*ua+2],0===ua&&(ha[na*v+3]=A.faces[na*da+4]),ha[na*v+4*ua+3*M+1]=A.faces[na*da+5*ua],ha[na*v+4*ua+3*M+2]=A.faces[na*da+5*ua+2],ha[na*v+4*ua+3*M+3]=A.faces[na*da+5*ua+3],0===ua&&(ha[na*v+3*M+4]=A.faces[na*da+4]);A.faces=ha;A.metadata.faces*=2}u=Array(A.metadata.vertices);for(v=0;v<A.metadata.vertices;++v)u[v]=new Sa(A.vertices[3*v],A.vertices[3*v+1],A.vertices[3*v+2]),Vc(h,u[v]);x=Array(A.metadata.faces);M=3*M+1;for(v=0;v<A.metadata.faces;++v)x[v]=new uc(A.faces[M*
v],A.faces[M*v+1],A.faces[M*v+2]),x[v].Yb=A.faces[M*v+3];q=3<u.length;X&&(X.visible=q);Xc(u,x);D=Yc(u,x);if(Z){M=Array(u.length);v=["a","b","c"];for(da=0;da<A.metadata.faces;++da)for(ha=0;3>ha;++ha)if(na=A.faces[7*da+ha],ua=A.faces[7*da+1+ha+3],"undefined"===typeof M[na])M[na]=[[na,ua]];else if(M[na][0][1]!==ua){for(var Qa=-1,Ma=1;Ma<M[na].length;++Ma)if(M[na][Ma][1]===ua){Qa=M[na][Ma][0];break}Ma=-1;-1===Qa?(Ma=u.length,u.push(u[na].clone()),D.push(D[na].clone()),M[na].push([Ma,ua]),M[Ma]=[[Ma,ua]]):
Ma=Qa;A.faces[7*da+ha]=Ma;x[da][v[ha]]=Ma}g=Array(u.length);for(A=0;A<u.length;++A)v="undefined"===typeof M[A]?A:M[A][0][1],g[A]=new Ob(B[0][2*v],B[0][2*v+1])}var Fa=lc(h);b.Db&&(u.forEach(function(ea){ea.x-=Fa.x;ea.z-=Fa.z;ea.y-=h.min.y}),h.min.x-=Fa.x,h.max.x-=Fa.x,h.min.z-=Fa.z,h.max.z-=Fa.z,h.max.y-=h.min.y,h.min.y=0);if(b.Eb){var ka=S.kk/Math.max(h.max.x-h.min.x,h.max.y-h.min.y,h.max.z-h.min.z);u.forEach(function(ea){ea.Da(ka)});h.min.Da(ka);h.max.Da(ka)}A=Z?8:6;M=new Float32Array(u.length*A);
for(v=0;v<u.length;++v)M[A*v]=u[v].x,M[A*v+1]=u[v].y,M[A*v+2]=u[v].z,M[A*v+3]=D[v].x,M[A*v+4]=D[v].y,M[A*v+5]=D[v].z,Z&&(M[A*v+6]=g[v].x,M[A*v+7]=g[v].y);x.sort(function(ea,xa){return ea.Yb-xa.Yb});var fa=new (65536>3*x.length?Uint16Array:Uint32Array)(3*x.length),U=0;x.forEach(function(ea,xa){ea.Yb===U?w[U].n+=3:(w.push({n:3,offset:3*xa}),++U);fa[3*xa]=ea.a;fa[3*xa+1]=ea.b;fa[3*xa+2]=ea.c});f&&f.remove();f=V.instance({ga_:M,U:fa});z=L=!1;Q&&X.$g();G=!0;X.Ne();b.R&&(b.R(X),b.R=null)}}function d(A){f.Ja(A.n,
A.offset)}function n(A,B){N[B]&&(E.set(N[B].Kl()),f.bind(!1),Z?(E.Qa(),E.Vi()):(E.Za(),E.Wi()),N[B].Cc()&&(E.Ic(),L.tc(!1),E.Kd(),mb.Jb()),N[B].Yk(),N[B].ed(),f.Ja(A.n,A.offset))}function m(A,B){N[B]&&(E.set(N[B].Ll()),f.bind(!1),Z?(E.Qa(),E.Vi()):(E.Za(),E.Wi()),N[B].Cc()&&(E.Ic(),L.tc(!1),E.Kd(),mb.Jb()),X.wc(),N[B].ed(),f.Ja(A.n,A.offset))}function C(A,B){ia&&N[B]&&(N[B].Zk(),f.Ja(A.n,A.offset))}function k(A,B){ia&&N[B]&&(N[B].al(Z),f.Ja(A.n,A.offset))}function t(A,B){N[B]&&(E.set(N[B].Gl()),N[B].lh(),
f.Ja(A.n,A.offset))}function p(A,B){N[B]&&(E.set(N[B].Hl()),X.wc(),N[B].lh(),f.Ja(A.n,A.offset))}function F(A,B){N[B]&&(E.set(N[B].Il()),N[B].Cc()&&(L.tc(!1),E.Kd(),mb.Jb()),f.bind(!1),N[B].ih(Z),f.Ja(A.n,A.offset))}function I(A,B){if(N[B]){var v=N[B].Jl();E.set(v);N[B].Cc()&&(L.tc(!1),E.Kd(),mb.Jb(),f.bind(!1));a[v]||(X.wc(),f.bind(!1),a[v]=!0);N[B].ih(Z);f.Ja(A.n,A.offset)}}if(!ca.Xg())return!1;void 0===b.Db&&(b.Db=!1);void 0===b.Eb&&(b.Eb=!1);void 0===b.Tg&&(b.Tg=!1);var u=null,x=null,D=null,g=
null,f=null,y=null,L=null,z=!1,r=new Qb,h=new tc,K=[],O=null,w=[{n:0,offset:0}],l=[],q=!1,G=!1,H=[],N=[],Q=!1,Z=!1,ia=!1,X={visible:q,Jk:function(){return w.length},$g:function(){!z&&Z&&(x=x.filter(function(A){return null!==A}),y=Zc(u,D,g,x),L=V.instance({ga_:y,U:!1}),g=D=x=u=y=null,z=!0)},wc:function(){mb.V();X.kh()},kh:function(){E.Jc("u130",r.elements)},fp:function(){q&&(X.kh(),f.bind(!1),Z?E.Qa():E.Za(),f.V())},il:function(A){q&&(A||X.wc(),f.bind(!1),Z?E.Qa():E.Za(),f.V())},jl:function(){q&&(f.bind(!1),
Z?E.Qa():E.Za(),w.forEach(C))},hh:function(){q&&(f.bind(!1),Z?E.Qa():E.Za(),l.forEach(d))},gl:function(A){ia&&q&&(f.bind(!1),Z?E.Qa():E.Za(),A?w.forEach(t):w.forEach(p))},dd:function(A){q&&(A||X.wc(),f.bind(!1),A||(E.Qa(),E.Ic()),ia&&w.forEach(k))},ed:function(A){ia&&q&&(A?w.forEach(n):w.forEach(m))},cl:function(){ia&&q&&w.forEach(I)},bl:function(){ia&&q&&w.forEach(F)},Eh:function(){return O},Ch:function(){return H},mo:function(A,B){N[A].update(B);X.wj()},eg:function(A,B){function v(ha,na){ha&&(ha.R=
function(){X&&++da===M&&(ia=!0,Q&&X.Hb(X.$g,5),X.Ne(),B&&X.Hb(function(){B(X)},10))},ha=xc.instance(ha),N[na]&&N[na].K(),N[na]=ha,Q=Q||ha.Cc())}H=A;ia=!1;var M=A.length,da=0;N=Array(M);Q=!1;A.forEach(function(ha,na){"string"===typeof ha?vc(-1===ha.indexOf(".json")?ha+".json":ha,function(ua){ua.name=ha;v(ua,na,ha)}):v(ha,na,!1)});X.Hb(function(){X.wj();ra.xb(X);ra.Td(!0)},4)},wj:function(){l.splice(0,l.length);w.forEach(function(A,B){N[B]&&N[B].rm()&&l.push(A)})},Hb:function(A,B){G&&ia?A(X):K.push({ob:A,
order:B?B:0})},Ne:function(){G&&ia&&(K.sort(function(A,B){return 0>A.order-B.order?1:-1}),K.forEach(function(A){A.ob(X)}),K.splice(0,K.length))},remove:function(){X.K();X=null},K:function(){q=G=!1;f&&f.remove();N.forEach(function(A){A.K()});z&&L.remove()},Nl:function(){return h.size().x},Ol:function(){return h.size().y},xp:function(){return h.size().z},tl:function(){return lc(h).x},ul:function(){return lc(h).y},lp:function(){return lc(h).z},tp:function(){return h.min.y},replace:function(A,B,v){if(A===
O)return B&&X&&(X.Ne(),B(X)),!1;O=A;ra.Td(!1);vc(A,function(M){e(M);B&&B(X)},v);return!0}};b.Ec&&X.eg(b.Ec,b.Tg);O=b.url;vc(b.url,e);return X},hn:function(){a.s92=!1;a.s92color=!1;a.s92NormalMap=!1;a.s92ParamsMap=!1;a.s92NormalParamsMap=!1}}}(),oc=function(){var a=null,b=!1,e=!1,d=null,n=new Float32Array(16),m=new Float32Array(3),C={data:0},k={m:function(){a=S.Kb?new Worker("js/worker.php"):{postMessage:function(t){C.data=t;yc.Km(C)},terminate:function(){}};a.onmessage=function(t){switch(t.data[0]){case 3:for(var p=
0;16>p;++p)n[p]=t.data[p+1];for(p=0;3>p;++p)m[p]=t.data[p+17];mb.Ve().Hn(n,m);break;case 6:k.Cn(),b=!0,Gb.lc(!1),S.da&&(vb.enable(),vb.Ld())}};d=new Float32Array(6);d[0]=2;S.Kb||yc.Dn(a)},Zn:function(){S.fh||(e=!0)},eq:function(){e=!1},qn:function(t,p){if(p||b&&e)d[1]=t[0],d[2]=t[1],d[3]=t[2],d[4]=t[3],d[5]=t[4],a.postMessage(d)},Cn:function(){a.postMessage([5,S.Vg])},K:function(){S.Kb&&a.terminate()}};return k}(),yc=function(){var a=0,b=0,e=0,d=[0,0],n=new Qb,m=new kc,C=new kc,k=new Sa,t=new Sa,
p=new Pb,F=0,I=new Float32Array(20);I[0]=3;var u=!1,x={data:!1},D={m:function(){"undefined"===typeof S&&(self.Jo={Kb:!0});S.Kb&&D.Uf([6])},Km:function(g){switch(g.data[0]){case 2:D.fg(g.data);break;case 5:F=g.data[1]}},Uf:function(g){S.Kb?postMessage(g):(x.data=g,u.onmessage(x))},fg:function(g){a=g[1];b=g[2];e=g[3];d[0]=g[4];d[1]=g[5];k.set(d[0],d[1],-e);p.set(b,a,0,"XYZ");if(!1===p instanceof Pb)throw Error("JETHREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
g=Math.cos(p.B/2);var f=Math.cos(p.C/2),y=Math.cos(p.D/2),L=Math.sin(p.B/2),z=Math.sin(p.C/2),r=Math.sin(p.D/2),h=p.order;"XYZ"===h?(m.B=L*f*y+g*z*r,m.C=g*z*y-L*f*r,m.D=g*f*r+L*z*y,m.O=g*f*y-L*z*r):"YXZ"===h?(m.B=L*f*y+g*z*r,m.C=g*z*y-L*f*r,m.D=g*f*r-L*z*y,m.O=g*f*y+L*z*r):"ZXY"===h?(m.B=L*f*y-g*z*r,m.C=g*z*y+L*f*r,m.D=g*f*r+L*z*y,m.O=g*f*y-L*z*r):"ZYX"===h?(m.B=L*f*y-g*z*r,m.C=g*z*y+L*f*r,m.D=g*f*r-L*z*y,m.O=g*f*y+L*z*r):"YZX"===h?(m.B=L*f*y+g*z*r,m.C=g*z*y+L*f*r,m.D=g*f*r-L*z*y,m.O=g*f*y-L*z*r):
"XZY"===h&&(m.B=L*f*y-g*z*r,m.C=g*z*y-L*f*r,m.D=g*f*r+L*z*y,m.O=g*f*y+L*z*r);k.y-=F;g=n.elements;r=m.x;var K=m.y,O=m.z;L=m.w;var w=r+r,l=K+K;z=O+O;f=r*w;y=r*l;r*=z;h=K*l;K*=z;O*=z;w*=L;l*=L;L*=z;g[0]=1-(h+O);g[4]=y-L;g[8]=r+l;g[1]=y+L;g[5]=1-(f+O);g[9]=K-w;g[2]=r-l;g[6]=K+w;g[10]=1-(f+h);g[3]=0;g[7]=0;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;n.setPosition(k);C.J(m).inverse();g=t.J(k);K=g.x;w=g.y;O=g.z;f=C.x;y=C.y;L=C.z;z=C.w;r=z*K+y*O-L*w;h=z*w+L*K-f*O;l=z*O+f*w-y*K;K=-f*K-y*w-L*O;g.x=r*z+K*-f+h*-L-
l*-y;g.y=h*z+K*-y+l*-f-r*-L;g.z=l*z+K*-L+r*-y-h*-f;for(g=1;17>g;++g)I[g]=n.elements[g-1];I[17]=t.x;I[18]=t.y;I[19]=t.z;D.Uf(I)},Dn:function(g){u=g;D.Uf([6])}};return D}();yc.m();var xc=function(){function a(C){var k=C.split(":").shift();return"data"===k||"blob"===k?C:("undefined"!==typeof J&&J.aa?J:S).aa+S.Em+C}function b(C,k){return Math.min(k+C+k*C,1)}var e=!1,d=null,n=1,m={diffuseTexture:null,normalTexture:null,paramsTexture:null,colorTextureUsage:0,metalness:.5,roughness:.5,fresnelMin:0,fresnelMax:1,
fresnelPow:5,alpha:1,diffuseColor:[255,255,255],paramsMapMask:[0,0,0,0],R:null};return{m:function(){d=W.instance({width:1,height:1,isMipmap:!1,F:4,array:new Uint8Array([255,255,255,255]),Bc:!1})},Qe:function(){e=!0;n=2},instance:function(C){function k(q){function G(){++N===H&&q&&q()}var H=1,N=0;(p=x.normalTexture&&ca.Dk()?!0:!1)&&!f.Oa&&(++H,f.Oa=W.instance({url:a(x.normalTexture),isLinear:!0,isMipmap:!0,Rh:ca.qm(),isPot:!0,F:3,R:G}));(F=x.diffuseTexture&&""!==x.diffuseTexture?!0:!1)&&!f.fa?(++H,
f.fa=W.instance({url:a(x.diffuseTexture),isMipmap:!0,isLinear:!0,isPot:!0,Rh:!0,Bc:!1,Qb:!1,hm:!1,F:4,R:G}),g="s97"):f.fa||(g="s98",f.fa=d);D=[x.diffuseColor[0]/255,x.diffuseColor[1]/255,x.diffuseColor[2]/255];(y=x.paramsTexture?!0:!1)&&!f.tb&&(x.paramsTexture===x.diffuseTexture?f.tb=f.fa:(++H,f.tb=W.instance({url:a(x.paramsTexture),isMipmap:!0,isLinear:!0,isPot:!0,Rh:!0,Bc:!1,Qb:!1,hm:!1,F:4,R:G})));G()}function t(q){"number"===typeof x.alpha?(I[0]=x.alpha,I[1]=0,I[2]=0,I[3]=0):(I[0]=x.alpha[0],
I[1]=x.alpha[1]-x.alpha[0],I[2]=x.alpha[2],I[3]=x.alpha[3]);var G=1<=x.fresnelPow?x.fresnelMin:x.fresnelMax;u[0]=b(I[0],G);u[1]=b(I[1],G);u[2]=I[2];u[3]=I[3];L={ui:x.fresnelMax,gi:[x.fresnelMin,x.roughness,x.fresnelPow/15,x.metalness],ji:x.paramsMapMask};q=x.R?x.R.bind(null,q):null;k(q);p||y||F?p||y?p&&!y?(z="s92NormalMap",r="s92NNGLtextureNormalMap"):!p&&y?(z="s92ParamsMap",r="s92NNGLtextureParamsMap"):(z="s92NormalParamsMap",r="s92NNGLtextureNormalParamsMap"):(z="s92",r="s92NNGLtexture"):(z="s92color",
r="s92NNGLcolor");h=p?"s100":"s99";K=p?"s94":"s104";O=y?"s102":"s101";w=y?"s95":"s105"}var p,F,I=[1,0,0,0],u=[0,0,0,0],x=Object.assign({},m,C),D=null,g=null,f={fa:null,Oa:null,tb:null},y=p=F=!1,L=null,z=null,r=null,h=null,K=null,O=null,w=null,l={update:function(q){Object.assign(x,q);t()},Cc:function(){return p},rm:function(){return.99>I[0]},Ll:function(){return K},Kl:function(){return h},Hl:function(){return w},Gl:function(){return O},Jl:function(){return z},Il:function(){return r},ed:function(){p&&
f.Oa.g(0)},al:function(q){e&&E.set(g);q?E.Qa():E.Za();F&&E.Ic();l.dd()},dd:function(){F&&(E.G("u67",x.colorTextureUsage),f.fa.g(0));E.jg("u140",D)},lh:function(){y&&(f.tb.g(0),E.Ba("u69",L.ji),E.Ic());E.Ba("u105",L.gi);E.G("u141",L.ui)},ih:function(q){y&&!p?f.tb.g(n):p&&(F||d.g(0),f.Oa.g(n),y&&f.tb.g(n+1));y&&E.Ba("u69",L.ji);F||p?E.zn():q?E.An():E.Bn();l.dd();E.Ba("u7",I);E.Ba("u105",L.gi);E.G("u141",L.ui)},Yk:function(){E.Ba("u7",I)},Zk:function(){E.Ba("u7",u)},K:function(){F&&f.fa.remove();p&&
f.Oa.remove();y&&x.paramsTexture!==x.diffuseTexture&&f.tb.remove()}};t(l);return l}}}(),vb=function(){var a=0,b=0,e=0,d=0,n=0,m=0,C=S.ik,k=S.hk,t=S.jk,p=0,F=0,I=null,u=null,x=0,D=0,g=0,f=0,y=0,L=null,z=0,r=0,h=0,K=Date.now(),O=null,w=!1,l=!1,q=!1,G=1,H=!1,N={m:function(){a=S.dk[ca.T()];b=S.ck[ca.T()];e=S.bk[ca.T()];r=S.ek[ca.T()];d=S.Wj[ca.T()];n=S.$j[ca.T()];g=S.ak[ca.T()];f=ca.L();y=ca.Y();p=Math.round(f*a);F=Math.round(y*a);u=wa.instance({width:p,height:F,zc:!1});I=W.instance({width:p,height:F,
isPot:!1,isLinear:!0});L=W.instance({width:p,height:F,isPot:!1,isLinear:!0,F:1});w=!0},resize:function(Q,Z,ia){G=ia;f=Q;y=Z;p=Math.round(Q*a);F=Math.round(Z*a);u.resize(p,F);l=!0},V:function(){var Q=Math.exp(-(Date.now()-K)/r);z=q?h+(1-Q)*(1-h):h*Q;x=b+z*(e-b);D=d+(1-z)*(1-d);m=n+(1-z)*(1-n);W.$(5);if(l&&w)W.$(6),L.resize(p,F),E.set("s0"),E.Nd("u1",6),u.bind(!1,!0),L.o(),u.ze(),I.g(6),V.l(!0,!0),I.resize(p,F),I.o(),L.g(6),V.l(!1,!1),E.Nd("u1",0),l=!1;else{c.enable(c.BLEND);c.blendFunc(c.CONSTANT_ALPHA,
c.ONE_MINUS_SRC_ALPHA);Q=x/g;c.blendColor(Q,Q,Q,Q);c.colorMask(!0,!1,!1,!0);E.set("s84");mb.Oe();E.G("u121",x);r&&(E.G("u122",D),E.G("u114",m));var Z=G*(C+Math.pow(Math.random(),t)*(k-C));E.N("u8",Z/f,Z/y);u.Rg();u.Lc();I.o();Z=2*Math.PI*Math.random();for(var ia=!0,X=0;X<g;++X)1===X&&(c.blendFunc(c.SRC_ALPHA,c.ONE),E.G("u121",Q)),E.G("u120",Z+X/g*(Math.PI/2)),E.N("u119",(Math.random()-.5)/f,(Math.random()-.5)/y),V.l(ia,ia),ia=!1;c.disable(c.BLEND);E.set("s85");E.N("u8",1/p,1/F);L.o();I.g(7);V.l(!1,
!1);c.colorMask(!0,!0,!0,!0)}},g:function(Q){L.g(Q)},enable:function(){H=!0},Sm:function(){if(q||!H)return!1;O&&clearTimeout(O);N.Ld();O=setTimeout(N.uj,400)},Ld:function(){O&&(clearTimeout(O),O=!1);!q&&H&&(window.Jj.disable(),q=!0,K=Date.now(),h=z)},uj:function(){q&&H&&(O&&(clearTimeout(O),O=null),window.Jj.enable(),q=!1,K=Date.now(),h=z)},K:function(){I.remove();L.remove();u.remove()}};N.Sm();return N}(),hd={instance:function(a){var b=a.ka.L(),e=a.km?!0:!1,d=e?"s67":"s12",n=W.instance({isFloat:a.ka.Zh()&&
za.ea()&&!e,S:a.ka.$h()&&!e,isLinear:!0,isMipmap:!1,isPot:!1,width:b,height:b,F:e?4:3}),m=W.instance({isFloat:a.ka.Zh()&&za.ea(),S:a.ka.$h(),isPot:!0,width:1,height:b/2,F:3});m.o();E.set("s78");a.ka.g(0);V.l(!0,!0);var C=Math.round(Math.log(b)/Math.log(2));n.dn=function(){n.o();E.set(d);E.G("u85",S.Zb);a.ka.g(0);m.g(1);for(var k=0,t=0;t<=C;++t){var p=Math.pow(2,C-t),F=p/2;c.viewport(0,k,b,F);E.N("u83",b/p,1);E.G("u84",Math.min(6/F,.6));k+=p/2;V.l(0===t,0===t)}};n.gn=n.remove;n.remove=function(){n.gn();
m.remove()};return n}};sa.jb=function(){var a={Jd:45,$f:1,$b:"../../images/debug/picsou.png",ag:.8,Bf:3.14/6,Cf:.314,Df:4,zf:.5,Af:-.25,vm:1,wa:256,yf:.15},b={Lb:null,jd:null,screen:null},e=!1,d=!1,n=-1,m=null,C=null,k=null,t=Math.PI/180,p=[1,1],F={m:function(I){n=I.width;I={isFloat:za.ea(),S:!0,isPot:!1,isMipmap:!1,isLinear:!1,isMirrorY:!0,width:n,height:n/2,F:3};b.Lb=W.instance(I);b.jd=W.instance(I);E.j("s106",[{type:"1i",name:"u148",value:0}]);E.j("s107",[{type:"1i",name:"u153",value:0}]);F.no()},
no:function(){E.j("s107",[{type:"1f",name:"u154",value:a.Bf},{type:"1f",name:"u155",value:a.Cf},{type:"1f",name:"u156",value:a.Df},{type:"1f",name:"u157",value:a.zf},{type:"1f",name:"u158",value:a.Af}])},Gp:function(){return d},va:function(I){m=I},Gc:function(){C="uniform sampler2D u148;uniform vec2 u149,u150,u4;uniform int u151;uniform float u152,u134;varying vec2 vv0;const float h=3.141593;const vec2 i=vec2(.5,.5);const float e=1.2;const vec3 g=vec3(1.,1.,1.);void main(){vec2 c=vec2(vv0.x*2.,-vv0.y+.5)*h,a=i+u4*(c-u149)/u150;float b=1.;if(u151==0){if(a.x<0.||a.x>1.||a.y<0.||a.y>1.)discard;}else b*=smoothstep(-e,0.,a.x),b*=1.-smoothstep(1.,1.+e,a.x),b*=smoothstep(-e,0.,a.y),b*=1.-smoothstep(1.,1.+e,a.y);vec3 d=mix(u152*g,texture2D(u148,a).rgb*u134,b*g);gl_FragColor=vec4(d,1.);}";
k="uniform sampler2D u153;uniform float u154,u155,u156,u157,u158;varying vec2 vv0;const float f=3.141593;const vec2 o=vec2(.5,.5);const vec3 h=vec3(1.,1.,1.);void main(){float i=(vv0.x*2.-1.)*f,c=(-vv0.y+.5)*f;vec4 a=texture2D(u153,vec2(.5,.5));float d=a.r,j=u156*a.g,k=u157*(a.b+u158),b=a.a,g=asin(cos(b)*cos(d)),l=atan(cos(b)*sin(d),-sin(b)),m=acos(sin(c)*sin(g)+cos(c)*cos(g)*cos(i-l)),n=1.-smoothstep(u154-u155,u154+u155,m);gl_FragColor=vec4(h*(max(k,0.)+max(j,0.)*n),1.);}";E.qa("s106",{name:"_",
h:C,i:"u148 u149 u151 u150 u152 u134 u4".split(" "),precision:"highp"});E.qa("s107",{name:"_",h:k,i:"u153 u154 u155 u156 u157 u158".split(" "),precision:"highp"})},og:function(I,u,x,D,g,f,y){E.N("u149",u,x);E.Nd("u151",D?1:0);E.N("u150",g,g/f);E.cj("u4",y);I.g(0);V.l(!1,!1)},Nj:function(I){c.viewport(0,0,a.wa,a.wa/2);E.set("s107");I.g(0);V.l(!1,!1)},Ql:function(){return b.Lb},yk:function(I){F.m({width:a.wa});F.xj(I,!1,1);d=!0},xk:function(){e&&b.screen.Rl()===a.$b||(e=!1,b.screen=W.instance({url:a.$b,
isFloat:!1,R:function(){e=!0}}))},fg:function(I){Object.assign(a,I)},xj:function(I,u,x){var D=a.wa;wa.ha();b.jd.M();E.set("s0");b.Lb.g(0);V.l(!0,!0);b.Lb.o();E.set("s106");E.G("u152",a.yf);E.G("u134",a.vm);F.og(I,Math.PI,0,!0,90*t,I.L()/I.Y(),p);e&&(E.G("u134",a.ag),c.viewport(0,0,D/2,D/2),F.og(b.screen,0,0,!1,2*a.Jd*t,2*a.$f,p),c.viewport(D/2,0,D/2,D/2),F.og(b.screen,2*Math.PI,0,!1,2*a.Jd*t,2*a.$f,p));c.enable(c.BLEND);c.blendFunc(c.ONE,c.ONE);u&&F.Nj(u);E.set("s0");c.blendColor(0,0,0,1-x);c.blendFunc(c.CONSTANT_ALPHA,
c.ONE_MINUS_CONSTANT_ALPHA);b.jd.g(0);V.l(!1,!1);c.disable(c.BLEND);m.Yi(b.Lb)},v:function(){Object.assign(b,{Lb:null,jd:null,screen:null});d=e=!1;n=-1;m=null}};return F}();sa.kb=function(){var a=!1,b=!0,e=!1,d=!1,n={Gc:function(){ca.Z()&&(E.qa("s108",{name:"_",s:"attribute vec3 a0;uniform sampler2D u39;uniform vec2 u40;uniform vec3 u136;const float l=1.,m=0.,n=0.,E=1.;const vec2 e=vec2(1.,1.);const vec3 o=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u70;uniform vec3 u72,u76,u77,u78;uniform float u71,u79,u80,u73,u74,u75,u81;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,p);vec2 f=u79*e;vec3 c=u79*o;vec2 t=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,q).rgb+vec3(u73,0.,0.),u76,c);float u=mix(texture2D(u39,r).r,0.,u79);a.z+=u;mat3 v=s(a);vec3 w=mix(u136,u77,c);float x=mix(l,u80,u79);vec3 b=mix(u72,u78,c);b.x+=u71*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 y=mat2(h,i,-i,h);b.xy=y*b.xy;float z=mix(u75,1.,u79);vec2 j=u74/t;vec3 k=a0;float A=max(0.,-a0.z-m)*n;k.x+=A*sign(a0.x)*(1.-u79);vec3 B=v*(k+w)*x+b;vec2 C=j*z;vec3 D=vec3(g*C,-j)+B*vec3(1.,-1.,-1.);gl_Position=u70*(vec4(u81*e,e)*vec4(D,1.));}",
h:"void main(){gl_FragData[0]=vec4(0.,0.,0.,0.),gl_FragData[1]=vec4(0.,0.,1.,1.),gl_FragData[2]=vec4(1.,0.,0.,0.),gl_FragData[3]=vec4(0.,.5,1.,0.);}",i:["u39","u40","u72","u136"].concat(E.$e(),E.af()),H:["a0"],P:[3],ca:!0}),a=!0)},m:function(m){a&&E.j("s108",[{type:"1i",name:"u39",value:1},{type:"3f",name:"u72",value:m.Ea},{type:"1f",name:"u73",value:0},{type:"1f",name:"u81",value:1}].concat(m.Ag))},bb:function(m){d=m;e&&n.Lh()},ab:function(m){e=m;d&&n.Lh()},Lh:function(){ca.Z()&&(E.j("s108",[{type:"3f",
name:"u136",value:[e[0]*d,e[1]*d,e[2]*d]}]),E.I())},am:function(m){for(var C=m.width/2,k=m.height/2,t=m.depth,p=m.kl,F=m.height/4,I=m.Nk,u=2*I+4,x=[],D=[],g=-C+m.Sa,f=-p-m.Sa,y=C-m.Sa,L=-p-m.Sa,z=0;z<u;++z){var r=0,h=0;0===z?(r=-C,h=-p-t):1<=z&&z<=1+I?(h=(z-1)/I*Math.PI/2,r=g-Math.cos(h)*m.Sa,h=f+Math.sin(h)*m.Sa):z>=2+I&&z<=2+2*I?(h=(z-2-I)/I*Math.PI/2,r=y+Math.sin(h)*m.Sa,h=L+Math.cos(h)*m.Sa):z===u-1&&(r=C,h=-p-t);x.push(r,k+F,h,r,-k+F,h);0!==z&&D.push(2*z,2*z-2,2*z-1,2*z,2*z-1,2*z+1)}return n.instance({ga_:x,
U:D})},toggle:function(m){b=m},instance:function(m){var C=V.instance({ga_:m.ga_,U:m.U});return{V:function(){a&&b&&(E.set("s108"),C.bind(!0),C.V())}}}};return n}();sa.la=function(){var a={ff:-87,Vl:[85,95],Kh:[90,90],Jh:[85,70],Zc:24,Ok:12,Pk:2,Vf:[-80,10],Ih:[40,140],td:[1,8],Ul:80,ri:[-120,-10],Jm:2,Pd:[0,-15],ge:1024,gb:256,Cd:4,Xn:[6,30],pi:1.2};a.Ai=a.Vf;var b=!1,e=!1,d=!1,n=null,m=null,C=null,k=null,t=null,p=null,F=!1,I=!1,u=null,x=null,D=null,g=null,f=.5,y=[{type:"1f",name:"u160",value:1}],
L=null,z=null,r=null,h=null,K=null,O={Ml:function(){return{name:"_",s:"attribute vec3 a0,a2;attribute vec2 a1;varying vec2 vv0;varying float vv1;uniform sampler2D u39;uniform vec2 u40;uniform float u137;uniform vec3 u136;const float o=0.,p=0.;const vec2 e=vec2(1.,1.);const vec3 q=vec3(1.,1.,1.);const vec2 G=vec2(-1.,1.),r=vec2(.16,.5),s=vec2(.5,.5),t=vec2(.84,.5);uniform mat4 u70;uniform vec3 u72,u76,u77,u78;uniform float u71,u79,u80,u73,u74,u75,u81;mat3 u(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,r);vec2 f=u79*e;vec3 c=u79*q;vec2 v=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,s).rgb+vec3(u73,0.,0.),u76,c);float w=mix(texture2D(u39,t).r,0.,u79);a.z+=w;mat3 h=u(a);vec3 x=mix(u136,u77,c);float y=mix(u137,u80,u79);vec3 b=mix(u72,u78,c);b.x+=u71*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 z=mat2(i,j,-j,i);b.xy=z*b.xy;float A=mix(u75,1.,u79);vec2 k=u74/v;vec3 l=a0;float B=max(0.,-a0.z-o)*p;l.x+=B*sign(a0.x)*(1.-u79);vec3 C=h*(l+x)*y+b;vec2 D=k*A;vec3 E=vec3(g*D,-k)+C*vec3(1.,-1.,-1.);gl_Position=u70*(vec4(u81*e,e)*vec4(E,1.)),vv0=a1,gl_Position*=vec4(-1.,1.,1.,1.);vec3 F=h*a2;vv1=-F.z;}",
h:"uniform sampler2D u167,u153;uniform vec2 u83,u168;uniform float u169,u160;varying vec2 vv0;varying float vv1;void main(){vec2 b=u168*u169+u83*vv0;vec4 a=u160*texture2D(u167,b);a.r*=step(0.,vv0.y),gl_FragColor=vec4(0.,0.,0.,a.r*vv1);}",i:"u39 u167 u153 u40 u72 u169 u168 u137 u136 u83 u160".split(" ").concat(E.$e()).concat(E.af()),H:["a0","a2","a1"],P:[3,3,2],precision:"lowp"}},Gc:function(){E.qa("s109",{name:"_",s:"attribute vec3 a0;uniform vec3 u136;uniform vec2 u161,u162;uniform float u137,u163,u164,u165;varying float vv0,vv1;void main(){vec3 a=(a0+u136)*u137;float b=atan(a.x,a.z-u163),d=2.*(a.y-u164)/(u165-u164)-1.;vv0=a0.y;float g=1.-u161.x*u161.x/(u161.y*u161.y),c=u161.x/sqrt(1.-g*pow(cos(b),2.));vec3 h=vec3(c*sin(b),a.y,c*cos(b)+u163);vv1=smoothstep(u162.x,u162.y,length(h-a)),gl_Position=vec4(b,d,0.,1.);}",
h:"uniform float u166;uniform vec4 u7;varying float vv0,vv1;void main(){float a=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv0),b=min(a,1.)*u166;gl_FragColor=vec4(b,vv1,1.,1.);}",i:"u137 u136 u161 u162 u163 u164 u165 u7 u166".split(" "),H:["a0"],P:[3],precision:"highp"});E.qa("s110",O.Ml());E.qa("s111",{name:"_",h:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u1,vv0-3.*u8),c=texture2D(u1,vv0-2.*u8),d=texture2D(u1,vv0-u8),f=texture2D(u1,vv0+u8),g=texture2D(u1,vv0+2.*u8),h=texture2D(u1,vv0+3.*u8);float j=.031496*b.r+.110236*c.r+.220472*d.r+.275591*a.r+.220472*f.r+.110236*g.r+.031496*h.r;vec2 i=b.gb*b.b+c.gb*c.b+d.gb*d.b+a.gb*a.b+f.gb*f.b+g.gb*g.b+h.gb*h.b;i/=b.b+c.b+d.b+a.b+f.b+g.b+h.b,gl_FragColor=vec4(mix(j,a.r,1.-i.x),i,1);}",
i:["u1","u8"],precision:"lowp"});b=!0},m:function(w){if(b){if(void 0===w.ec||!w.ec)return!1;if(e)O.Ti(w);else{k=W.instance({isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!0,width:a.ge,height:a.ge/4,F:4});var l=a.gb/4,q={isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!1,width:a.gb,height:l,F:4};C=W.instance(q);p=W.instance(q);t=W.instance({isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!0,width:a.gb,height:l*a.Cd,F:4});l=.5-.5/w.fc[1];q=.5+.5/w.fc[1];for(var G=a.Ok+1,H=[],N=[],Q=new Float32Array(16*a.Zc),Z=new Uint16Array(6*
(a.Zc-1)),ia=0,X=0,A=0,B=0;B<a.Zc;++B){var v=2*B/(a.Zc-1)-1;v=Math.sign(v)*Math.pow(Math.abs(v),a.Pk);v=Math.PI*(v+1)/2-Math.PI/2;var M=Math.sin(v),da=Math.cos(v),ha=Math.sin(v*a.pi),na=Math.cos(v*a.pi),ua=v/(Math.PI*w.fc[0])+.5,Qa=a.Jh[0]*M,Ma=a.Ai[0],Fa=a.Jh[1]*da+a.ff,ka=ua,fa=l,U=a.Kh[0]*M,ea=a.Ai[1],xa=a.Kh[1]*da+a.ff,La=q,Ia=16*B;Q[Ia]=U;Q[Ia+1]=ea;Q[Ia+2]=xa;Q[Ia+3]=ha;Q[Ia+4]=0;Q[Ia+5]=na;Q[Ia+6]=ua;Q[Ia+7]=La;Q[Ia+8]=Qa;Q[Ia+9]=Ma;Q[Ia+10]=Fa;Q[Ia+11]=ha;Q[Ia+12]=0;Q[Ia+13]=na;Q[Ia+14]=ka;
Q[Ia+15]=fa;0!==B&&(ka=2*B,fa=6*(B-1),Z[fa]=ka,Z[fa+1]=ka-1,Z[fa+2]=ka-2,Z[fa+3]=ka,Z[fa+4]=ka+1,Z[fa+5]=ka-1);fa=Math.pow(.5*(1+Math.cos(Math.min(Math.max(Math.PI/a.Ih[0]*Qa,-Math.PI),Math.PI))),a.Jm);Ma-=a.Ul*fa;ka=a.Ih[1]*fa;Qa-=M*a.td[0];Fa-=da*a.td[1];U-=M*a.td[0];xa-=da*a.td[1];M=.001>fa?2:G;for(da=0;da<M;++da)fa=da/(M-1),ua=Ma*(1-fa)+ea*fa,La=a.ri[0],La=Math.min(Math.max((ua-La)/(a.ri[1]-La),0),1),La=La*La*(3-2*La),H.push(Qa*(1-fa)+U*fa,ua,(Fa+ka*Math.exp(400*-Math.abs(v)*Math.pow(fa,4)))*
(1-La)+xa*La,ha,0,na,0,0);v=0===B?0:2<M&&2<X?M-1:1;for(ha=1;ha<=v;++ha)na=M>X?M-2:0,N.push(ia+ha+na,ia+ha-1,A+ha-1,A+ha-1,A+ha+(M<X?X-2:0),ia+ha+na);X=M;A=ia;ia+=M}h=V.instance({ga_:new Float32Array(H),U:new Uint16Array(N)});K=V.instance({ga_:Q,U:Z});O.Ti(w);E.j("s111",[{type:"1i",name:"u1",value:0}]);e=!0}}},Ti:function(w){f=w.Sn;g=w.Qd;L=[{type:"1i",name:"u39",value:1},{type:"1i",name:"u167",value:0},{type:"1i",name:"u153",value:2},{type:"3f",name:"u72",value:[w.Ea[0],w.Ea[1]-a.Pd[0],w.Ea[2]+a.Pd[1]]},
{type:"1f",name:"u169",value:w.Tn},{type:"2f",name:"u83",value:[1,1/a.Cd]},{type:"2f",name:"u168",value:[0,1/a.Cd]},{type:"1f",name:"u160",value:1}].concat(w.Ag,w.tj);E.j("s110",L)},bc:function(w){n=w},ac:function(w){z=w;z.Hb(O.uc)},ai:function(){return d&&null!==z&&null!==r},uc:function(){if(!(d||I&&F)||null===z||null===r)return!1;c.viewport(0,0,a.ge,a.ge/4);wa.ha();k.o();c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);E.j("s109",[{type:"1f",name:"u163",value:a.ff},{type:"1f",name:"u164",value:a.Vf[0]},
{type:"1f",name:"u165",value:a.Vf[1]},{type:"3f",name:"u136",value:[u[0]+x[0],u[1]+x[1],u[2]+x[2]]},{type:"1f",name:"u166",value:f},{type:"2f",name:"u161",value:a.Vl},{type:"2f",name:"u162",value:a.Xn}]);z.jl();E.set("s1");var w=a.gb/4;c.viewport(0,0,a.gb,w);C.o();k.g(0);k.md();V.l(!0,!0);for(var l=0;l<a.Cd;++l)E.set("s111"),0!==l&&c.viewport(0,0,a.gb,w),p.o(),C.g(0),E.N("u8",1/a.gb,0),V.l(!1,!1),C.o(),p.g(0),E.N("u8",0,1/w),V.l(!1,!1),a.Qk&&c.colorMask(0===l,1===l,2===l,!0),E.set("s1"),t.o(),C.g(0),
c.viewport(0,l*w,a.gb,w),V.l(!1,!1),a.Qk&&c.colorMask(!0,!0,!0,!0);return d=!0},V:function(){O.ai()&&(r.bind(!1,!1),m.o(),c.clearColor(0,0,0,0),c.enable(c.DEPTH_TEST),c.depthMask(!0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),E.set("s110"),n.g(1),t.g(0),h.bind(!0),h.V(),K.bind(!0),K.V(),c.disable(c.DEPTH_TEST),c.depthMask(!1))},add:function(){O.ai()&&(c.enable(c.BLEND),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA),m.g(0),V.l(!1,!1),c.disable(c.BLEND))},cg:function(w,l){r=wa.instance({width:w,height:l,
zc:!0});m=W.instance({width:w,height:l,isFloat:!1,isPot:!1});O.uc()},ab:function(w,l,q){w||(w=u,l=x,q=D);E.j("s110",[{type:"3f",name:"u136",value:[q[0]+g[0],q[1]+g[1]-a.Pd[0],q[2]+g[2]+a.Pd[1]]}]);u=w;x=l;D=q;I=!0;!d&&F&&O.uc();E.I()},bb:function(w,l){E.j("s109",[{type:"1f",name:"u137",value:w}]);E.j("s110",[{type:"1f",name:"u137",value:l}]);F=!0;!d&&I&&O.uc();E.I()},gg:function(w){E.j("s110",[{type:"1f",name:"u73",value:w}]);E.I()},xb:function(w){w&&(z=w);O.uc()},hg:function(w,l){y[0].value=1-w;
E.j("s110",y);E.j("s110",l)},K:function(){},v:function(){d=e=b=!1;p=t=k=C=m=n=null}};return O}();sa.ua=function(){var a=!1,b=null,e=0,d=0,n=0,m=[{type:"1f",name:"u160",value:1}],C=null,k=null,t=null,p={Gc:function(){E.qa("s112",{name:"_",s:"attribute vec3 a0;uniform vec2 u170,u171;varying vec2 vv0;void main(){vec2 a=2.*(a0.xy-u171)/u170;gl_Position=vec4(a,0.,1.),vv0=a0.xy;}",h:"uniform vec2 u172;uniform float u173,u174,u175;varying vec2 vv0;void main(){vec2 b=vec2(sign(vv0.x)*.5*u173,u174),a=vv0-b,c=u175*a,d=(c-a)*u172;gl_FragColor=vec4(d,0.,1.);}",
i:"u170 u171 u173 u174 u175 u172".split(" "),H:["a0"],P:[3],precision:"highp"});E.qa("s113",{name:"_",s:"attribute vec3 a0;varying vec2 vv0,vv1;uniform sampler2D u39;uniform vec3 u136;uniform vec2 u40,u170,u171;uniform float u137;const float n=0.,o=0.;const vec2 e=vec2(1.,1.);const vec3 p=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),q=vec2(.16,.5),r=vec2(.5,.5),s=vec2(.84,.5);uniform mat4 u70;uniform vec3 u72,u76,u77,u78;uniform float u71,u79,u80,u73,u74,u75,u81;mat3 t(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,q);vec2 f=u79*e;vec3 c=u79*p;vec2 u=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,r).rgb+vec3(u73,0.,0.),u76,c);float v=mix(texture2D(u39,s).r,0.,u79);a.z+=v;mat3 w=t(a);vec3 x=mix(u136,u77,c);float y=mix(u137,u80,u79);vec3 b=mix(u72,u78,c);b.x+=u71*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 z=mat2(h,i,-i,h);b.xy=z*b.xy;float A=mix(u75,1.,u79);vec2 j=u74/u;vec3 k=a0;float B=max(0.,-a0.z-n)*o;k.x+=B*sign(a0.x)*(1.-u79);vec3 C=w*(k+x)*y+b;vec2 D=j*A;vec3 E=vec3(g*D,-j)+C*vec3(1.,-1.,-1.);gl_Position=u70*(vec4(u81*e,e)*vec4(E,1.)),gl_Position*=vec4(-1.,1.,1.,1.),vv0=vec2(.5,.5)+(a0.xy-u171)/u170,vv1=vec2(.5,.5)+.5*gl_Position.xy/gl_Position.w;}",
h:"uniform sampler2D u176,u177;uniform float u160;varying vec2 vv0,vv1;void main(){vec2 a=u160*texture2D(u176,vv0).rg;gl_FragColor=texture2D(u177,a+vv1);}",i:"u160 u39 u176 u177 u170 u171 u40 u72 u137 u136".split(" ").concat(E.$e(),E.af()),H:["a0"],P:[3],precision:"lowp"});a=!0},m:function(F){if(a){if(void 0===F.ec||!F.$c)return!1;k=W.instance({isFloat:!0,isPot:!1,isMipmap:!1,isLinear:!1,width:256,height:128,F:4});t=wa.instance({width:256,height:128});E.j("s113",[{type:"1i",name:"u39",value:1},{type:"1i",
name:"u176",value:2},{type:"1i",name:"u177",value:0},{type:"3f",name:"u72",value:F.Ea},{type:"1f",name:"u160",value:1}].concat(F.tj,F.Ag));d=F.He;n=F.Ge;e=F.Ie}},bc:function(F){b=F},ac:function(F){C=F;C.Hb(p.Ce)},Ce:function(){c.viewport(0,0,256,128);t.o();k.o();var F=C.Nl(),I=C.Ol(),u=[{type:"2f",name:"u170",value:[F,I]},{type:"2f",name:"u171",value:[C.tl(),C.ul()]}];E.j("s112",u.concat([{type:"1f",name:"u173",value:d},{type:"1f",name:"u174",value:n},{type:"1f",name:"u175",value:e},{type:"2f",name:"u172",
value:[1/F,-1/I]}]));C.hh();E.j("s113",u)},V:function(){E.set("s113");b.g(1);k.g(2);C.hh()},ab:function(F){E.j("s113",[{type:"3f",name:"u136",value:F}]);E.I()},bb:function(F){E.j("s113",[{type:"1f",name:"u137",value:F}]);E.I()},gg:function(F){E.j("s113",[{type:"1f",name:"u73",value:F}]);E.I()},Rn:function(F){e=F;p.Ce();E.I();ra.animate(Date.now())},xb:function(F){F&&(C=F);p.Ce()},hg:function(F,I){m.u160=1-F;E.j("s113",m);E.j("s113",I)},K:function(){}};return p}();sa.mc=function(){var a=[0,-.5],b=
!1,e=!1,d=null,n=null,m=null,C=null,k=null,t=-1,p=-1;return{Gc:function(){E.qa("s114",{name:"_",s:"attribute vec2 a0;uniform sampler2D u39;uniform vec2 u40,u5;uniform float u4;varying vec2 vv0;const vec2 f=vec2(1.,1.);void main(){vec4 a=texture2D(u39,vec2(.25,.5));vec2 b=a.a*u40,c=2.*a.gb-f,d=u5+a0*u4;gl_Position=vec4(c+b*d,0.,1.),vv0=vec2(.5,.5)+.5*a0;}",h:"uniform sampler2D u178;varying vec2 vv0;void main(){gl_FragColor=texture2D(u178,vv0);}",i:["u39","u178","u40","u5","u4"],precision:"lowp"});
E.qa("s115",{name:"_",h:"uniform sampler2D u2,u179,u180;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){float a=texture2D(u2,vv0).r;vec3 b=texture2D(u180,vv0).rgb,c=texture2D(u179,vv0).rgb;gl_FragColor=vec4(mix(b,c,a*f),1.);}",i:["u2","u180","u179"],precision:"lowp"});b=!0},m:function(F){b&&(k=W.instance({isFloat:!1,isPot:!0,url:F.ue,R:function(){e=!0}}),E.j("s114",[{type:"1i",name:"u39",value:1},{type:"1i",name:"u178",value:0},{type:"2f",name:"u40",value:F.Cj},{type:"2f",name:"u5",value:a},
{type:"1f",name:"u4",value:3.8}]),E.j("s115",[{type:"1i",name:"u179",value:0},{type:"1i",name:"u2",value:1},{type:"1i",name:"u180",value:2}]))},bc:function(F){n=F},cg:function(F,I){var u={isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!1,width:F,height:I,F:4};t=2/F;p=2/I;m=W.instance(u);C=W.instance(u);d=wa.instance({width:F,height:I})},V:function(F,I){if(e){d.bind(!1,!0);E.set("s77");for(var u=0;2>u;++u){E.N("u8",t,0);m.o();0!==u&&C.g(0);var x=0===u&&!S.da;V.l(x,x);E.N("u8",0,p);C.o();m.g(0);V.l(!1,!1)}E.set("s114");
n.g(1);k.g(0);m.o();c.clearColor(1,0,0,1);c.clear(c.COLOR_BUFFER_BIT);V.l(!1,!1);E.set("s115");I.o();C.g(0);m.g(1);F.g(2);V.l(!1,!1)}},K:function(){}}}();var Ec=function(){var a={instance:function(b){var e=b.li,d=b.ki,n=b.Fe,m=b.background?b.background:W.Fh(),C=b.Xa,k={scale:1,offsetX:0,offsetY:0},t=null;b.Hf&&(k.scale=b.Hf.scale,k.offsetY=b.Hf.offsetY);return{Bh:function(){return C},vh:function(){return m},set:function(){t=eb.El();eb.Zi(k);eb.Zd();eb.$d();ra.Si(n,m,!1,!1)},I:function(){eb.Zi(t)},
Hc:function(){return{modelURL:e,materialsURLs:d,background:m.Hc(!1),Fe:n.Hc(!1),Xa:C.Hc(!0)}},Oo:function(p){m.g(p)}}},Oc:function(b,e,d){function n(){if(3===++t&&e){var p=a.instance({li:b.modelURL,ki:b.materialsURLs,background:m,Fe:C,Xa:k});e(p)}}var m=null,C=null,k=null,t=0;W.Oc(b.background,function(p){!p&&d?d():(m=p,n())});W.Oc(b.dataState,function(p){!p&&d?d():(C=p,n())});W.Oc(b.light,function(p){!p&&d?d():(k=p,n())})}};return a}();return Wa||window.JEELIZVTO}();(function(T,ya){"function"===
typeof define&&define.amd?define(ya):"object"===typeof exports?module.exports=ya():T.ResizeSensor=ya()})("undefined"!==typeof window?window:this,function(){function T(Ka,jb){var Xa=Object.prototype.toString.call(Ka),Ab=0,Ga=Ka.length;if("[object Array]"===Xa||"[object NodeList]"===Xa||"[object HTMLCollection]"===Xa||"[object Object]"===Xa||"undefined"!==typeof jQuery&&Ka instanceof jQuery||"undefined"!==typeof Elements&&Ka instanceof Elements)for(;Ab<Ga;Ab++)jb(Ka[Ab]);else jb(Ka)}if("undefined"===
typeof window)return null;var ya=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(Ka){return window.setTimeout(Ka,20)},Pa=function(Ka,jb){function Xa(){var Ga=[];this.add=function(Bb){Ga.push(Bb)};var cb,kb;this.call=function(){cb=0;for(kb=Ga.length;cb<kb;cb++)Ga[cb].call()};this.remove=function(Bb){var ob=[];cb=0;for(kb=Ga.length;cb<kb;cb++)Ga[cb]!==Bb&&ob.push(Ga[cb]);Ga=ob};this.length=function(){return Ga.length}}function Ab(Ga,cb){if(Ga)if(Ga.resizedAttached)Ga.resizedAttached.add(cb);
else{Ga.resizedAttached=new Xa;Ga.resizedAttached.add(cb);Ga.resizeSensor=document.createElement("div");Ga.resizeSensor.className="resize-sensor";Ga.resizeSensor.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;";Ga.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s;"></div></div><div class="resize-sensor-shrink" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div></div>';
Ga.appendChild(Ga.resizeSensor);Ga.resizeSensor.offsetParent!==Ga&&(Ga.style.position="relative");var kb=Ga.resizeSensor.childNodes[0],Bb=kb.childNodes[0],ob=Ga.resizeSensor.childNodes[1],Tb,Ub,Jb,Kb,Vb=Ga.offsetWidth,Wb=Ga.offsetHeight,ic=function(){Bb.style.width="100000px";Bb.style.height="100000px";kb.scrollLeft=1E5;kb.scrollTop=1E5;ob.scrollLeft=1E5;ob.scrollTop=1E5};ic();var qc=function(){Ub=0;Tb&&(Vb=Jb,Wb=Kb,Ga.resizedAttached&&Ga.resizedAttached.call())};cb=function(){Jb=Ga.offsetWidth;Kb=
Ga.offsetHeight;(Tb=Jb!=Vb||Kb!=Wb)&&!Ub&&(Ub=ya(qc));ic()};var Eb=function(Xb,Zb,Yb){Xb.attachEvent?Xb.attachEvent("on"+Zb,Yb):Xb.addEventListener(Zb,Yb)};Eb(kb,"scroll",cb);Eb(ob,"scroll",cb)}}T(Ka,function(Ga){Ab(Ga,jb)});this.detach=function(Ga){Pa.detach(Ka,Ga)}};Pa.detach=function(Ka,jb){T(Ka,function(Xa){if(Xa){if(Xa.resizedAttached&&"function"==typeof jb&&(Xa.resizedAttached.remove(jb),Xa.resizedAttached.length()))return;Xa.resizeSensor&&(Xa.contains(Xa.resizeSensor)&&Xa.removeChild(Xa.resizeSensor),
delete Xa.resizeSensor,delete Xa.resizedAttached)}})};return Pa});var hc={glassesDBURL:"https://glassesdbcached.jeeliz.com/sku/",appstaticURL:"https://appstatic.jeeliz.com/"},ib={notLoaded:-1,init:0,realtime:2,loadingModel:3,paused:4},Ta={isRT:!0,sku:void 0,mode:ib.notLoaded},cc=-1,dc=-1,ec=-1,fc=-1,Nc={cv:null,container:null,adjust:null,adjustNotice:null,adjustExit:null,loading:null,trackIframe:null},pa=Object.assign({},Nc),id={ADJUST_START:null,ADJUST_END:null,LOADING_START:null,LOADING_END:null},
zc=null,Ib={enabled:!1,callback:null,interval:1E3},pc={error:!1},bc=null,Sb=null,qb={start:function(T){console.log("INFO in JeelizVTOWidget.js: start()");if(Ta.mode!==ib.notLoaded)qb.resume();else{oa();if(T.settings)for(var ya in T.settings)hc[ya]=T.settings[ya];T.NNCPath&&Wa.set_NNCPath(T.NNCPath);T.faceDetectionCallback&&(Ib.enabled=!0,Ib.callback=T.faceDetectionCallback,Ib.interval="undefined"===typeof T.faceDetectionInterval?1E3:T.faceDetectionInterval);zc=Object.assign({},id,T.callbacks||{});
pa.container=T.placeHolder||document.getElementById("JeelizVTOWidget");if(!pa.container)throw Error("Cannot find a <div> element with id=JeelizVTOWidget to append the VTO widget.");pa.cv=T.canvas||document.getElementById("JeelizVTOWidgetCanvas");pa.cv||(pa.cv=document.createElement("canvas"),pa.container.appendChild(pa.cv));pa.loading=document.getElementById("JeelizVTOWidgetLoading");T.onError&&(pc.error=T.onError);Rb();if(!wb(pa.container))return hb("PLACEHOLDER_NULL_WIDTH"),!1;if(!la(pa.container))return hb("PLACEHOLDER_NULL_HEIGHT"),
!1;Db();new ResizeSensor(pa.container,function(Pa){Db()});(T.searchImageMask||T.searchImageColor||T.searchImageRotationSpeed)&&Wa.set_loading(T.searchImageMask,T.searchImageColor,T.searchImageRotationSpeed);T.callbackReady&&(Sb=T.callbackReady);Ta.mode=ib.init;ya="undefined"===typeof T.assetsPath?hc.appstaticURL+"jeefit/":T.assetsPath;"undefined"!==typeof T.catalog&&(bc=T.catalog);if(T.onWebcamGet)Wa.onWebcamGet(T.onWebcamGet);Wa.init(ya,ma,Oa,pa.cv);Wa.onHalfLoad(qb.load.bind(qb,T.sku?T.sku:null));
return!0}},destroy:function(){return Wa.destroy().then(function(){Ta.mode=ib.notLoaded;Ta.sku=void 0;Sb=bc=null;Object.assign(pa,Nc)})},pause:function(T){if(!Ta.isRT)return Promise.reject();Ta.mode=ib.paused;var ya=Wa.switch_sleep(!0,T);return T?ya:Promise.resolve(ya)},resume:function(T){if(!Ta.isRT)return Promise.reject();Ta.mode=ib.realtime;var ya=Wa.switch_sleep(!1,T);return T?ya:Promise.resolve(ya)},set_videoRotation:function(T){Ta.isRT&&Wa.set_videoRotation(T)},set_videoSizes:function(T,ya,Pa,
Ka,jb,Xa){Ta.isRT&&Wa.set_videoSizes(T,ya,Pa,Ka,jb,Xa)},resize:function(){Db()},set_scale:function(T){Wa.set_scale(T)},capture_image:function(T,ya,Pa){Wa&&Wa.ready?Wa.capture_image(T,ya,Pa,!1):ya(!1)},toggle_loading:function(T){T?(Aa(pa.loading),gc("LOADING_START")):(Na(pa.loading),gc("LOADING_END"))},load_modelStandalone:function(T,ya){if(!Ta.isRT)throw Error("Loading standalone models is only available in RT mode");Ta.mode===ib.paused&&qb.resume();Ta.mode=ib.loadingModel;var Pa="undef";"string"===
typeof T?(Pa=T,Ca(T).then(function(Ka){Wa.set_modelStandalone(Ka,ya,Pa)}).catch(Za)):(Pa="RANDOM_SKU_"+Date.now().toString(),Wa.set_modelStandalone(T,ya,Pa));Ta.sku=Pa},load:function(T,ya){qb.toggle_loading(!0);Ta.isRT&&qb.load_RT(T,ya)},load_RT:function(T,ya){T===Ta.sku?qb.toggle_loading(!1):(Ta.sku=T,Ta.mode=ib.loadingModel,Ta.mode===ib.paused&&qb.resume(),T?bc&&bc[T]?Hb(T,bc[T],ya):Ca(hc.glassesDBURL+T).then(function(Pa){if(Pa.error)return Za();Hb(T,Pa.intrinsic,ya)}).catch(Za):(Ta.mode=ib.realtime,
qb.toggle_loading(!1),Wa.start_rendering(),ya&&ya()))},enter_adjustMode:nb,exit_adjustMode:sb};return qb}();window.JEELIZVTO=JEELIZVTO;
window.JEELIZVTOWIDGET={VERSION:"2.2.0",start:JeelizVTOWidget.start,pause:JeelizVTOWidget.pause,resume:JeelizVTOWidget.resume,load:JeelizVTOWidget.load,load_modelStandalone:JeelizVTOWidget.load_modelStandalone,capture_image:JeelizVTOWidget.capture_image,set_videoRotation:JeelizVTOWidget.set_videoRotation,resize:JeelizVTOWidget.resize,set_scale:JeelizVTOWidget.set_scale,set_videoSizes:JeelizVTOWidget.set_videoSizes,destroy:JeelizVTOWidget.destroy,enter_adjustMode:JeelizVTOWidget.enter_adjustMode,exit_adjustMode:JeelizVTOWidget.exit_adjustMode};
