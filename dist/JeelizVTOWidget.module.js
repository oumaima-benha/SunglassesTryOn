 /**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( https://webar.rocks )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

 /**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( https://webar.rocks )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

 /**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( https://webar.rocks )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

 /**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( https://webar.rocks )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

 /**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( https://webar.rocks )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

 /**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( https://webar.rocks )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

 /**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( https://webar.rocks )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

 /**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( https://webar.rocks )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

 /**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( https://webar.rocks )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

 /**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( https://webar.rocks )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

/* eslint-disable */
let JEELIZVTO=null;let JEELIZVTOWIDGET=null;var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(ha){var oa=0;return function(){return oa<ha.length?{done:!1,value:ha[oa++]}:{done:!0}}};$jscomp.arrayIterator=function(ha){return{next:$jscomp.arrayIteratorImpl(ha)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(ha,oa,wa){if(ha==Array.prototype||ha==Object.prototype)return ha;ha[oa]=wa.value;return ha};$jscomp.getGlobal=function(ha){ha=["object"==typeof globalThis&&globalThis,ha,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var oa=0;oa<ha.length;++oa){var wa=ha[oa];if(wa&&wa.Math==Math)return wa}throw Error("Cannot find global object");};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(ha,oa){var wa=$jscomp.propertyToPolyfillSymbol[oa];if(null==wa)return ha[oa];wa=ha[wa];return void 0!==wa?wa:ha[oa]};
$jscomp.polyfill=function(ha,oa,wa,Ga){oa&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(ha,oa,wa,Ga):$jscomp.polyfillUnisolated(ha,oa,wa,Ga))};$jscomp.polyfillUnisolated=function(ha,oa,wa,Ga){wa=$jscomp.global;ha=ha.split(".");for(Ga=0;Ga<ha.length-1;Ga++){var ra=ha[Ga];if(!(ra in wa))return;wa=wa[ra]}ha=ha[ha.length-1];Ga=wa[ha];oa=oa(Ga);oa!=Ga&&null!=oa&&$jscomp.defineProperty(wa,ha,{configurable:!0,writable:!0,value:oa})};
$jscomp.polyfillIsolated=function(ha,oa,wa,Ga){var ra=ha.split(".");ha=1===ra.length;Ga=ra[0];Ga=!ha&&Ga in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var qb=0;qb<ra.length-1;qb++){var na=ra[qb];if(!(na in Ga))return;Ga=Ga[na]}ra=ra[ra.length-1];wa=$jscomp.IS_SYMBOL_NATIVE&&"es6"===wa?Ga[ra]:null;oa=oa(wa);null!=oa&&(ha?$jscomp.defineProperty($jscomp.polyfills,ra,{configurable:!0,writable:!0,value:oa}):oa!==wa&&($jscomp.propertyToPolyfillSymbol[ra]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(ra):
$jscomp.POLYFILL_PREFIX+ra,ra=$jscomp.propertyToPolyfillSymbol[ra],$jscomp.defineProperty(Ga,ra,{configurable:!0,writable:!0,value:oa})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(ha){if(ha)return ha;var oa=function(ra,qb){this.$jscomp$symbol$id_=ra;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:qb})};oa.prototype.toString=function(){return this.$jscomp$symbol$id_};var wa=0,Ga=function(ra){if(this instanceof Ga)throw new TypeError("Symbol is not a constructor");return new oa("jscomp_symbol_"+(ra||"")+"_"+wa++,ra)};return Ga},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(ha){if(ha)return ha;ha=Symbol("Symbol.iterator");for(var oa="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),wa=0;wa<oa.length;wa++){var Ga=$jscomp.global[oa[wa]];"function"===typeof Ga&&"function"!=typeof Ga.prototype[ha]&&$jscomp.defineProperty(Ga.prototype,ha,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return ha},
"es6","es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(ha){ha={next:ha};ha[Symbol.iterator]=function(){return this};return ha};$jscomp.makeIterator=function(ha){var oa="undefined"!=typeof Symbol&&Symbol.iterator&&ha[Symbol.iterator];return oa?oa.call(ha):$jscomp.arrayIterator(ha)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(ha){function oa(){this.batch_=null}function wa(na){return na instanceof ra?na:new ra(function(Da,Ma){Da(na)})}if(ha&&!$jscomp.FORCE_POLYFILL_PROMISE)return ha;oa.prototype.asyncExecute=function(na){if(null==this.batch_){this.batch_=[];var Da=this;this.asyncExecuteFunction(function(){Da.executeBatch_()})}this.batch_.push(na)};var Ga=$jscomp.global.setTimeout;oa.prototype.asyncExecuteFunction=function(na){Ga(na,0)};oa.prototype.executeBatch_=function(){for(;this.batch_&&
this.batch_.length;){var na=this.batch_;this.batch_=[];for(var Da=0;Da<na.length;++Da){var Ma=na[Da];na[Da]=null;try{Ma()}catch(Xa){this.asyncThrow_(Xa)}}}this.batch_=null};oa.prototype.asyncThrow_=function(na){this.asyncExecuteFunction(function(){throw na;})};var ra=function(na){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var Da=this.createResolveAndReject_();try{na(Da.resolve,Da.reject)}catch(Ma){Da.reject(Ma)}};ra.prototype.createResolveAndReject_=function(){function na(Xa){return function(gb){Ma||
(Ma=!0,Xa.call(Da,gb))}}var Da=this,Ma=!1;return{resolve:na(this.resolveTo_),reject:na(this.reject_)}};ra.prototype.resolveTo_=function(na){if(na===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(na instanceof ra)this.settleSameAsPromise_(na);else{a:switch(typeof na){case "object":var Da=null!=na;break a;case "function":Da=!0;break a;default:Da=!1}Da?this.resolveToNonPromiseObj_(na):this.fulfill_(na)}};ra.prototype.resolveToNonPromiseObj_=function(na){var Da=void 0;
try{Da=na.then}catch(Ma){this.reject_(Ma);return}"function"==typeof Da?this.settleSameAsThenable_(Da,na):this.fulfill_(na)};ra.prototype.reject_=function(na){this.settle_(2,na)};ra.prototype.fulfill_=function(na){this.settle_(1,na)};ra.prototype.settle_=function(na,Da){if(0!=this.state_)throw Error("Cannot settle("+na+", "+Da+"): Promise already settled in state"+this.state_);this.state_=na;this.result_=Da;this.executeOnSettledCallbacks_()};ra.prototype.executeOnSettledCallbacks_=function(){if(null!=
this.onSettledCallbacks_){for(var na=0;na<this.onSettledCallbacks_.length;++na)qb.asyncExecute(this.onSettledCallbacks_[na]);this.onSettledCallbacks_=null}};var qb=new oa;ra.prototype.settleSameAsPromise_=function(na){var Da=this.createResolveAndReject_();na.callWhenSettled_(Da.resolve,Da.reject)};ra.prototype.settleSameAsThenable_=function(na,Da){var Ma=this.createResolveAndReject_();try{na.call(Da,Ma.resolve,Ma.reject)}catch(Xa){Ma.reject(Xa)}};ra.prototype.then=function(na,Da){function Ma(mb,ub){return"function"==
typeof mb?function(Qb){try{Xa(mb(Qb))}catch(Ib){gb(Ib)}}:ub}var Xa,gb,Cb=new ra(function(mb,ub){Xa=mb;gb=ub});this.callWhenSettled_(Ma(na,Xa),Ma(Da,gb));return Cb};ra.prototype.catch=function(na){return this.then(void 0,na)};ra.prototype.callWhenSettled_=function(na,Da){function Ma(){switch(Xa.state_){case 1:na(Xa.result_);break;case 2:Da(Xa.result_);break;default:throw Error("Unexpected state: "+Xa.state_);}}var Xa=this;null==this.onSettledCallbacks_?qb.asyncExecute(Ma):this.onSettledCallbacks_.push(Ma)};
ra.resolve=wa;ra.reject=function(na){return new ra(function(Da,Ma){Ma(na)})};ra.race=function(na){return new ra(function(Da,Ma){for(var Xa=$jscomp.makeIterator(na),gb=Xa.next();!gb.done;gb=Xa.next())wa(gb.value).callWhenSettled_(Da,Ma)})};ra.all=function(na){var Da=$jscomp.makeIterator(na),Ma=Da.next();return Ma.done?wa([]):new ra(function(Xa,gb){function Cb(Qb){return function(Ib){mb[Qb]=Ib;ub--;0==ub&&Xa(mb)}}var mb=[],ub=0;do mb.push(void 0),ub++,wa(Ma.value).callWhenSettled_(Cb(mb.length-1),gb),
Ma=Da.next();while(!Ma.done)})};return ra},"es6","es3");$jscomp.owns=function(ha,oa){return Object.prototype.hasOwnProperty.call(ha,oa)};$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(ha,oa){for(var wa=1;wa<arguments.length;wa++){var Ga=arguments[wa];if(Ga)for(var ra in Ga)$jscomp.owns(Ga,ra)&&(ha[ra]=Ga[ra])}return ha};$jscomp.polyfill("Object.assign",function(ha){return ha||$jscomp.assign},"es6","es3");
$jscomp.polyfill("Math.log2",function(ha){return ha?ha:function(oa){return Math.log(oa)/Math.LN2}},"es6","es3");$jscomp.polyfill("Promise.prototype.finally",function(ha){return ha?ha:function(oa){return this.then(function(wa){return Promise.resolve(oa()).then(function(){return wa})},function(wa){return Promise.resolve(oa()).then(function(){throw wa;})})}},"es9","es3");$jscomp.polyfill("Math.sign",function(ha){return ha?ha:function(oa){oa=Number(oa);return 0===oa||isNaN(oa)?oa:0<oa?1:-1}},"es6","es3");
var JeelizVTOWidget=function(){function ha(){Ra.mode=jb.realtime;Ra.isRT=!0;sa.adjust=document.getElementById("JeelizVTOWidgetAdjust");if(sa.adjust){sa.adjustNotice=document.getElementById("JeelizVTOWidgetAdjustNotice");sa.adjustExit=document.getElementById("JeelizVTOWidgetAdjustExit");sa.changeModelContainer=document.getElementById("JeelizVTOWidgetChangeModelContainer");sa.buttonResizeCanvas=document.getElementById("buttonResizeCanvas");var U=sa.adjust;U&&U.addEventListener("click",mb,!1);(U=sa.adjustExit)&&
U.addEventListener("click",ub,!1);[sa.adjust,sa.changeModelContainer,sa.buttonResizeCanvas].forEach(wa)}Jb.enabled&&Ta.do_instantDetection(Jb.interval,Jb.callback);Rb&&(Rb(!0),Rb=null)}function oa(){var U=document.createElement("style");U.setAttribute("type","text/css");U.innerHTML="._jeelizVTOForceHide { display: none!important }._jeelizVTOForceShow { display: revert!important }";var Ba=document.getElementsByTagName("head");1<=Ba.length?Ba[0].appendChild(U):document.body.appendChild(U)}function wa(U){U&&
(U.classList.remove("_jeelizVTOForceHide"),"none"===window.getComputedStyle(U).display&&U.classList.add("_jeelizVTOForceShow"))}function Ga(U){U&&(U.classList.add("_jeelizVTOForceHide"),U.classList.remove("_jeelizVTOForceShow"))}function ra(U,Ba){if(U)for(var Oa in Ba)U.style[Oa]=Ba[Oa]}function qb(U){if(U)return U.clientWidth}function na(U){if(U)return U.clientHeight}function Da(U){return new Promise(function(Ba,Oa){var Ia=new XMLHttpRequest;Ia.open("GET",U,!0);Ia.onreadystatechange=function(){if(4===
Ia.readyState)if(200===Ia.status||0===Ia.status)try{var hb=JSON.parse(Ia.responseText);Ba(hb)}catch(Va){Oa("INVALID JSON")}else Oa("HTTP ERROR "+Ia.status)};Ia.send()})}function Ma(U){Ra.isRT=!1;gb(U||"NO_ERROR_LABEL")}function Xa(){gb("INVALID_SKU")}function gb(U){mc.error?mc.error(U):console.log("ERROR:",U)}function Cb(){nc=qb(sa.container);oc=na(sa.container);ac=Math.round(1*nc);bc=Math.round(1*oc);ra(sa.cv,{width:nc.toString()+"px",height:oc.toString()+"px"});sa.cv.width=ac;sa.cv.height=bc;Ta&&
(Ra.mode===jb.notLoaded?Ta.set_size(ac,bc):Ta.resize(ac,bc))}function mb(){[sa.adjust,sa.changeModelContainer,sa.buttonResizeCanvas].forEach(Ga);Ra.mode=jb.adjust;[sa.adjustNotice,sa.adjustExit].forEach(wa);sa.cv.style.cursor="move";Ta.switch_modeInteractor("movePinch");cc("ADJUST_START")}function ub(){[sa.adjustNotice,sa.adjustExit].forEach(Ga);[sa.adjust,sa.changeModelContainer,sa.buttonResizeCanvas].forEach(wa);sa.cv.style.cursor="auto";Ra.mode=Ra.realtime;Ta.switch_modeInteractor("idle");cc("ADJUST_END")}
function Qb(){if(!sa.trackIframe){var U=dc.appstaticURL+"jeewidget/";sa.trackIframe=document.createElement("iframe");sa.trackIframe.width="10";sa.trackIframe.height="10";sa.trackIframe.src=U+"trackIframe.html";ra(sa.trackIframe,{position:"absolute",zIndex:-1,bottom:"0px",right:"0px"});sa.container.appendChild(sa.trackIframe)}}function Ib(U,Ba,Oa){Ta.load_model(Ba.mod+".json",Ba.mats,function(){Ra.mode=jb.realtime;Oa&&Oa();rb.toggle_loading(!1);if(sa.trackIframe){var Ia=location.href.split("?").shift().split("://").pop();
Ia=Ia.split("/").shift();Ia=Ia.split("www.").pop();try{sa.trackIframe.contentWindow.postMessage({action:"COUNTTRYONSESSION",domain:Ia,sku:U},"*")}catch(hb){}}},U)}function cc(U){(U=wc[U])&&U()}var Ta=function(){function U(a,b){if(b)a:{var f=xc;a=a.split(".");for(var d=0;d<a.length-1;d++){var n=a[d];if(!(n in f))break a;f=f[n]}a=a[a.length-1];d=f[a];b=b(d);b!=d&&null!=b&&Nc(f,a,{configurable:!0,writable:!0,value:b})}}function Ba(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:
{done:!0}}}function Oa(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:Ba(a)}}function Ia(a,b){var f=new XMLHttpRequest;f.open("GET",a,!0);f.withCredentials=!1;f.onreadystatechange=function(){4!==f.readyState||200!==f.status&&0!==f.status||b(f.responseText)};f.send()}function hb(a,b){if(0===b||"object"!==typeof a)return a;a=Object.assign({},a);b=void 0===b||-1===b?-1:b-1;for(var f in a)a[f]=hb(a[f],b);return a}function Va(a){return.5>a?4*a*a*a:(a-
1)*(2*a-2)*(2*a-2)+1}function Db(a){switch(a){case "relu":return"gl_FragColor=max(vec4(0.,0.,0.,0.),gl_FragColor);";case "elu":return"gl_FragColor=mix(exp(-abs(gl_FragColor))-vec4(1.,1.,1.,1.),gl_FragColor,step(0.,gl_FragColor));";case "elu01":return"gl_FragColor=mix(0.1*exp(-abs(gl_FragColor))-vec4(0.1,0.1,0.1,0.1),gl_FragColor,step(0.,gl_FragColor));";case "arctan":return"gl_FragColor=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";case "copy":return"";default:return!1}}function Ea(a,b){var f=
b%8;return a[(b-f)/8]>>7-f&1}function ab(a,b,f){var d=1,n=0;for(f=b+f-1;f>=b;--f)n+=d*Ea(a,f),d*=2;return n}function nb(a){var b=null;"undefined"===typeof btoa?b=Buffer.from(a.data,"base64").toString("latin1"):b=atob(a.data);a=b.length;for(var f=new Uint8Array(a),d=0;d<a;++d)f[d]=b.charCodeAt(d);return f}function yb(a){var b=JSON.parse(a);a=b.nb;var f=b.n;b=nb(b);for(var d=new Uint32Array(f),n=0;n<f;++n)d[n]=ab(b,n*a,a);return d}function sb(a){var b=JSON.parse(a);a=b.ne;var f=b.nf,d=b.n;b=nb(b);for(var n=
new Float32Array(d),m=new Float32Array(f),u=a+f+1,g=0;g<d;++g){var r=u*g,p=0===Ea(b,r)?1:-1,D=ab(b,r+1,a);r=r+1+a;for(var I=m.length,t=0,y=r;y<r+I;++y)m[t]=Ea(b,y),++t;for(I=r=0;I<f;++I)r+=m[I]*Math.pow(2,-I-1);n[g]=0===r&&0===D?0:p*(1+r)*Math.pow(2,1+D-Math.pow(2,a-1))}return n}function ec(a){var b=null,f=null,d=null,n=0;this.h=function(m){this.On(m.Ad);d.Nk({Xf:m.Xf,Uf:m.Uf})};this.Il=function(m){return b[m]};this.On=function(m){var u=null;n=m.length;b=m.map(function(g,r){g=Object.assign({},g,{index:r,
parent:this,Md:u,pm:r===n-1});return u=0===r?Oc.instance(g):Pc.instance(g)});f=b[0];d=b[n-1];b.forEach(function(g,r){0!==r&&g.$m()})};this.xa=function(m){var u=m;b.forEach(function(g){u=g.xa(u,!1)});return u};this.Hl=function(){return f.I()};this.df=function(){return d.Ll()};this.Ah=function(){return d.Ah()};this.u=function(){b&&(b.forEach(function(m){m.u()}),d=f=b=null,n=0)};"undefined"!==typeof a&&this.h(a)}function zb(a,b){a[b]=!0;a.setAttribute(b,"true")}function Kb(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&
!window.MSStream}function Sb(){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return a&&a.length&&2<a.length?[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]:[0,0,0]}function Tb(){var a=navigator.userAgent.toLowerCase();return-1!==a.indexOf("safari")&&-1===a.indexOf("chrome")?!0:!1}function Ub(a){if(!a)return a;var b=null;if(a.video){var f=function(d){return d&&"object"===typeof d?Object.assign({},d):d};b={};"undefined"!==typeof a.video.width&&(b.width=f(a.video.width));"undefined"!==
typeof a.video.height&&(b.height=f(a.video.height));"undefined"!==typeof a.video.facingMode&&(b.facingMode=f(a.video.facingMode))}b={audio:a.audio,video:b};"undefined"!==typeof a.deviceId&&Vb(b,a.deviceId);return b}function Vb(a,b){b&&(a.video=a.video||{},a.video.deviceId={exact:b},a.video.facingMode&&delete a.video.facingMode)}function fc(a){var b=a.video.width;a.video.width=a.video.height;a.video.height=b;return a}function gc(a){function b(t){return[480,576,640,648,720,768,800,960,1080,1152,1280,
1366,1920].sort(function(y,v){return Math.abs(y-t)-Math.abs(v-t)})}function f(t){var y=Ub(a);t=t(y);n.push(t);d(t)}function d(t){if(t.video&&t.video.facingMode&&t.video.facingMode.exact){var y=t.video.facingMode.exact;t=Ub(t);delete t.video.facingMode.exact;t.video.facingMode.ideal=y;n.push(t)}}var n=[];if(!a||!a.video)return n;d(a);if(a.video.width&&a.video.height){if(a.video.width.ideal&&a.video.height.ideal){var m=b(a.video.width.ideal).slice(0,3),u=b(a.video.height.ideal).slice(0,3),g={},r=0;
for(g.jb=void 0;r<m.length;g={jb:g.jb},++r){g.jb=m[r];var p={},D=0;for(p.ib=void 0;D<u.length;p={ib:p.ib},++D)if(p.ib=u[D],g.jb!==a.video.width.ideal||p.ib!==a.video.height.ideal){var I=Math.max(g.jb,p.ib)/Math.min(g.jb,p.ib);I<4/3-.1||I>16/9+.1||f(function(t,y){return function(v){v.video.width.ideal=t.jb;v.video.height.ideal=y.ib;return v}}(g,p))}}}f(function(t){return fc(t)})}a.video.width&&a.video.height&&(a.video.width.ideal&&a.video.height.ideal&&f(function(t){delete t.video.width.ideal;delete t.video.height.ideal;
return t}),f(function(t){delete t.video.width;delete t.video.height;return t}));a.video.facingMode&&(f(function(t){delete t.video.facingMode;return t}),a.video.width&&a.video.height&&f(function(t){fc(t);delete t.video.facingMode;return t}));n.push({audio:a.audio,video:!0});return n}function Wb(a){try{var b=window.matchMedia("(orientation: portrait)").matches?!0:!1}catch(d){b=window.innerHeight>window.innerWidth}if(b&&a&&a.video){b=a.video.width;var f=a.video.height;b&&f&&b.ideal&&f.ideal&&b.ideal>
f.ideal&&(a.video.height=b,a.video.width=f)}}function Eb(a){a.volume=0;zb(a,"muted");if(Tb()){if(1===a.volume){var b=function(){a.volume=0;window.removeEventListener("mousemove",b,!1);window.removeEventListener("touchstart",b,!1)};window.addEventListener("mousemove",b,!1);window.addEventListener("touchstart",b,!1)}setTimeout(function(){a.volume=0;zb(a,"muted")},5)}}function hc(a){var b=Fa.element,f=Fa.eh;return null===b?Promise.resolve():new Promise(function(d,n){if(b.srcObject&&b.srcObject.getVideoTracks){var m=
b.srcObject.getVideoTracks();1!==m.length?n("INVALID_TRACKNUMBER"):(m=m[0],a?yc(b,d,n,f):(m.stop(),d()))}else n("BAD_IMPLEMENTATION")})}function zc(a,b,f,d){function n(u){m||(m=!0,f(u))}var m=!1;navigator.mediaDevices.getUserMedia(d).then(function(u){function g(){setTimeout(function(){if(a.currentTime){var p=a.videoWidth,D=a.videoHeight;if(0===p||0===D)n("VIDEO_NULLSIZE");else{p&&(a.style.width=p.toString()+"px");D&&(a.style.height=D.toString()+"px");p={Jk:null,og:null,Lm:null};try{var I=u.getVideoTracks()[0];
I&&(p.Lm=I,p.Jk=I.getCapabilities(),p.og=I.getSettings())}catch(t){}Tb()||Kb()?a.parentNode&&null!==a.parentNode?(m||b(a,u,p),setTimeout(function(){a.play()},100)):(document.body.appendChild(a),Eb(a),m||b(a,u,p),setTimeout(function(){a.style.transform="scale(0.0001,0.0001)";a.style.position="fixed";a.style.bottom="0px";a.style.right="0px";Eb(a);setTimeout(function(){a.play()},100)},80)):m||b(a,u,p)}}else n("VIDEO_NOTSTARTED")},700)}function r(){a.removeEventListener("loadeddata",r,!1);var p=a.play();
Eb(a);"undefined"===typeof p?g():p.then(function(){g()}).catch(function(){n("VIDEO_PLAYPROMISEREJECTED")})}"undefined"!==typeof a.srcObject?a.srcObject=u:(a.src=window.URL.createObjectURL(u),a.videoStream=u);Eb(a);a.addEventListener("loadeddata",r,!1)}).catch(function(u){n(u)})}function yc(a,b,f,d){if(a)if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){if(d&&d.video){if(Kb()){var n=Sb();0!==n[0]&&(12>n[0]||12===n[0]&&2>n[1])&&Wb(d)}d.video.width&&d.video.width.ideal&&(a.style.width=
d.video.width.ideal+"px");d.video.height&&d.video.height.ideal&&(a.style.height=d.video.height.ideal+"px")}zb(a,"autoplay");zb(a,"playsinline");d&&d.audio?a.volume=0:zb(a,"muted");zc(a,b,function(){function m(g){if(0===g.length)f("INVALID_FALLBACKCONSTRAINTS");else{var r=g.shift();zc(a,b,function(){m(g)},r)}}var u=gc(d);m(u)},d)}else f&&f("MEDIASTREAMAPI_NOTFOUND");else f&&f("VIDEO_NOTPROVIDED")}function Qc(a){navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(function(b){(b=
b.filter(function(f){return f.kind&&-1!==f.kind.toLowerCase().indexOf("video")&&f.label&&f.deviceId}))&&b.length&&0<b.length?a(b,!1):a(!1,"NODEVICESFOUND")}).catch(function(){a(!1,"PROMISEREJECTED")}):a(!1,"NOTSUPPORTED")}function Rc(){function a(){var M=Xb.ld;Lb=M*H.width;Mb=M*H.height}function b(){++K;2===K&&(r(),pa.Sh(),pa.oj(),pa.An(),R.Tc.forEach(function(M){M()}),R.Tc.splice(0),T.model&&!R.isBusy&&pa.ji(T.model))}function f(){vb.reset();wb.stop();m(0)}function d(M){bb&&(ta.nn(bb),bb.remove());
ta.Uj(M);bb=M}function n(M){G=M;wb.update({ja:G})}function m(M){aa=-1;Q?aa=ea:ka.isEnabled?aa=ka.ui:N?(g(),aa=P===W.U?vb.P():1):(aa=H.Rc[0],g());ya.ka();for(var Z=0;Z<aa;++Z)ca.set("s55"),L.wd.O(),L.Bb.a(0),z.raw.a(1),Y.g(!1,!1),L.wd.a(0),k.xa(L.wd);Q?(ja(),Q=!1,c.flush(),wb.bg(m)):(ta.animate(M),ka.isEnabled||(N&&(vb.tj(),Z=vb.Bh(1),S=H.ue[0]+Z*(H.ue[0]-H.ue[1]),H.Xb&&P===W.U&&(q.pj=H.Bd[0]+(H.Bd[1]-H.Bd[0])*Z,q.Vd=H.If[0]+(H.If[1]-H.If[0])*Z,q.Vd=Math.min(q.Vd,.5))),l=M,P!==W.Aa&&wb.bg(m)))}function u(){l=
Date.now();N=!0}function g(){var M=Fa.element.currentTime-Ya;0>M&&(Ya=Fa.element.currentTime);1E3*M<H.Eo||(Fa.ha.refresh(),Ya+=M,ca.set("s53"),ya.ka(),L.Bb.O(),Fa.ha.a(0),Y.g(!1,!0),null!==L.Db&&(ca.set("s54"),L.Qc.i(),L.Bb.a(0),L.Db.a(1),Y.g(!1,!1)))}function r(){L.Fj=X.instance({isPot:!0,Dm:!0,isFloat:!1,url:H.Y+H.ua+H.Fo});var M={isPot:!1,Dm:!0,isFloat:!1,width:Lb,height:Mb};L.Bb=X.instance(M);L.Qc=X.instance(M);h.qj.push(L.Bb,L.Qc);L.wd=X.instance({isPot:!0,isFloat:!1,width:k.Hl()});H.Dd&&(Ca=
X.instance({isPot:!1,isFloat:!1,isLinear:!0,url:(H.Lf||-1!==H.Kf.indexOf("//")?"":H.Y+H.ua)+H.Kf}))}function p(){function M(){return{width:3,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,.5,.5,0,0,0,0,0,0,0,0,0])}}var Z={width:3,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0])};z.raw=X.instance(M());z.Oc=X.instance(M());z.Fc=Sc.instance(M());z.Re=X.instance(Z);Z={width:2,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0,0,0,0,0])};z.Hg=X.instance(Z);
z.ge=X.instance(Z);q.Kd=X.instance({width:1,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0])})}function D(M){ca.set("s61");z.Hg.O();z.raw.a(1);z.ge.a(2);var Z=H.ze[0]+vb.Bh(.5)*(H.ze[1]-H.ze[0]);ca.C("u58",Z);ca.C("u59",vb.Bl()/aa);Y.g(!1,!1);ca.set("s62");z.ge.i();z.Hg.a(0);Y.g(!1,!1);M.a(0);z.raw.i();c.viewport(0,0,1,1);ca.set("s56");ca.mg("u43",Ac.get(0));z.Fc.a(1);Y.g(!1,!1);ca.set("s57");c.viewport(1,0,2,1);Y.g(!1,!1);z.Re.O();ca.set("s58");ca.K("u51",H.ve[0]*S,H.ve[1]);z.raw.a(0);
z.Fc.a(1);Y.g(!1,!1);ca.set("s59");z.Fc.Gn(1);z.Re.a(0);z.ge.a(2);Y.g(!1,!1);ca.set("s60");z.Fc.a(0);z.Oc.i();Y.g(!1,!1);l-q.hi>q.pj&&H.Xb&&P===W.U&&(q.hi=l,q.Kd.O(),ca.set("s63"),M.a(0),Y.g(!1,!1),ua.kb.Cj(Fa.ha,q.Kd,q.Vd))}function I(){var M=H.Y,Z=H.oe.split("://").shift();if("http"===Z||"https"===Z)M="";M+=H.oe;"json"!==M.split(".").pop()&&(M+=H.neuralNetworkPath);Ia(M,function(qa){qa=JSON.parse(qa);k=new ec({Ad:qa.layers,Xf:"gpuRawAvg",Uf:D});b()})}var t=[-1,-1],y=null,v=[.5,0,0,.5],h={fb:null,
Tb:!1,Ea:!1,qj:[]},e=[0,H.Ha[1],H.Ha[2]],G=H.ja,F=null,k=null;a();var x=[0,0,0],w=1,O=0,L={Bb:null,Qc:null,wd:null,Fj:null,Db:null},z={raw:null,Oc:null,Fc:null,Re:null,Hg:null,ge:null},l=0,q={gb:null,Cb:null,Gd:null,hi:0,pj:H.Bd[1],Vd:.1,Kd:null},K=0,J=!1,N=!0,S=1,aa=-1,W={Aa:-1,U:0,Ja:1,ic:2,jc:3},P=W.U,A=null,B=W.U,C=!1,Q=!1,ea=1,ja=!1,ka={isEnabled:!1,Pe:null,Za:null,ui:0},Ca=null,Pa=-1,Ka=!1,Na=!1,la=!1,ia=[0,0,0],V=1,fa,xa,Ja,ma={Ha:[0,0,0],xb:1,Hc:0,wa:0,pa:0,ma:H.ma},ob=[0,0,0],Wa={scale:1,
offsetX:0,offsetY:0},Ya=0,pa={Rh:function(){a();t[0]=1;t[1]=Lb/Mb;Ac.h({Jd:H.scanOverlapFactors,ti:H.scanNScaleLevels,ta:Lb,rf:Mb,Qi:H.scanScale0Factor,Sa:H.Sa,Ri:!0});Pa=H.width>H.height?[H.width/H.height,1]:[1,H.height/H.width];h.Ea=!0},h:function(){ca.te([{id:"s53",name:"_",j:"attribute vec2 a0;uniform mat2 u38;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=vec2(.5,.5)+u38*a0;}",D:["a0"],L:[2],b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:["u1",
"u38"],precision:"lowp"},{id:"s55",name:"_",b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",j:"attribute vec2 a0;uniform sampler2D u39;uniform vec2 u40;uniform float u41;const vec2 g=vec2(.16,.5),h=vec2(.5,.5),i=vec2(.84,.5),p=vec2(.5,.5);varying vec2 vv0;void main(){vec4 a=texture2D(u39,g);vec2 k=a.gb,b=a.a*u40;vec4 c=texture2D(u39,h);float q=c.a,l=c.y;vec2 m=vec2(mix(1.,1./cos(l),u41),1.);b*=m;vec2 n=a0*.5;float d=texture2D(u39,i).r,e=cos(d),f=sin(d);vec2 o=mat2(e,f,-f,e)*n;vv0=k+o*b,gl_Position=vec4(a0,0.,1.);}",
D:["a0"],L:[2],c:["u1","u39","u40","u41"],precision:"lowp"},{id:"s56",name:"_",j:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",b:"uniform sampler2D u42,u39;uniform vec3 u43,u44;uniform float u45,u46;const vec4 e=vec4(.25,.25,.25,.25);const vec2 f=vec2(.16,.5);void main(){vec4 b=texture2D(u42,vec2(.625,.625)),c=texture2D(u42,vec2(.875,.625));float d=dot(b-c,e);bool g=d>u46;vec4 a=texture2D(u39,f);g?a.r=2.:a.r>u45?a.r=0.:a.r>1.9?a.r+=1.:0.;if(a.r<.9)a=vec4(1.,u43);else{float h=dot(e,texture2D(u42,vec2(.875,.875))),i=dot(e,texture2D(u42,vec2(.125,.625))),j=dot(e,texture2D(u42,vec2(.375,.625)));a.r*=step(1.9,a.r),a.gba+=vec3(h,i,j)*u44*a.a;}gl_FragColor=a;}",
c:"u42 u39 u43 u45 u44 u46".split(" ")},{id:"s57",name:"_",b:"uniform sampler2D u42,u39;uniform vec3 u47,u48;uniform vec2 u49;const vec4 v=vec4(1.,1.,1.,1.),f=vec4(0.,0.,0.,0.),e=vec4(.25,.25,.25,.25);const vec2 g=vec2(.16,.5),h=vec2(.5,.5),i=vec2(.84,.5);varying vec2 vv0;void main(){float k=step(vv0.x,.5);vec4 l=texture2D(u39,g);if(l.r<1.9){gl_FragColor=f;return;}float m=dot(texture2D(u42,vec2(.125,.125)),e),a=smoothstep(u49.x,u49.y,m);vec4 n=texture2D(u39,h);float o=n.a;a=mix(a,o,.3);float p=dot(e,texture2D(u42,vec2(.125,.875))),q=dot(e,texture2D(u42,vec2(.375,.875))),r=dot(e,texture2D(u42,vec2(.625,.875)));vec3 s=vec3(p,q,r),b=u48+s*u47;float c=texture2D(u39,i).r,d=b.z*.07;c+=d,b.z-=d;vec4 t=vec4(b,a),u=vec4(c,0.,0.,0.);gl_FragColor=mix(u,t,k);}",
c:["u42","u39","u49","u47","u48"]},{id:"s58",name:"_",b:"uniform sampler2D u39,u50;uniform vec2 u51;uniform float u52,u53;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(1.,0.,0.,0.),h=vec4(0.,0.,0.,1.);const vec2 i=vec2(.5,.5);varying vec2 vv0;void main(){vec4 c=texture2D(u39,vv0),d=texture2D(u50,vv0),j=texture2D(u39,i);float k=pow(j.a,u53),l=(1.-k)*(u51.y-u51.x)+u51.x,a=step(.33,vv0.x)*step(vv0.x,.67);vec4 m=mix(g,h,a),b=max(l*f,m);b*=mix(f,u52*vec4(1.,1.,1.,0.)+vec4(0.,0.,0.,1.),a);vec4 n=c-d;gl_FragColor=n*b;}",
c:["u39","u50","u51","u52","u53"],precision:"highp"},{id:"s59",name:"_",b:"uniform sampler2D u50,u55,u56;const vec4 i=vec4(1.,1.,1.,1.);const vec2 f=vec2(.25,.5),g=vec2(.75,.5);varying vec2 vv0;void main(){float c=step(.33,vv0.x)*step(vv0.x,.66),j=step(.66,vv0.x);vec4 d=texture2D(u50,vv0),h=texture2D(u55,vv0),a=d+h;float b=a.a;b*=texture2D(u56,f).a,b*=texture2D(u56,g).a,a.a=mix(a.a,b,c),gl_FragColor=a;}",c:["u50","u55","u56"],precision:"highp"},{id:"s60",name:"_",b:"uniform sampler2D u39;uniform float u57;const vec4 g=vec4(1.,1.,1.,1.);const vec2 f=vec2(.5,.5);varying vec2 vv0;void main(){vec4 a=texture2D(u39,vv0);float b=step(vv0.x,.33),c=texture2D(u39,f).g;a.a+=b*a.a*u57*abs(sin(c)),gl_FragColor=a;}",
c:["u39","u57"],precision:"highp"},{id:"s61",name:"_",b:"uniform sampler2D u39,u56,u42;uniform vec3 u47,u48;uniform float u58,u59;const vec4 e=vec4(.25,.25,.25,.25);const vec3 g=vec3(1.,1.,1.);const vec2 h=vec2(.5,.5);const vec3 i=vec3(1.,1.,.2);varying vec2 vv0;void main(){vec4 c=texture2D(u39,h);float d=step(vv0.x,.5),a=1.-d;vec4 j=texture2D(u56,vv0);float k=c.a;vec2 l=mix(vec2(.75,.75),vec2(0.,.75),a),m=mix(vec2(0.,.5),vec2(.25,.75),a),n=mix(vec2(.25,.5),vec2(.5,.75),a);float o=dot(e,texture2D(u42,l)),p=dot(e,texture2D(u42,m)),q=dot(e,texture2D(u42,n));vec3 r=mix(i,u47,a),b=r*vec3(o,p,q),s=c.rgb;b=mix(b,u48+b-s,a),b*=k/u59;vec4 t=mix(vec4(b,0.),j,vec4(u58*g,0.));gl_FragColor=t;}",
c:"u39 u56 u42 u58 u59 u47 u48".split(" "),precision:"highp"},{id:"s62",name:"_",b:"uniform sampler2D u56;uniform vec2 u61,u62;const vec4 h=vec4(.25,.25,.25,.25);varying vec2 vv0;void main(){float a=step(.5,vv0.x),c=mix(u61.x,u62.x,a),d=mix(u61.y,u62.y,a);vec3 b=texture2D(u56,vv0).rgb;float f=length(b),g=1.-smoothstep(c,d,f);gl_FragColor=vec4(b,g);}",c:["u56","u61","u62"],precision:"highp"},{id:"s63",name:"_",j:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",b:"uniform sampler2D u42;const vec4 g=vec4(1.,1.,1.,1.),h=vec4(0.,0.,0.,0.),e=vec4(.25,.25,.25,.25);const float f=3.1415;void main(){float a=dot(texture2D(u42,vec2(.25,.25)),e),b=dot(texture2D(u42,vec2(.5,.25)),e),c=f/2.*dot(texture2D(u42,vec2(.75,.25)),e),d=4.18*dot(texture2D(u42,vec2(0.,.25)),e);gl_FragColor=vec4(d,a,b,c);}",
c:["u42"]},{id:"s54",name:"_",b:"uniform sampler2D u1,u63;varying vec2 vv0;vec4 i(vec4 a,sampler2D g){mediump float b=a.b*63.;mediump vec2 c;c.y=floor(floor(b)/8.),c.x=floor(b)-c.y*8.;mediump vec2 d;d.y=floor(ceil(b)/8.),d.x=ceil(b)-d.y*8.;highp vec2 e;e.x=c.x*.125+9.765625e-4+.123047*a.r,e.y=c.y*.125+9.765625e-4+.123047*a.g;highp vec2 f;f.x=d.x*.125+9.765625e-4+.123047*a.r,f.y=d.y*.125+9.765625e-4+.123047*a.g;lowp vec4 j=texture2D(g,e),k=texture2D(g,f),l=mix(j,k,fract(b));return l;}void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=i(a,u63);}",
c:["u1","u63"]}]);p();I();wb.h({Zh:!1,ja:G});vb.h({Sf:0,n:H.Rc[1]-H.Rc[0]+1,ii:H.Rc[0]});R.set_videoRotation=function(M){Za.rotate=M;R.ready&&(cb.ng(Fa.element.videoWidth,Fa.element.videoHeight),cb.ug())};R.set_viewRotation=function(){};R.set_LUT=function(M){M?X.instance({url:M,isFloat:!1,isFlipY:!1,M:function(Z){L.Db=Z;pa.Nc()}}):(L.Db=null,pa.Nc())};R.resize=function(M,Z){function qa(){wb.stop();h.fb&&(clearTimeout(h.fb),h.fb=null);if(!h.Tb)if(H.width===za&&H.height===La)f();else if(P!==W.U&&P!==
W.Ja)h.fb=setTimeout(qa,H.Oi);else{var db="undefined"===typeof tb?!1:tb.get_mode(),kb=P;P=W.Aa;Q=h.Tb=!0;ja=function(){Q=!1;h.Tb=!1;u();n(H.ja);F&&clearTimeout(F);F=!1;P=kb};H.width=za;H.height=La;pa.Rh();pa.Sh();h.qj.forEach(function(ib){ib.resize(za,La)});ba.resize(Lb,Mb);pa.Nc();cb.ng(Fa.element.videoWidth?Fa.element.videoWidth:Fa.element.width,Fa.element.videoHeight?Fa.element.videoHeight:Fa.element.height);cb.ug();cb.oj();f();P===W.Ja&&(P=W.U,R.switch_viewer3D(!0,!1));db&&tb.switch_mode(db)}}
if(R.ready){h.fb&&(clearTimeout(h.fb),h.fb=null);wb.stop();var za=M*Xb.ld,La=Z*Xb.ld;h.fb=setTimeout(qa,H.Oi)}}},u:function(){wb.u();return new Promise(function(M){R.switch_sleep(!0,!0).finally(function(){k&&k.u();ba.u();eb.u();c&&(c=null);k=null;H.Lf=!1;bb=null;N=!0;S=1;aa=-1;P=W.U;A=null;B=W.U;Object.assign(Fa,Bc);Object.assign(H,Cc);M()}).catch(function(){})})},Sh:function(){ca.f("s55",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u39",value:1},{type:"2f",name:"u40",value:t},{type:"1f",name:"u41",
value:H.Vk}]);ca.f("s56",[{type:"1i",name:"u42",value:0},{type:"1i",name:"u39",value:1},{type:"1f",name:"u45",value:H.mo},{type:"1f",name:"u46",value:H.Wk},{type:"3f",name:"u44",value:[H.Sa[0]*t[0],H.Sa[1]*t[1],H.Sa[2]]}]);ca.f("s57",[{type:"1i",name:"u42",value:0},{type:"1i",name:"u39",value:1},{type:"2f",name:"u49",value:H.cn},{type:"3f",name:"u47",value:[-H.ya[0],-H.ya[1],H.ya[2]]},{type:"3f",name:"u48",value:H.sj}]);ca.f("s58",[{type:"1i",name:"u39",value:0},{type:"1i",name:"u50",value:1},{type:"2f",
name:"u51",value:H.ve},{type:"1f",name:"u52",value:H.sn},{type:"1f",name:"u53",value:H.bn}]);ca.f("s59",[{type:"1i",name:"u50",value:1},{type:"1i",name:"u55",value:0},{type:"1i",name:"u56",value:2}]);ca.f("s60",[{type:"1i",name:"u39",value:0},{type:"1f",name:"u57",value:H.wn}]);ca.f("s61",[{type:"1i",name:"u42",value:0},{type:"1i",name:"u39",value:1},{type:"1i",name:"u56",value:2},{type:"3f",name:"u47",value:[-H.ya[0],-H.ya[1],H.ya[2]]},{type:"3f",name:"u48",value:H.sj}]);ca.f("s62",[{type:"1i",name:"u56",
value:0},{type:"2f",name:"u61",value:H.no},{type:"2f",name:"u62",value:H.tn}]);ca.f("s63",[{type:"1i",name:"u42",value:0}]);ca.f("s54",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u63",value:1}])},Nc:function(){ta.Xi(z.Oc,null===L.Db?L.Bb:L.Qc,q.Kd,L.Fj)},Kl:function(){return Wa},cj:function(M){Wa=M},ce:function(){ob[0]=x[0]-Wa.offsetX;ob[1]=x[1]+Wa.offsetY;ob[2]=x[2];ta.Dn(e,ma.Ha,ob)},de:function(){ta.En(w*H.xb,ma.xb,Wa.scale)},Aj:function(){ta.Fn(O+ma.Hc)},to:function(){ta.Bn(H.wa+ma.wa,H.pa+
ma.pa)},vo:function(){ta.Cn((0===ma.ma[0]&&0===ma.ma[1]?H:ma).ma)},ee:function(){pa.ce();pa.de();pa.Aj();pa.to();pa.vo()},vn:function(){wb.stop();A&&(clearInterval(A),A=null);ka.isEnabled=!0;ka.ui=0;Ka=ta.Jl();Na=bb.Hh();la=bb.Fh();V=ma.xb;ia=ma.Ha;fa=ma.ma;xa=ma.wa;Ja=ma.pa;Q=!1;ta.Wd(!1)},rn:function(M){function Z(){2===++qa&&(ka.isEnabled=!1,ma.xb=V,ma.Ha=ia,ma.ma=fa,ma.wa=xa,ma.pa=Ja,pa.ee(),ta.sa(Ka),f(),M&&M())}var qa=0;P===W.ic?P=W.Ja:P===W.jc&&(P=W.U);ta.ab(P===W.U?0:1);bb.replace(Na,Z);bb.hg(la,
Z);pa.Nc();ta.Wd(!0)},oj:function(){var M=Math.tan(Fa.Ob/2);ta.Wi({Ye:H.Ye/M,xn:M,an:Fa.Fi,Ga:H.Ga,Rf:H.Rf,Ij:t,Qj:H.Io,wc:H.wc,qf:H.qf,mf:H.mf,pf:H.pf,ma:H.ma,we:H.we,Ke:H.Ke,ag:H.ag,ec:H.ec,ao:H.ij,bo:H.jj,Ud:H.Ud,fc:H.fc,cd:H.cd,Oe:H.Oe,Ne:H.Ne,Me:H.Me,Be:H.Be,Ae:H.Y+H.ua+H.Ae,wa:H.wa,pa:H.pa,kf:H.kf,Mg:H.Mg,Lg:H.Lg,je:H.je,Oo:H.No,ie:Fa.ie,Dd:H.Dd,Fm:Ca,Cd:H.Cd,Ed:H.Ed,Jf:H.Jf,Em:Pa,vg:H.vg})},Kk:function(){var M=Za.me,Z=Za.le,qa=1/Math.tan(Fa.Ob/2),za=eb.V()/eb.I();Fa.Fi=[qa,0,0,0,0,qa/za,0,
0,0,0,-(Z+M)/(Z-M),-1,0,0,-2*M*Z/(Z-M),0];Fa.ie=1/Math.tan(H.Lo*Math.PI/360)/qa},ng:function(M,Z){y=[.5,.5];M=Z/M;Z=eb.V()/eb.I();90===Math.abs(Za.rotate)&&(M=1/M);M>Z?y[1]*=Z/M:y[0]*=M/Z;v[0]=0;v[1]=0;v[2]=0;v[3]=0;switch(Za.rotate){case 0:v[0]=y[0];v[3]=y[1];break;case 180:v[0]=-y[0];v[3]=-y[1];break;case 90:v[1]=y[0];v[2]=-y[1];break;case -90:v[1]=-y[0],v[2]=y[1]}Fa.Ob=2*Math.atan(2*y[0]*Math.tan((1<M?Za.Lj:Za.FOVdesktop)*Math.PI/180/2));pa.Kk()},ug:function(){ca.f("s53",[{type:"1i",name:"u1",
value:0},{type:"mat2",name:"u38",value:v}])},uf:function(M,Z){h.Ea||pa.Rh();pa.fm(M,Z);pa.h();if(!pa.cm())return R.mb&&R.mb("GL_INCOMPATIBLE","Cannot init JEELIZVTO"),!1;pa.Ph();return!0},fm:function(M,Z){R.Fb=document.createElement("canvas");R.Eb=document.createElement("canvas");R.Eb.width=H.width;R.Eb.height=H.height;R.Rj=R.Eb.getContext("2d");R.replace_video=function(qa){Fa.element=qa;Fa.Bg.fa=Fa.element;return!0};R.oc=R.Fb.getContext("2d");R.capture_background=function(qa,za){qa="undefined"===
typeof qa?M:qa;za="undefined"===typeof za?Z:za;R.Fb.width=qa;R.Fb.height=za;var La=qa/za,db=0,kb=0;if(M/Z>La){var ib=Z*La;La=Z;db=Math.round((M-ib)/2)}else ib=M,La=M/La,kb=Math.round((Z-La)/2);R.oc.save();R.oc.translate(qa,0);R.oc.scale(-1,1);R.oc.drawImage(Fa.element,db,kb,ib,La,0,0,qa,za);R.oc.restore();qa=document.createElement("canvas");qa.width=R.Fb.width;qa.height=R.Fb.height;qa.getContext("2d").drawImage(R.Fb,0,0);return qa}},Ph:function(){window.CanvasListeners&&(tb.init({qa:eb.qb()}),R.init_listeners=
pa.Ph,R.add_listener=tb.add_listener,R.remove_listener=tb.remove_listener,R.animate_swipe=tb.animate_swipe,R.switch_modeInteractor=tb.switch_mode,R.get_modeInteractor=tb.get_mode,tb.add_listener("move",function(M,Z){P===W.U&&(H.Gm&&(Wa.offsetX-=Z[0]*H.mi,Wa.offsetX=Math.min(Math.max(Wa.offsetX,-H.Fd),H.Fd)),Wa.offsetY-=Z[1]*H.mi,Wa.offsetY=Math.min(Math.max(Wa.offsetY,-H.Fd),H.Fd),pa.ce())},!0).add_listener("pinch",function(M,Z){P===W.U&&(Wa.scale+=Z*H.Hm,Wa.scale=Math.min(Math.max(Wa.scale,H.ni[0]),
H.ni[1]),pa.de())},!0))},cm:function(){return ba.h({xd:!1,Ik:!1,expand:!1,qa:eb.qb(),Qb:eb,onload:function(){q.Cb=Yb.instance({Ib:H.Y+H.ua+$a.Go,qc:H.Y+H.ua+$a.Ho,pc:$a.Gj,rc:$a.Hj});H.Xb?(q.gb=Yb.instance({}),ua.kb.sa(q.gb)):q.gb=q.Cb;ta.sa(q.gb);H.Xb?q.Gd=Tc.instance({Cm:q.gb,Am:q.Cb}):q.Gd=q.Cb;b()}})},An:function(){R.load_model=function(M,Z,qa){if(R.isBusy)return!1;R.isBusy=!0;if(T.model)R.set_model(M,function(){R.set_materials(Z,function(){R.isBusy=!1;qa&&qa()})},function(){R.isBusy=!1});else{var za=
H.Y+H.ua+H.Nf+"/",La=Z.map(function(db){return za+db});T.model={url:H.Y+H.ua+H.Qf+"/"+M,Ec:La,Hb:!1,Gb:!1};pa.ji(T.model,function(){R.isBusy=!1;qa&&qa()})}return!0};R.set_offset=function(M){x=M;pa.ce()};R.set_scale=function(M){w=M;pa.de()};R.set_rx=function(M){O=M;pa.Aj()};R.switch_shadow=ta.tg;R.switch_bgBlur=ta.sg;R.set_zoom=ta.gg;R.is_viewer3D=function(){return P===W.Ja};R.switch_viewer3D=function(M,Z){if(P===W.ic||P===W.jc||P===W.U&&!M||P===W.Ja&&M||Q)return!1;if(P===W.Aa)return B!==W.Ja||M?B===
W.U&&M?(B=W.Ja,ta.sa(q.Cb),ta.ab(1),Z&&Z(),!0):!1:(B=W.U,ta.sa(q.gb),ta.ab(0),Z&&Z(),!0);var qa=0,za=-1,La=0;P===W.U?(P=W.ic,za=H.Mo):P===W.Ja&&(P=W.jc,za=H.Po);var db=Date.now();A=setInterval(function(){var kb=Date.now();qa+=(kb-db)/za;1<=qa&&(qa=1,P===W.ic?(P=W.Ja,ta.sa(q.Cb)):(P=W.U,ta.sa(q.gb)),Z&&Z(),clearInterval(A),A=null);var ib=0;P===W.jc||P===W.U?ib=1-H.Ko(qa):ib=H.Jo(qa);ta.ab(ib);P!==W.jc&&P!==W.ic||0!==La++%2||(ta.sa(q.Gd),q.Gd.Vn(ib));db=kb},.016);return!0};R.capture_image=function(M,
Z,qa,za){ea=M;Q=!0;"undefined"===typeof isAllocate&&(qa=!1);(za="undefined"===typeof za?!1:za)&&ta.Wd(!1);g();ja=function(){ta.Ki(0);c.flush();var La=eb.Ch(qa);Z(La);za&&ta.Wd(!0)}};R.capture_detection=function(M,Z){ea=M;Q=!0;var qa=null===L.Db?L.Bb:L.Qc;ja=function(){var za=Dc.instance({Le:z.Oc.clone(),ri:bb.Hh(),pi:bb.Fh(),background:qa.clone(),Za:ua.kb.Wl().clone(),Mf:Wa});Z(za)}};R.process_offlineRendering=function(M,Z,qa,za,La){function db(){if(2===++kb){ka.Za||(ka.Za=Yb.instance({}));M.Eh()&&
(ka.Za.bj(M.Eh()),ta.sa(ka.Za));ka.Pe.set();f();ka.Pe=!1;pa.rn(za?function(){eb.qb().parentNode.removeChild(R.Eb)}:!1);var ib=eb.Ch(!1);setTimeout(function(){La(ib)},1)}}pa.vn();za&&(R.Rj.drawImage(eb.qb(),0,0),eb.qb().parentNode.insertBefore(R.Eb,eb.qb()),R.Eb.setAttribute("class","jeefitMask"));ka.Pe=M;var kb=0;R.set_model(Z,function(){db();R.set_materials(qa,function(){setTimeout(db,1)})})};R.serialize_detection=function(M){return M.Ic()};R.unserialize_detection=function(M,Z,qa){return Dc.Pc(M,
Z,qa)};R.do_instantDetection=function(M,Z){Ec.h(z.Oc);Ec.start(M,Z)};R.relieve_DOM=function(M,Z){if(h.Tb)return!1;n(Z||160);N=!1;F&&clearTimeout(F);F=setTimeout(function(){n(H.ja);F=!1;u()},M);return!0};R.switch_slow=function(M,Z){if(h.Tb)return!1;"undefined"===typeof Z&&(Z=H.Xj);F&&(n(H.ja),u(),clearTimeout(F),F=!1);M?N=!1:u();n(M?Z:H.ja);return!0};R.switch_deepSleep=function(M){if(C===M)return!1;C=!1;R.switch_sleep(M);C=M;return!0};R.switch_sleep=function(M,Z){function qa(){R.isBusy=!1;M?(B=P,P=
W.Aa):(P=B,f())}if(h.Tb||C||R.isBusy)return Z?Promise.reject():null;if(M&&P===W.Aa||!M&&P!==W.Aa)return Z?Promise.resolve(!1):!1;A&&(clearInterval(A),A=null);P===W.jc?(P=W.U,ta.sa(q.gb),ta.ab(0)):P===W.ic&&(P=W.Ja,ta.sa(q.Cb),ta.ab(1));wb.stop();var za=null;R.isBusy=!0;Z?za=hc(!M).then(qa):qa();return Z?za:!0};R.set_modelStandalone=function(M,Z){ta.Xd(!1);pc.instance({url:M.model,Ec:M.materials,Hb:!1,Gb:!1,M:function(qa){ma.Ha=[0,0,0];ma.xb=1;ma.Hc=0;ma.wa=H.wa;ma.pa=H.pa;ma.ma=H.ma;R.ready&&pa.ee();
Z&&Z();d(qa);pa.qg();ta.Xd(!0)}})};R.start_rendering=pa.qg;R.update_material=function(M,Z){bb&&bb.wo(M,Z)};R.set_model=function(M,Z,qa){bb&&bb.replace("http"===M.substring(0,4).toLowerCase()?M:H.Y+H.ua+H.Qf+"/"+M,function(){Z&&Z(bb.Mk())},qa)};R.set_tweaker=function(M,Z){function qa(za){R.Sg(za);Z&&Z()}"string"===typeof M?Ia(H.Y+H.ua+H.oo+"/"+M,qa):qa(M)};R.Sg=function(M){M&&(M.preOffset&&(ma.Ha=M.preOffset),M.preScale&&(ma.xb=M.preScale),M.rx&&(ma.Hc=M.rx),M.beginBendZ&&(ma.wa=M.beginBendZ),M.bendStrength&&
(ma.pa=M.bendStrength),M.maskBranchStartEnd&&(ma.ma=M.maskBranchStartEnd),R.ready&&pa.ee())};R.set_materials=function(M,Z){if(bb){var qa=H.Y+H.ua+H.Nf+"/";M=M.map(function(za){var La=za;"string"===typeof za&&(La=qa+za,La=La.replace(/([^:])\/\//,"$1/"));return La});bb.hg(M,Z)}}},qg:function(){J||(pa.Nc(),H.Xb&&(ya.reset(),ua.kb.Bk(Fa.ha),ua.kb.Ak()),R.ready=!0,l=0,f(),K=0,J=!0,ba.Gg(Xb.sl),pa.ee(),ta.io(),R.Uc.forEach(function(M){M()}),R.Uc.splice(0))},ji:function(M,Z){M=pc.instance({M:function(){pa.qg();
Z&&Z()},url:M.url,Ec:M.Ec,Hb:M.Hb,Gb:M.Gb});d(M)},lo:function(){if(H.Xb){var M=Object.assign({},$a,{$b:H.Y+H.ua+$a.$b});ua.kb.ig(M)}}};return pa}function Nb(a){return 3===arguments.length?this.ob(arguments):this.set(a)}function Fc(a,b){b=Math.floor(b);a.r=(b>>16&255)/255;a.ba=(b>>8&255)/255;a.J=(b&255)/255}function Uc(a,b){function f(g){void 0!==g&&1>parseFloat(g)&&console.warn("JETHREE.Color: Alpha component of "+b+" will be ignored.")}var d;if(d=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(b)){var n=
d[2];switch(d[1]){case "rgb":case "rgba":if(d=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n)){a.r=Math.min(255,parseInt(d[1],10))/255;a.ba=Math.min(255,parseInt(d[2],10))/255;a.J=Math.min(255,parseInt(d[3],10))/255;f(d[5]);return}if(d=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n)){a.r=Math.min(100,parseInt(d[1],10))/100;a.ba=Math.min(100,parseInt(d[2],10))/100;a.J=Math.min(100,parseInt(d[3],10))/100;f(d[5]);return}break;case "hsl":case "hsla":if(d=
/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n)){n=parseFloat(d[1])/360;var m=parseInt(d[2],10)/100,u=parseInt(d[3],10)/100;f(d[5]);a.zn(n,m,u);return}}}else if(d=/^#([A-Fa-f0-9]+)$/.exec(b)){d=d[1];n=d.length;if(3===n){a.r=parseInt(d.charAt(0)+d.charAt(0),16)/255;a.ba=parseInt(d.charAt(1)+d.charAt(1),16)/255;a.J=parseInt(d.charAt(2)+d.charAt(2),16)/255;return}if(6===n){a.r=parseInt(d.charAt(0)+d.charAt(1),16)/255;a.ba=parseInt(d.charAt(2)+d.charAt(3),16)/255;
a.J=parseInt(d.charAt(4)+d.charAt(5),16)/255;return}}b&&0<b.length&&(d=Vc[b],void 0!==d?Fc(a,d):console.warn("JETHREE.Color: Unknown color "+b))}function Zb(a,b,f,d){this.m=a||0;this.o=b||0;this.s=f||0;this.G=void 0!==d?d:1}function Ob(a,b){this.x=a||0;this.y=b||0}function Qa(a,b,f){this.x=a||0;this.y=b||0;this.z=f||0}function Gc(a,b){var f=a.x,d=a.y,n=a.z;a.x=d*b.z-n*b.y;a.y=n*b.x-f*b.z;a.z=f*b.y-d*b.x}function Fb(a,b,f,d){this.m=a||0;this.o=b||0;this.s=f||0;this.Ta=d||Fb.T}function qc(a,b){this.min=
void 0!==a?a:new Qa(Infinity,Infinity,Infinity);this.max=void 0!==b?b:new Qa(-Infinity,-Infinity,-Infinity)}function ic(a){return(new Qa).Vc(a.min,a.max).Fa(.5)}function Wc(a,b){a.min.min(b);a.max.max(b)}function Pb(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);0<arguments.length&&console.error("JETHREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function rc(a,b,f,d,n,m){this.Ba=a;this.J=b;this.Ca=f;this.Pa=d instanceof Qa?d:new Qa;this.he=Array.isArray(d)?
d:[];this.color=n instanceof Nb?n:new Nb;this.Jg=Array.isArray(n)?n:[];this.Yb=void 0!==m?m:0}function Xc(a,b,f){var d=new XMLHttpRequest;d.open("GET",a,!0);var n=d.withCredentials=!1;d.onreadystatechange=function(){404!==d.status||n||(n=!0,f&&f(404));if(4===d.readyState&&200===d.status){var m=null;try{m=JSON.parse(d.responseText)}catch(u){f&&f(-1)}b&&m&&b(m)}};d.onerror=function(){f&&f(0)};d.send()}function sc(a,b,f){"object"===typeof a?b(a):Xc(a,b,f)}function Yc(a,b){for(var f=new Qa,d=new Qa,n=
0,m=b.length;n<m;n++){var u=b[n],g=a[u.Ba],r=a[u.J];f.eb(a[u.Ca],r);d.eb(g,r);Gc(f,d);0!==f.Bf()&&(f.normalize(),u.Pa.B(f))}}function Zc(a,b){for(var f=Array(a.length),d=0,n=a.length;d<n;++d)f[d]=new Qa;d=new Qa;n=new Qa;for(var m=0,u=b.length;m<u;++m){var g=b[m],r=a[g.Ba],p=a[g.J];d.eb(a[g.Ca],p);n.eb(r,p);Gc(d,n);f[g.Ba].add(d);f[g.J].add(d);f[g.Ca].add(d)}d=0;for(a=a.length;d<a;++d)f[d].normalize();a=0;for(d=b.length;a<d;++a)n=b[a],m=n.he,3===m.length?(m[0].B(f[n.Ba]),m[1].B(f[n.J]),m[2].B(f[n.Ca])):
(m[0]=f[n.Ba].clone(),m[1]=f[n.J].clone(),m[2]=f[n.Ca].clone());return f}function $c(a,b,f,d){function n(O){x.B(b[O]);w.B(x);var L=g[O];F.B(L);F.sub(x.Fa(x.ed(L))).normalize();var z=w.x,l=w.y,q=w.z,K=L.x,J=L.y;L=L.z;k.x=l*L-q*J;k.y=q*K-z*L;k.z=z*J-l*K;z=0>k.ed(r[O])?-1:1;u[4*O]=F.x;u[4*O+1]=F.y;u[4*O+2]=F.z;u[4*O+3]=z}for(var m=a.length,u=new Float32Array(4*m),g=Array(m),r=Array(m),p=0;p<m;p++)g[p]=new Qa,r[p]=new Qa;var D=new Qa,I=new Qa,t=new Qa,y=new Ob,v=new Ob,h=new Ob,e=new Qa,G=new Qa;d.forEach(function(O){var L=
O.Ba,z=O.J;O=O.Ca;D.B(a[L]);I.B(a[z]);t.B(a[O]);y.B(f[L]);v.B(f[z]);h.B(f[O]);var l=I.x-D.x,q=t.x-D.x,K=I.y-D.y,J=t.y-D.y,N=I.z-D.z,S=t.z-D.z,aa=v.x-y.x,W=h.x-y.x,P=v.y-y.y,A=h.y-y.y,B=1/(aa*A-W*P);e.set((A*l-P*q)*B,(A*K-P*J)*B,(A*N-P*S)*B);G.set((aa*q-W*l)*B,(aa*J-W*K)*B,(aa*S-W*N)*B);g[L].add(e);g[z].add(e);g[O].add(e);r[L].add(G);r[z].add(G);r[O].add(G)});var F=new Qa,k=new Qa,x=new Qa,w=new Qa;d.forEach(function(O){n(O.Ba);n(O.J);n(O.Ca)});return u}function Hc(a,b,f,d){return Math.sqrt((a-f)*
(a-f)+(b-d)*(b-d))}var Nc="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,f){if(a==Array.prototype||a==Object.prototype)return a;a[b]=f.value;return a},xc=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var f=a[b];if(f&&f.Math==Math)return f}throw Error("Cannot find global object");}(this);U("Promise",function(a){function b(u){this.Da=0;this.Cc=
void 0;this.T=[];var g=this.tb();try{u(g.resolve,g.reject)}catch(r){g.reject(r)}}function f(){this.T=null}function d(u){return u instanceof b?u:new b(function(g){g(u)})}if(a)return a;f.prototype.Da=function(u){if(null==this.T){this.T=[];var g=this;this.tb(function(){g.Cc()})}this.T.push(u)};var n=xc.setTimeout;f.prototype.tb=function(u){n(u,0)};f.prototype.Cc=function(){for(;this.T&&this.T.length;){var u=this.T;this.T=[];for(var g=0;g<u.length;++g){var r=u[g];u[g]=null;try{r()}catch(p){this.Bc(p)}}}this.T=
null};f.prototype.Bc=function(u){this.tb(function(){throw u;})};b.prototype.tb=function(){function u(p){return function(D){r||(r=!0,p.call(g,D))}}var g=this,r=!1;return{resolve:u(this.Do),reject:u(this.Bc)}};b.prototype.Do=function(u){if(u===this)this.Bc(new TypeError("A Promise cannot resolve to itself"));else if(u instanceof b)this.Jj(u);else{a:switch(typeof u){case "object":var g=null!=u;break a;case "function":g=!0;break a;default:g=!1}g?this.po(u):this.ki(u)}};b.prototype.po=function(u){var g=
void 0;try{g=u.then}catch(r){this.Bc(r);return}"function"==typeof g?this.Kj(g,u):this.ki(u)};b.prototype.Bc=function(u){this.xi(2,u)};b.prototype.ki=function(u){this.xi(1,u)};b.prototype.xi=function(u,g){if(0!=this.Da)throw Error("Cannot settle("+u+", "+g+"): Promise already settled in state"+this.Da);this.Da=u;this.Cc=g;this.un()};b.prototype.un=function(){if(null!=this.T){for(var u=0;u<this.T.length;++u)m.Da(this.T[u]);this.T=null}};var m=new f;b.prototype.Jj=function(u){var g=this.tb();u.ad(g.resolve,
g.reject)};b.prototype.Kj=function(u,g){var r=this.tb();try{u.call(g,r.resolve,r.reject)}catch(p){r.reject(p)}};b.prototype.then=function(u,g){function r(t,y){return"function"==typeof t?function(v){try{p(t(v))}catch(h){D(h)}}:y}var p,D,I=new b(function(t,y){p=t;D=y});this.ad(r(u,p),r(g,D));return I};b.prototype.catch=function(u){return this.then(void 0,u)};b.prototype.ad=function(u,g){function r(){switch(p.Da){case 1:u(p.Cc);break;case 2:g(p.Cc);break;default:throw Error("Unexpected state: "+p.Da);
}}var p=this;null==this.T?m.Da(r):this.T.push(r)};b.resolve=d;b.reject=function(u){return new b(function(g,r){r(u)})};b.race=function(u){return new b(function(g,r){for(var p=Oa(u),D=p.next();!D.done;D=p.next())d(D.value).ad(g,r)})};b.all=function(u){var g=Oa(u),r=g.next();return r.done?d([]):new b(function(p,D){function I(v){return function(h){t[v]=h;y--;0==y&&p(t)}}var t=[],y=0;do t.push(void 0),y++,d(r.value).ad(I(t.length-1),D),r=g.next();while(!r.done)})};return b});U("Math.log2",function(a){return a?
a:function(b){return Math.log(b)/Math.LN2}});var ad="function"==typeof Object.assign?Object.assign:function(a,b){for(var f=1;f<arguments.length;f++){var d=arguments[f];if(d)for(var n in d)Object.prototype.hasOwnProperty.call(d,n)&&(a[n]=d[n])}return a};U("Object.assign",function(a){return a||ad});U("Promise.prototype.finally",function(a){return a?a:function(b){return this.then(function(f){return Promise.resolve(b()).then(function(){return f})},function(f){return Promise.resolve(b()).then(function(){throw f;
})})}});U("Math.sign",function(a){return a?a:function(b){b=Number(b);return 0===b||isNaN(b)?b:0<b?1:-1}});var T={hh:!0,lp:!1,mp:!1,Uk:!1,gh:!1,kp:!1,Oa:!1,dn:!1,xd:!1,Rp:!1,Y:"",Km:"",rk:700,qk:200,ih:!1,zo:!1,Ao:!1,yo:!1,Yj:3,Mb:!1,Tg:!0,Ib:"images/backgrounds/interior2.jpg",qc:"images/backgrounds/interior_light.jpg",tk:[256,256,512,512],pc:2.1,rc:8,sk:[64,128,256,256],im:[60,96,160,250],hm:[8,12,18,40],Zb:2.2,Ld:1,Ce:300,Xg:500,De:50,Ck:0,Dk:0,ap:45,cp:1,bp:1E3,Yg:20,Qo:10,Ro:10,So:5,Ym:.1,zi:20,
Ci:100,Di:100,Xm:-Math.PI/3,Wm:Math.PI/3,Bi:0,rj:0,ol:[40,32,16,16],Wj:[0,.87,.92,.9],Tm:2,Om:100,$:!1,Zj:16,$j:.4,bk:[.72,.73,.72,.74],lk:1.2,ik:[.5,.5,.5,1],nk:140,mk:280,pk:1.2,ck:20,dk:40,kk:[6,9,9,12],hk:[.03,.02,.02,.018],gk:[.35,.35,.4,.5],ek:[.2,.2,.2,.2],ak:[.1,.15,.15,.15],jk:[200,200,150,120],fk:[1,2,3,5],co:1.1,iq:[.25,.5,1,2],jq:256,hq:256,gq:200,eo:[40,80,200,500],fo:[35,45,80,120],Ok:!0,Pk:"CCW"},Ic={},ca=function(){function a(z,l,q){l=z.createShader(l);z.shaderSource(l,q);z.compileShader(l);
return z.getShaderParameter(l,z.COMPILE_STATUS)?l:!1}function b(z,l,q){l=a(z,z.VERTEX_SHADER,l);q=a(z,z.FRAGMENT_SHADER,q);z===c&&g.push(l,q);var K=z.createProgram();z.attachShader(K,l);z.attachShader(K,q);z.linkProgram(K);return K}function f(z){return["float","sampler2D","int"].map(function(l){return"precision "+z+" "+l+";\n"}).join("")}function d(z,l){l.Z=l.Z?!0:!1;if(!l.Z){void 0===l.j&&(l.j="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");
void 0===l.D&&(l.D=["a0"]);void 0===l.L&&(l.L=[2]);if(void 0===l.precision||"highp"===l.precision)l.precision=t;l.id=D++;void 0!==l.Si&&(l.Si.forEach(function(N,S){l.b=l.b.replace(N,l.Ia[S])}),l.Si.splice(0));l.Kg=0;l.L.forEach(function(N){l.Kg+=4*N});var q=f(l.precision)+l.j,K=f(l.precision)+l.b;l.na=b(z,q,K);l.v={};l.c.forEach(function(N){l.v[N]=z.getUniformLocation(l.na,N)});l.attributes={};l.va=[];l.D.forEach(function(N){var S=z.getAttribLocation(l.na,N);l.attributes[N]=S;l.va.push(S)});if(l.l){z.useProgram(l.na);
p=l;r=l.id;for(var J in l.l)z.uniform1i(l.v[J],l.l[J])}l.Ea=!0}}function n(z){pb.fj(L);r!==z.id&&(L.F(),r=z.id,p=z,c.useProgram(z.na),z.va.forEach(function(l){0!==l&&c.enableVertexAttribArray(l)}))}function m(z,l,q){d(z,l,q);z.useProgram(l.na);z.enableVertexAttribArray(0);r=-1;return p=l}function u(){return{b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:["u1"],l:{u1:0}}}var g=[],r=-1,p=null,D=0,I=!1,t="highp",y=["u1"],v=["u0"],h={u1:0},e={u0:0},G={u1:0,u2:1},
F={u3:0},k={s0:u(),s1:{b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:y,l:h,precision:"lowp"},s2:{b:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",c:["u1","u2"],l:G},s3:{b:"uniform sampler2D u1;uniform vec2 u4,u5;varying vec2 vv0;void main(){vec2 a=vv0*u4+u5;gl_FragColor=texture2D(u1,a);}",c:["u1","u4","u5"],l:h,Z:!0},s4:{b:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",
c:y,l:h},s5:{b:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",c:["u1","u2"],l:G},s6:{b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",c:y,l:h},s7:{b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",c:y,l:h},s8:{b:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u4;}",
c:["u0","u4"],l:e},s9:{b:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;const vec4 f=vec4(.25,.25,.25,.25),g=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u4,f);gl_FragColor=b*g;}",c:["u0","u4"],l:e},s10:{b:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",c:y,l:h},s11:{b:"uniform sampler2D u1,u6;uniform float u7;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u6,vv0);gl_FragColor=mix(b,a,u7*f);}",
c:["u1","u6","u7"],l:{u1:0,u6:1}},s12:{b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u8)+texture2D(u1,vv0+u8*vec2(1.,-1.))+texture2D(u1,vv0+u8*vec2(-1.,-1.))+texture2D(u1,vv0+u8*vec2(-1.,1.)));}",c:["u1","u8"],l:h},s13:{b:"uniform sampler2D u1;uniform vec4 u9;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 j(float a){if(a==0.)return vec4(0.,0.,0.,0.);float k=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),l=c+127.,b=(a/exp2(c)-1.)*8388608.,d=l/2.,m=fract(d)*2.,n=floor(d),o=e(b,0.,8.),p=e(b,8.,16.),q=m*128.+e(b,16.,23.),r=k+n;return vec4(o,p,q,r)/255.;}void main(){float a=dot(texture2D(u1,vv0),u9);gl_FragColor=j(a);}",
c:["u1","u9"],l:h},s14:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",c:v,l:e,Z:!0},s15:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(f,a);}",c:v,l:e},s16:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-f,a,step(0.,a));}",c:v,l:e},
s17:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(-abs(a))-f;gl_FragColor=mix(.1*b,a,step(0.,a));}",c:v,l:e},s18:{b:"uniform sampler2D u0,u7,u10;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),c=texture2D(u7,vv0),d=texture2D(u10,vv0),b=a/d;gl_FragColor=c*mix(exp(-abs(b))-f,b,step(0.,a));}",c:["u0","u7","u10"],l:{u0:0,u7:1,u10:2},Z:!0},s19:{b:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",
c:v,l:e},s20:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=log(f+a);gl_FragColor=b;}",c:v,l:e,Z:!0},s21:{b:"uniform sampler2D u0,u11;uniform float u12;const vec2 e=vec2(.5,.5);const float f=1e-5;const vec4 g=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u11,e);float b=u12*u12;vec4 c=max(b*a,f*g);gl_FragColor=texture2D(u0,vv0)/c;}",c:["u0","u11","u12"],l:{u0:0,u11:1},Z:!0},s22:{b:"uniform sampler2D u1;uniform vec2 u13;varying vec2 vv0;void main(){float a=u13.x*u13.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u13.y),f=floor(u13.x*fract(b*u13.y)),g=(f*u13.y+d)/a;gl_FragColor=texture2D(u1,g+c/a);}",
c:["u1","u13"],l:h},s23:{b:"uniform sampler2D u14,u15,u16;varying vec2 vv0;void main(){vec4 a=texture2D(u16,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u14,b),f=texture2D(u15,c);gl_FragColor=d*f;}",c:["u14","u15","u16"],l:{u15:0,u14:1,u16:2},Z:!0},s24:{b:"uniform float u17;uniform sampler2D u14,u15;varying vec2 vv0;void main(){vec2 a=fract(vv0*u17);vec4 b=texture2D(u14,vv0),c=texture2D(u15,a);gl_FragColor=b*c;}",c:["u15","u14","u17"],l:{u15:0,u14:1}},s25:{b:"uniform float u17;uniform sampler2D u14,u15,u18,u19,u20,u21;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 h=vv0*u17,l=floor(h),c=h-l;vec4 m=texture2D(u14,vv0),d=texture2D(u15,c),a=texture2D(u21,vv0);a=a*255.;vec4 n=texture2D(u18,c),o=texture2D(u19,c),p=texture2D(u20,c),i=step(-g,-a),b=e-i,j=b*step(-e-g,-a);b*=e-j;vec4 k=b*step(-2.*e-g,-a);b*=e-k;vec4 q=b;d=i*d+j*n+k*o+q*p,gl_FragColor=m*d;}",
c:"u14 u15 u17 u21 u18 u19 u20".split(" "),l:{u15:0,u14:1,u21:3,u18:4,u19:5,u20:6},Z:!0},s26:{b:"uniform sampler2D u14,u15,u22;uniform float u17,u23,u24,u25;varying vec2 vv0;const vec2 j=vec2(1.,1.);void main(){vec2 a=floor(u23*vv0),b=u23*vv0-a;float c=u17/u23;vec2 d=floor(b*c),f=b*c-d,g=(a+f)/u23;float k=u23*u25/u17;vec2 l=k*d,h=(l+f*u24)/u25,i=step(h,j);vec4 m=texture2D(u14,g),n=texture2D(u15,h),o=m*n*i.x*i.y,p=texture2D(u22,g);gl_FragColor=o*u24*u24+p;}",c:"u14 u15 u17 u23 u24 u25 u22".split(" "),
l:{u15:0,u14:1,u22:2}},s27:{b:"uniform sampler2D u14,u15;varying vec2 vv0;void main(){vec4 a=texture2D(u14,vv0),b=texture2D(u15,vv0);gl_FragColor=a*b;}",c:["u14","u15"],l:{u15:0,u14:1},Z:!0},s28:{b:"uniform sampler2D u1,u22;uniform float u26;varying vec2 vv0;void main(){gl_FragColor=texture2D(u22,vv0)+u26*texture2D(u1,vv0);}",c:["u1","u22","u26"],l:{u1:0,u22:1}},s29:{b:"varying vec2 vv0;uniform sampler2D u1;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,g)*f;}",
c:y,l:h,precision:"lowp"},s30:{b:"varying vec2 vv0;uniform sampler2D u1;uniform float u27;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u27)).rgb,c=texture2D(u1,vv0+vec2(u27,u27)).rgb,d=texture2D(u1,vv0+vec2(u27,0.)).rgb;gl_FragColor=vec4(dot(a,f),dot(b,f),dot(c,f),dot(d,f));}",c:["u1","u27"],l:h,precision:"lowp"},s31:{b:"varying vec2 vv0;uniform sampler2D u1;uniform float u27;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u27)).rgb,c=texture2D(u1,vv0+vec2(u27,u27)).rgb,d=texture2D(u1,vv0+vec2(u27,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",
c:["u1","u27"],l:h,precision:"lowp"},s32:{b:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u28;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u28,vv0.y-u28))*1.,a-=texture2D(u1,vec2(vv0.x-u28,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u28,vv0.y+u28))*1.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y-u28))*1.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y+u28))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u28,vv0.y-u28))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u28))*2.,b-=texture2D(u1,vec2(vv0.x+u28,vv0.y-u28))*1.,b+=texture2D(u1,vec2(vv0.x-u28,vv0.y+u28))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u28))*2.,b+=texture2D(u1,vec2(vv0.x+u28,vv0.y+u28))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),g=texture2D(u2,vv0);gl_FragColor=g.a*e.r*f;}",
c:["u1","u2","u28"],l:G,Z:!0},s33:{b:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u28;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float h=0.;vec2 l=k*u28,a,b;float c,d,i=0.;for(float e=-4.;e<=4.;e+=1.)for(float f=-4.;f<=4.;f+=1.)a=vec2(e,f),c=length(a)/2.,d=exp(-c*c),b=vv0+l*a,h+=d*texture2D(u1,b).r,i+=d;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,b).r-h/i)*j;}",c:["u1","u2","u28"],l:G,Z:!0},s34:{b:"uniform sampler2D u3;uniform vec2 u8;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 g=vec2(.5,.5),h=vec2(1.,0.),i=vec2(0.,1.);void main(){vec2 a=vv0-u8*g;vec4 b=texture2D(u3,a),c=texture2D(u3,a+u8*h),d=texture2D(u3,a+u8*i),j=texture2D(u3,a+u8),k=e(b,c),l=e(d,j);gl_FragColor=e(k,l);}",
c:["u3","u8"],l:F},s35:{b:"uniform sampler2D u3;uniform vec2 u8;varying vec2 vv0;const vec2 k=vec2(1.,0.),l=vec2(0.,1.),m=vec2(2.,0.),n=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u3,a),c=texture2D(u3,a+u8*k),d=texture2D(u3,a+u8*l),g=texture2D(u3,a+u8),h=e(b,c),i=e(d,g);return e(h,i);}void main(){vec2 a=vv0+u8*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u8*m),d=f(a+u8*2.),g=f(a+u8*n),h=e(b,c),i=e(d,g);gl_FragColor=e(h,i);}",c:["u3","u8"],l:F,Z:!0},
s36:{b:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",c:["u1"],l:h,precision:"lowp",Z:!0},s37:{b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;const float e=15444.;void main(){vec4 a=1001./e*texture2D(u1,vv0-3.*u8)+2002./e*texture2D(u1,vv0-2.*u8)+3003./e*texture2D(u1,vv0-u8)+3432./e*texture2D(u1,vv0)+3003./e*texture2D(u1,vv0+u8)+2002./e*texture2D(u1,vv0+2.*u8)+1001./e*texture2D(u1,vv0+3.*u8);gl_FragColor=a;}",c:["u8","u1"],l:h,precision:"lowp",
Z:!0},s38:{b:"uniform sampler2D u1,u11,u29;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);const float g=.1;void main(){vec4 a=texture2D(u11,vv0),b=texture2D(u29,vv0),c=texture2D(u1,vv0),d=max(f*g,b-a*a),h=sqrt(d);gl_FragColor=(c-a)/h;}",c:["u1","u11","u29"],l:{u1:0,u11:1,u29:2},Z:!0}},x={s39:{b:"uniform float u17,u30;uniform sampler2D u14,u15,u22;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-5,1e-5);void main(){vec4 sum=texture2D(u22,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u17,xyTo=floor(vv0*u17+eps2);float weightSize=toSparsity*u17;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u30*(xyPatch-halfFromSparsity))/u17,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u14,uvWeight)*texture2D(u15,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",
c:["u17","u14","u15","u22","u30"],Ia:["1.1111","gl_FragColor\\*=2.2222;"]},s40:{b:"uniform float u17,u30,u25;uniform sampler2D u14,u15,u22;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u22,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u25,xyTo=floor(vv0*u17+eps2);float weightSize=fromSparsity*u25;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u17;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u30*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u25,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u14,uvWeight)*texture2D(u15,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",
c:"u17 u25 u14 u15 u22 u30".split(" "),Ia:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},w=null,O=null,L={Wb:function(){return I},h:function(){if(!I){w=hb(k,2);O=hb(x,2);t="highp";for(var z in w)d(c,w[z],z);ca.set("s0");c.enableVertexAttribArray(0);I=!0}},te:function(z){z.forEach(function(l){L.oa(l)})},oa:function(z){w[z.id]=z;d(c,z,z.id)},Qh:function(z,l,q){l||(l=z);w[l]=Object.create(O[z]);w[l].om=!0;O[z].Ia&&O[z].Ia.forEach(function(K,J){w[l].b=w[l].b.replace(new RegExp(K,"g"),q[J])});d(c,w[l],
l)},set:function(z){var l=w[z];l.Z&&(l.Z=!1,d(c,l,z));n(l)},yb:function(z){return m(z,u(),"s41")},Qd:function(z){return m(z,{b:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",c:[],precision:"highp"},"s42")},rl:function(z){return"undefined"===typeof w[z]?!1:w[z].Ea},F:function(){-1!==r&&(r=-1,p.va.forEach(function(z){0!==z&&c.disableVertexAttribArray(z)}))},Sd:function(){var z=0;p.va.forEach(function(l,q){q=p.L[q];c.vertexAttribPointer(l,q,c.FLOAT,!1,p.Kg,z);z+=4*q})},pp:function(){c.enableVertexAttribArray(0)},
Lc:function(){L.cc(c)},cc:function(z){z.vertexAttribPointer(p.va[0],2,z.FLOAT,!1,8,0)},Rd:function(z,l){c.uniform1i(p.v[z],l)},C:function(z,l){c.uniform1f(p.v[z],l)},K:function(z,l,q){c.uniform2f(p.v[z],l,q)},gj:function(z,l){c.uniform2fv(p.v[z],l)},mg:function(z,l){c.uniform3fv(p.v[z],l)},lg:function(z,l,q,K){c.uniform3f(p.v[z],l,q,K)},Xn:function(z,l,q,K,J){c.uniform4f(p.v[z],l,q,K,J)},za:function(z,l){c.uniform4fv(p.v[z],l)},Yn:function(z,l){c.uniformMatrix2fv(p.v[z],!1,l)},Zn:function(z,l){c.uniformMatrix3fv(p.v[z],
!1,l)},Kc:function(z,l){c.uniformMatrix4fv(p.v[z],!1,l)},f:function(z,l){L.set(z);l.forEach(function(q){switch(q.type){case "4f":c.uniform4fv(p.v[q.name],q.value);break;case "3f":c.uniform3fv(p.v[q.name],q.value);break;case "2f":c.uniform2fv(p.v[q.name],q.value);break;case "1f":c.uniform1f(p.v[q.name],q.value);break;case "1i":c.uniform1i(p.v[q.name],q.value);break;case "mat2":c.uniformMatrix2fv(p.v[q.name],!1,q.value);break;case "mat3":c.uniformMatrix3fv(p.v[q.name],!1,q.value);break;case "mat4":c.uniformMatrix4fv(p.v[q.name],
!1,q.value)}})},Ap:function(){return"lowp"},u:function(){c.disableVertexAttribArray(0);L.F();for(var z in w){var l=w[z];l.Ea&&(l.Ea=!1,c.deleteProgram(l.na));l.om&&delete w[z]}g.forEach(function(q){c.deleteShader(q)});g.splice(0);D=0;I=!1;p=null;r=-1}};return L}(),c=null,eb=function(){function a(t){console.log("ERROR in ContextFF: ",t);return!1}function b(t){function y(){Ab.u();Aa.reset();h.getExtension("WEBGL_lose_context").loseContext()}if(navigator.userAgent&&-1!==navigator.userAgent.indexOf("forceWebGL1"))return!1;
var v=document.createElement("canvas");v.setAttribute("width",5);v.setAttribute("height",5);var h=null;try{h=v.getContext("webgl2",t)}catch(e){return!1}if(!h)return!1;f(h);Aa.qh(h);t=Aa.Qe(h);if(!t.Va&&!t.Xa)return y(),!1;t=Ab.Zg(h,t);y();return t?!0:!1}function f(t){t.clearColor(0,0,0,0);t.disable(t.DEPTH_TEST);t.disable(t.BLEND);t.disable(t.DITHER);t.disable(t.STENCIL_TEST);t.disable(t.CULL_FACE);t.GENERATE_MIPMAP_HINT&&t.hint(t.GENERATE_MIPMAP_HINT,t.FASTEST);t.disable(t.SAMPLE_ALPHA_TO_COVERAGE);
t.disable(t.SAMPLE_COVERAGE);t.depthFunc(t.LEQUAL);t.clearDepth(1)}var d=null,n=null,m=null,u=null,g=!0,r=null,p=null,D=[],I={I:function(){return d.width},V:function(){return d.height},qb:function(){return d},ul:function(){return c},ga_:function(){return g},flush:function(){c.flush()},Al:function(){r||(r=new Uint8Array(d.width*d.height*4));c.readPixels(0,0,d.width,d.height,c.RGBA,c.UNSIGNED_BYTE,r);return r},wp:function(){return d.toDataURL("image/jpeg")},xp:function(){ya.X();n||(n=document.createElement("canvas"),
m=n.getContext("2d"));n.width=d.width;n.height=d.height;for(var t=I.Al(),y=m.createImageData(n.width,n.height),v=n.width,h=n.height,e=y.data,G=0;G<h;++G)for(var F=h-G-1,k=0;k<v;++k){var x=4*(G*v+k),w=4*(F*v+k);e[x]=t[w];e[x+1]=t[w+1];e[x+2]=t[w+2];e[x+3]=t[w+3]}m.putImageData(y,0,0);return n.toDataURL("image/png")},Ch:function(t){!n&&t&&(n=document.createElement("canvas"),m=n.getContext("2d"));var y=t?n:document.createElement("canvas");y.width=d.width;y.height=d.height;(t?m:y.getContext("2d")).drawImage(d,
0,0);return y},h:function(t){t=Object.assign({Wa:null,Tf:null,qa:null,Je:null,width:512,height:512,premultipliedAlpha:!1,lm:!0,antialias:!1,debug:!1,jp:!1},t);t.Wa?(c=t.Wa,d=t.Wa.canvas):t.Je&&!t.qa?d=document.getElementById(t.Je):t.qa&&(d=t.qa);d||(d=document.createElement("canvas"));d.width=t.width;d.height=t.height;if(c)g=c instanceof WebGL2RenderingContext;else{g=!0;var y={antialias:t.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:t.premultipliedAlpha,stencil:!1,depth:t.lm};navigator&&
navigator.userAgent&&-1!==navigator.userAgent.indexOf("noAntialiasing")&&(y.antialias=!1);var v=b(y);!v&&y.antialias&&(y.antialias=!1,v=b(y));v&&(c=d.getContext("webgl2",y));c?g=!0:((c=d.getContext("webgl",y))||(c=d.getContext("experimental-webgl",y)),g=!1)}if(!c)return a("WebGL1 and 2 are not enabled");(u=c.getExtension("WEBGL_lose_context"))&&t.Tf&&(p=t.Tf,d.addEventListener("webglcontextlost",p,!1));if(!Aa.h())return a("Not enough GL capabilities");f(c);ca.h();Y.h();if(!Ab.Zg(c,Aa.xl()))return a("Cannot filter float textures");
D.forEach(function(h){h(c)});D.splice(0);return!0},$o:function(){return new Promise(function(t){c?t(c):D.push(t)})},u:function(){c&&(Aa.u(),ca.u(),Ab.u());u&&p&&(d.removeEventListener("webglcontextlost",p,!1),u=p=null);c=r=m=n=d=null;D.splice(0)}};return I}(),pb=function(){function a(){null===b&&("undefined"!==typeof ca?b=ca:"undefined"!==typeof E&&(b=E))}var b=null;a();return{reset:function(){b=null},fj:function(f){b!==f&&(b&&b.F(),b=f)},Wb:function(){return b.Wb()},Lc:function(){return b.Lc()},
cc:function(f){return b.cc(f)},Sd:function(){return b.Sd()},F:function(){return b.F()},set:function(f){return b.set(f)},yb:function(f){a();return b.yb(f)},Qd:function(f){a();return b.Qd(f)}}}(),X=function(){function a(q){c.bindTexture(c.TEXTURE_2D,q)}function b(q){var K=new Uint16Array(q.length);q.forEach(function(J,N){O[0]=J;var S=L[0];var aa=S>>16&32768;J=S>>12&2047;var W=S>>23&255;S=103>W?aa:142<W?aa|31744|((255==W?0:1)&&S&8388607):113>W?(J|=2048,aa|(J>>114-W)+(J>>113-W&1)):(aa|W-112<<10|J>>1)+
(J&1);K[N]=S});return K}function f(){if(null!==z.sf)return z.sf;var q=d(b([.5,.5,.5,.5]));return null===q?!0:z.sf=q}function d(q){if(!pb.Wb()||!y)return null;var K=null,J=Math.sqrt(q.length/4);try{var N=c.getError();if("FUCKING_BIG_ERROR"===N)return!1;K=l.instance({isFloat:!1,N:!0,array:q,width:J});N=c.getError();if(N!==c.NO_ERROR)return!1}catch(aa){return!1}ya.X();c.viewport(0,0,J,J);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);pb.set("s0");K.Jb(0);Y.g(!0,!0);q=4*J*J;N=new Uint8Array(q);c.readPixels(0,
0,J,J,c.RGBA,c.UNSIGNED_BYTE,N);J=!0;for(var S=0;S<q;++S)J=J&&3>Math.abs(N[S]-127);K.remove();ya.ka();return J}var n=0,m=null,u=0,g=null,r=null,p=null,D=null,I=null,t=null,y=!1,v=[],h={isFloat:!1,isPot:!0,isLinear:!1,isMipmap:!1,isAnisotropicFiltering:!1,isMirrorX:!1,isMirrorY:!1,isSrgb:!1,isKeepArray:!1,isFlipY:null,width:0,height:0,url:null,array:null,data:null,fa:null,Jh:null,mm:!1,N:!1,M:null,A:4,Of:0},e=!1,G=null,F=null,k=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],x=!1,w=!1,O=new Float32Array(1),
L=new Int32Array(O.buffer),z={sf:null,tf:null},l={h:function(){y||(I=[c.RGBA,null,c.RGBA,c.RGBA],t=[c.RGBA,null,c.RGBA,c.RGBA],m=[c.TEXTURE0,c.TEXTURE1,c.TEXTURE2,c.TEXTURE3,c.TEXTURE4,c.TEXTURE5,c.TEXTURE6,c.TEXTURE7],x="undefined"!==typeof ba,w="undefined"!==typeof Aa,g=[-1,-1,-1,-1,-1,-1,-1,-1],D=[c.UNSIGNED_BYTE,c.FLOAT,c.FLOAT],y=!0)},dm:function(){if(!r){for(var q=new Float32Array(16384),K=0;16384>K;++K)q[K]=2*Math.random()-1;r={random:l.instance({isFloat:!0,isPot:!0,array:q,width:64}),vj:l.instance({isFloat:!1,
isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}l.uo()},Ih:function(){return r.vj},uo:function(){D[1]=Aa.bf(c)},Sn:function(){t=I=[c.RGBA,c.RGBA,c.RGBA,c.RGBA]},Li:function(q){ca.set("s1");ya.X();var K=q.I(),J=q.V();c.viewport(0,0,K,J);q.a(0);Y.g(!1,!1)},Tp:function(q,K){l.Li(q);c.readPixels(0,0,q.I(),q.V(),c.RGBA,c.UNSIGNED_BYTE,K)},Up:function(q,K){l.Li(q);return Aa.$f(0,0,q.I(),q.V(),K)},xh:function(q,K,J,N,S,aa,W){q.activeTexture(q.TEXTURE0);var P=q.createTexture();q.bindTexture(q.TEXTURE_2D,
P);S=S instanceof Float32Array?S:new Float32Array(S);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.NEAREST);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.NEAREST);q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,aa);q.texImage2D(q.TEXTURE_2D,0,q.RGBA,J,N,0,q.RGBA,q.FLOAT,S);q.bindTexture(q.TEXTURE_2D,null);q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,!1);W&&(ya.ka(),ca.yb(q));q.viewport(0,
0,J,N);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,K,0);q.bindTexture(q.TEXTURE_2D,P);W?Y.g(!0,!0):Y.Nb(q);q.deleteTexture(P);y&&(g[0]=-1,p=null,n=0)},se:function(q){q!==n&&(c.activeTexture(m[q]),n=q)},instance:function(q){function K(){la=void 0!==A.fa.videoWidth?A.fa.videoWidth:A.fa.width;ia=void 0!==A.fa.videoHeight?A.fa.videoHeight:A.fa.height}function J(da){var va=c.getError();if("FUCKING_BIG_ERROR"===va)return!1;c.texImage2D(c.TEXTURE_2D,0,Ya,pa,M,da);va=c.getError();
va!==c.NO_ERROR&&pa!==c.RGBA&&(pa=c.RGBA,c.texImage2D(c.TEXTURE_2D,0,Ya,pa,M,da));return!0}function N(){if(!fa){a(Pa);Z&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,Z);A.isPot?(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,A.isMirrorX?c.MIRRORED_REPEAT:c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,A.isMirrorY?c.MIRRORED_REPEAT:c.REPEAT)):(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE));A.isAnisotropicFiltering&&"undefined"!==
typeof T&&c.texParameterf(c.TEXTURE_2D,ba.Cl().TEXTURE_MAX_ANISOTROPY_EXT,T.Yj);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,A.isLinear?c.LINEAR:c.NEAREST);A.isLinear?c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,A.isMipmap&&!za?c.NEAREST_MIPMAP_LINEAR:c.LINEAR):c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,A.isMipmap&&!za?c.NEAREST_MIPMAP_NEAREST:c.NEAREST);pa=I[A.A-1];Ya=t[A.A-1];M=D[C];if(Aa.ga_()){var da=Aa.El();pa===c.RGBA&&M===c.FLOAT?A.isMipmap||A.isLinear?Ya=Ab.Gl(c):Aa.aa()?
da&&(Ya=da):Ya=c.RGBA16F||c.RGBA:pa===c.RGB&&M===c.FLOAT&&da&&(Ya=da,pa=c.RGBA)}if(A.N&&!A.isFloat||A.isFloat&&A.isMipmap&&Ab.vm())Ya=Aa.Fl(),M=Aa.bf(c);A.Of&&(db=A.Of);A.isSrgb&&4===A.A&&(pa=ba.Vl());if(A.fa)J(A.fa);else if(A.url)J(Ka);else if(Na){da=Na;try{"FUCKING_BIG_ERROR"!==c.getError()&&(c.texImage2D(c.TEXTURE_2D,0,Ya,la,ia,0,pa,M,da),c.getError()!==c.NO_ERROR&&(c.texImage2D(c.TEXTURE_2D,0,Ya,la,ia,0,pa,M,null),c.getError()!==c.NO_ERROR&&c.texImage2D(c.TEXTURE_2D,0,c.RGBA,la,ia,0,c.RGBA,c.UNSIGNED_BYTE,
null)))}catch(ld){c.texImage2D(c.TEXTURE_2D,0,Ya,la,ia,0,pa,M,null)}A.isKeepArray||(Na=null)}else da=c.getError(),"FUCKING_BIG_ERROR"!==da&&(c.texImage2D(c.TEXTURE_2D,0,Ya,la,ia,0,pa,M,null),da=c.getError(),da!==c.NO_ERROR&&(pa=c.RGBA,A.N&&M!==c.FLOAT&&(M=c.FLOAT,c.texImage2D(c.TEXTURE_2D,0,Ya,la,ia,0,pa,M,null))));if(A.isMipmap)if(!za&&Ua)Ua.od(),kb=!0;else if(za){da=Math.log2(Math.min(la,ia));La=Array(1+da);La[0]=Pa;for(var va=1;va<=da;++va){var fb=Math.pow(2,va),Ha=la/fb;fb=ia/fb;var Gb=c.createTexture();
a(Gb);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);c.texImage2D(c.TEXTURE_2D,0,Ya,Ha,fb,0,pa,M,null);a(null);La[va]=Gb}kb=!0}a(null);g[n]=-1;Z&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1);V=!0;A.M&&Ua&&(A.M(Ua),A.M=null)}}function S(){for(var da=la*ia,va=2*da,fb=3*da,Ha=0;Ha<da;++Ha)Ja[0][Ha]=Wa[Ha],Ja[1][Ha]=Wa[Ha+da],Ja[2][Ha]=Wa[Ha+va],Ja[3][Ha]=Wa[Ha+fb]}function aa(){var da=la*ia*4;ma=[new Uint8Array(da),new Uint8Array(da),
new Uint8Array(da),new Uint8Array(da)];Ja=[new Float32Array(ma[0].buffer),new Float32Array(ma[1].buffer),new Float32Array(ma[2].buffer),new Float32Array(ma[3].buffer)];ob=new Uint8Array(4*da);Wa=new Float32Array(ob.buffer);xa=!0}function W(){P=new Uint8Array(la*ia*4);Jc=new Float32Array(P.buffer);ib=!0}var P,A=Object.assign({},h,q),B=u++;null===A.isFlipY&&(A.isFlipY=A.url||A.array?!0:!1);A.data&&(A.array="string"===typeof A.data?sb(A.data):A.isFloat?new Float32Array(A.data):new Uint8Array(A.data),
A.isFlipY=!1);var C=0,Q=A.fa?!0:!1,ea=null,ja=null,ka=!1,Ca=null;A.N=A.N||A.isFloat;A.N&&(C=1);!A.mm&&A.isFloat&&w&&!Aa.aa()&&(A.isFloat=!1);A.isFloat&&(C=2);A.isAnisotropicFiltering&&x&&!ba.um()&&(A.isAnisotropicFiltering=!1);var Pa=A.Jh||c.createTexture(),Ka=null,Na=!1,la=0,ia=0,V=!1,fa=!1,xa=!1,Ja=null,ma=null,ob=null,Wa=null,Ya=null,pa=null,M=null,Z=A.isFlipY,qa=(q=A.N&&A.isMipmap)&&Ab.Fk(),za=q&&qa?!0:!1,La=null,db=-1,kb=!1,ib=!1,Jc=P=null;A.width&&(la=A.width,ia=A.height?A.height:la);var Ua=
{get:function(){return Pa},I:function(){return la},V:function(){return ia},Xl:function(){return A.url},di:function(){return A.isFloat},ei:function(){return A.N},Lp:function(){return A.isLinear},od:function(){c.generateMipmap(c.TEXTURE_2D)},yk:function(da,va){za?(da||(da=Ua.Gh()),l.se(va),a(La[da]),g[va]=-1):Ua.a(va)},Gh:function(){-1===db&&(db=Math.log(la)/Math.log(2));return db},tl:function(da){if(za){da||(da=Ua.Gh());ca.set("s12");l.se(0);for(var va=la,fb=ia,Ha=1;Ha<=da;++Ha)va/=2,fb/=2,ca.K("u8",
.25/va,.25/fb),c.viewport(0,0,va,fb),a(La[Ha-1]),c.framebufferTexture2D(ya.sd(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,La[Ha],0),Y.g(!1,1===Ha);g[0]=-1}else Ua.od()},fq:function(da){(Q=!(Array.isArray(da)||da.constructor===Float32Array||da.constructor===Uint8Array))?(Na=null,A.fa=da,K()):Na=da},a:function(da){if(!V)return!1;l.se(da);if(g[da]===B)return!1;a(Pa);g[da]=B;return!0},Jb:function(da){c.activeTexture(m[da]);n=da;a(Pa);g[da]=B},i:function(){p=Ua;c.framebufferTexture2D(ya.sd(),c.COLOR_ATTACHMENT0,
c.TEXTURE_2D,Pa,0)},O:function(){p=Ua;c.viewport(0,0,la,ia);c.framebufferTexture2D(ya.sd(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,Pa,0)},be:l.be,resize:function(da,va){la=da;ia=va;N()},clone:function(da){da=l.instance({width:la,height:ia,N:A.N,isFloat:A.isFloat,isLinear:A.isLinear,isMirrorY:A.isMirrorY,isFlipY:da?!Z:Z,isPot:A.isPot});pb.set("s0");ya.ka();da.i();c.viewport(0,0,la,ia);Ua.a(0);Y.g(!0,!0);return da},Mc:function(){c.viewport(0,0,la,ia)},remove:function(){c.deleteTexture(Pa);fa=!0;v.splice(v.indexOf(Ua),
1);Ua=null},refresh:function(){Ua.Jb(0);Z&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);Q?c.texImage2D(c.TEXTURE_2D,0,Ya,pa,M,A.fa):c.texImage2D(c.TEXTURE_2D,0,Ya,la,ia,0,pa,M,Na);Z&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},Ji:function(){xa||aa();c.readPixels(0,0,la,4*ia,c.RGBA,c.UNSIGNED_BYTE,ob);S();return Ja},gn:function(){xa||aa();return Aa.$f(0,0,la,4*ia,ob).then(function(){S();return Ja})},jn:function(){ib||W();c.readPixels(0,0,la,ia,c.RGBA,c.UNSIGNED_BYTE,P);return Jc},hn:function(){ib||W();return Aa.$f(0,
0,la,ia,P)},mh:function(da){ya.X();ca.set("s13");Ua.a(0);if(da)c.viewport(0,0,la,ia),ca.Xn("u9",.25,.25,.25,.25),Y.g(!1,!0);else for(da=0;4>da;++da)c.viewport(0,ia*da,la,ia),ca.za("u9",k[da]),Y.g(!1,0===da)},Fg:function(da){var va;if(va=M===D[0])null!==z.tf?va=z.tf:(va=d(new Uint8Array([127,127,127,127])),va=null===va?!0:z.tf=va),va=!va;a(Pa);Z&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);va?(ka||(ea=document.createElement("canvas"),ea.width=la,ea.height=ia,ja=ea.getContext("2d"),Ca=ja.createImageData(la,
ia),ka=!0),Ca.data.set(da),ja.putImageData(Ca,0,0),c.texImage2D(c.TEXTURE_2D,0,Ya,pa,M,ea)):c.texImage2D(c.TEXTURE_2D,0,Ya,la,ia,0,pa,M,da);g[n]=B;Z&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},qq:function(da,va){a(Pa);va&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);c.texImage2D(c.TEXTURE_2D,0,Ya,pa,M,da);g[n]=B;va&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},Ic:function(da,va){var fb=la*ia,Ha=4*fb;da=A.N?da?"RGBE":"JSON":"RGBA";va&&(da=va);va=Aa.ga_()&&!1;var Gb=null;switch(da){case "RGBE":Gb="s43";break;
case "JSON":Gb=va?"s0":"s13";break;case "RGBA":case "RGBAARRAY":Gb="s7"}xa||("RGBA"===da||"RGBE"===da||"RGBAARRAY"===da?(ma=new Uint8Array(Ha),xa=!0):"JSON"!==da||va||aa());ya.X();ca.set(Gb);Ua.a(0);Ha=null;if("RGBA"===da||"RGBE"===da||"RGBAARRAY"===da){c.viewport(0,0,la,ia);Y.g(!0,!0);c.readPixels(0,0,la,ia,c.RGBA,c.UNSIGNED_BYTE,ma);if("RGBAARRAY"===da)return{data:ma};e||(G=document.createElement("canvas"),F=G.getContext("2d"),e=!0);G.width=la;G.height=ia;fb=F.createImageData(la,ia);fb.data.set(ma);
F.putImageData(fb,0,0);Ha=G.toDataURL("image/png")}else if("JSON"===da)if(va)Ha=new Float32Array(fb),c.viewport(0,0,la,ia),Y.g(!0,!0),c.readPixels(0,0,la,ia,c.RGBA,c.FLOAT,Ha);else{for(Ha=0;4>Ha;++Ha)c.viewport(0,ia*Ha,la,ia),ca.za("u9",k[Ha]),Y.g(!Ha,!Ha);Ua.Ji();Ha=Array(fb);for(va=0;va<fb;++va)Ha[4*va]=Ja[0][va],Ha[4*va+1]=Ja[1][va],Ha[4*va+2]=Ja[2][va],Ha[4*va+3]=Ja[3][va]}return{format:da,data:Ha,width:la,height:ia,isMirrorY:A.isMirrorY,isFlipY:"RGBA"===da?A.isFlipY:!A.isFlipY}}};A.isMipmap&&
!za&&V&&!kb&&(Ua.od(),kb=!0);if(A.url)a(Pa),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,1,1,0,c.RGBA,c.UNSIGNED_BYTE,null),Ka=new Image,Ka.T="Anonymous",Ka.crossOrigin="Anonymous",Ka.src=A.url,Ka.onload=function(){la=Ka.width;ia=Ka.height;N()};else if(A.fa){var Kc=function(){K();la?N():setTimeout(Kc,1)};Kc()}else A.array?(A.N&&!A.isFloat?A.array instanceof Uint16Array?(Na=A.array,N()):f()?(Na=b(A.array),N()):(N(),l.xh(c,Pa,Ua.I(),Ua.V(),A.array,Z,!0)):(Na=A.isFloat?A.array instanceof Float32Array?A.array:
new Float32Array(A.array):A.array instanceof Uint8Array?A.array:new Uint8Array(A.array),N()),A.isKeepArray||(Na&&Na!==A.array&&(Na=null),delete A.array)):A.Jh?V=!0:N();Ua.Ep=Ua.I;A.M&&V&&(A.M(Ua),A.M=null);v.push(Ua);return Ua},X:function(q){q!==n&&(c.activeTexture(m[q]),n=q);g[q]=-1;a(null)},zk:function(q){r.random.a(q)},be:function(){p=null;c.framebufferTexture2D(ya.sd(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)},reset:function(){0!==n&&c.activeTexture(m[0]);for(var q=0;q<m.length;++q)g[q]=-1;n=
-1},Xp:function(){n=-1},xj:function(){for(var q=0;q<m.length;++q)l.X(q)},H:function(){r&&(r.random.remove(),r.vj.remove())},Pc:function(q,K){if("RGBA"===q.format||"RGBE"===q.format){var J=new Image;J.src=q.data;J.onload=function(){l.instance({isMirrorY:q.isMirrorY,isFlipY:q.isFlipY,isFloat:!1,fa:J,M:function(N){if("RGBA"===q.format)K(N);else{var S=q.width,aa=q.height,W=l.instance({isMirrorY:q.isMirrorY,isFloat:!0,width:S,height:aa,isFlipY:q.isFlipY});ya.ka();c.viewport(0,0,S,aa);ca.set("s44");W.i();
N.a(0);Y.g(!0,!0);l.X(0);K(W);Aa.flush();setTimeout(N.remove,50)}}})}}else"JSON"===q.format?K(l.instance({isFloat:!0,isFlipY:q.isFlipY,width:q.width,height:q.height,array:new Float32Array(q.data)})):K(!1)},Lk:b,u:function(){p&&(ya.ka(),l.be(),ya.X());l.xj();v.slice(0).forEach(function(q){q.remove()});v.splice(0);y=!1;u=0;"undefined"!==typeof Ab&&Ab.u();r=null}};return l}(),Sc={instance:function(a){var b=[X.instance(a),X.instance(a)],f=[b[1],b[0]],d=f,n={Gn:function(m){d[1].i();d[0].a(m);n.lj()},Hn:function(m){d[1].O();
d[0].a(m);n.lj()},lj:function(){d=d===b?f:b},refresh:function(){d[0].refresh();d[1].refresh()},a:function(m){d[0].a(m)},Yo:function(m){d[1].a(m)},zp:function(){return d[0]},Cp:function(){return d[1]},Fg:function(m){d[0].Fg(m);d[1].Fg(m)},remove:function(){d[0].remove();d[1].remove();d=null},sync:function(){n.Hn(0);ca.set("s0");Y.g(!1,!1)}};return n}},Y=function(){function a(r){var p={ea:null,R:null};p.ea=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,p.ea);r.bufferData(r.ARRAY_BUFFER,new Float32Array([-1,
-1,3,-1,-1,3]),r.STATIC_DRAW);p.R=r.createBuffer();r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,p.R);r.bufferData(r.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),r.STATIC_DRAW);return p}var b=null,f=0,d=!1,n=[],m=-2,u=-2,g={reset:function(){u=m=-2},h:function(){d||(b=a(c),g.xe(),d=!0)},instance:function(r){var p=f++,D=r.R?r.R.length:0,I="undefined"===typeof r.mode?c.STATIC_DRAW:r.mode,t=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,t);c.bufferData(c.ARRAY_BUFFER,r.ea instanceof Float32Array?r.ea:new Float32Array(r.ea),
I);m=p;var y=null,v=null,h=null;if(r.R){y=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,y);var e=null;65536>r.R.length?(e=Uint16Array,v=c.UNSIGNED_SHORT,h=2):(e=Uint32Array,v=c.UNSIGNED_INT,h=4);e=r.R instanceof e?r.R:new e(r.R);c.bufferData(c.ELEMENT_ARRAY_BUFFER,e,I);u=p}var G={sc:function(F){m!==p&&(c.bindBuffer(c.ARRAY_BUFFER,t),m=p);F&&pb.Sd()},wk:function(){u!==p&&(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,y),u=p)},bind:function(F){G.sc(F);G.wk()},S:function(){c.drawElements(c.TRIANGLES,D,
v,0)},La:function(F,k){c.drawElements(c.TRIANGLES,F,v,k*h)},remove:function(){c.deleteBuffer(t);r.R&&c.deleteBuffer(y);G=null}};n.push(G);return G},xe:function(){-1!==m&&(c.bindBuffer(c.ARRAY_BUFFER,b.ea),m=-1);-1!==u&&(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,b.R),u=-1)},g:function(r,p){r&&Y.xe();p&&pb.Lc();c.drawElements(c.TRIANGLES,3,c.UNSIGNED_SHORT,0)},Nb:function(r){r=r||c;var p=a(r);r.bindBuffer(r.ARRAY_BUFFER,p.ea);r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,p.R);pb.cc(r);r.clear(r.COLOR_BUFFER_BIT);r.drawElements(r.TRIANGLES,
3,r.UNSIGNED_SHORT,0);r.flush();r.bindBuffer(r.ARRAY_BUFFER,null);r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);r.deleteBuffer(p.ea);r.deleteBuffer(p.R);g.reset();d&&(g.xe(),pb.Lc())},H:function(){var r=c,p=b;r.deleteBuffer(p.ea);r.deleteBuffer(p.R)},u:function(){g.H();n.forEach(function(r){r.remove()});c.bindBuffer(c.ARRAY_BUFFER,null);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,null);g.reset();d=!1;n.splice(0);f=0}};return g}(),ya=function(){var a=null,b=null,f=null,d=!1,n=[],m={la:-2,wh:1},u={Wb:function(){return d},
h:function(){if(!d){a=c.createFramebuffer();var g=Aa.ga_();b=g&&c.DRAW_FRAMEBUFFER?c.DRAW_FRAMEBUFFER:c.FRAMEBUFFER;f=g&&c.READ_FRAMEBUFFER?c.READ_FRAMEBUFFER:c.FRAMEBUFFER;d=!0}},Dl:function(){return b},Dh:function(){return f},sd:function(){return c.FRAMEBUFFER},Dp:function(){return m},up:function(){return a},instance:function(g){void 0===g.xc&&(g.xc=!1);var r=g.ha?g.ha:null,p=g.width,D=void 0!==g.height?g.height:g.width,I=a,t=null,y=!1,v=!1,h=0;r&&(p=p?p:r.I(),D=D?D:r.V());var e={Ti:function(){y||
(I=c.createFramebuffer(),y=!0,h=m.wh++)},Wc:function(){e.Ti();e.i();t=c.createRenderbuffer();c.bindRenderbuffer(c.RENDERBUFFER,t);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,p,D);c.framebufferRenderbuffer(b,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,t);c.clearDepth(1)},bind:function(G,F){h!==m.la&&(c.bindFramebuffer(b,I),m.la=h);r&&r.i();F&&c.viewport(0,0,p,D);G&&c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)},Ug:function(){h!==m.la&&(c.bindFramebuffer(b,I),m.la=h)},clear:function(){c.clear(c.COLOR_BUFFER_BIT|
c.DEPTH_BUFFER_BIT)},Fe:function(){c.clear(c.COLOR_BUFFER_BIT)},ah:function(){c.clear(c.DEPTH_BUFFER_BIT)},Mc:function(){c.viewport(0,0,p,D)},i:function(){h!==m.la&&(c.bindFramebuffer(b,I),m.la=h)},rtt:function(G){r=G;m.la!==h&&(c.bindFramebuffer(c.FRAMEBUFFER,I),m.la=h);G.i()},X:function(){c.bindFramebuffer(b,null);m.la=-1},resize:function(G,F){p=G;D=F;t&&(c.bindRenderbuffer(c.RENDERBUFFER,t),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,p,D))},remove:function(){I===a||v||(c.bindFramebuffer(b,
I),c.framebufferTexture2D(b,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),t&&c.framebufferRenderbuffer(b,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,null),c.bindFramebuffer(b,null),c.deleteFramebuffer(I),t&&c.deleteRenderbuffer(t));v=!0}};g.xc&&e.Wc();n.push(e);return e},X:function(){c.bindFramebuffer(b,null);m.la=-1},oq:function(){c.bindFramebuffer(b,null);c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);Aa.hj();m.la=-1},reset:function(){m.la=-2},ka:function(){0!==m.la&&(c.bindFramebuffer(b,a),m.la=0)},clear:function(){Aa.hj();
c.clear(c.COLOR_BUFFER_BIT)},u:function(){u.X();n.forEach(function(g){g.remove()});null!==a&&(c.deleteFramebuffer(a),a=null);u.reset();d=!1;n.splice(0);m.wh=1}};return u}(),Aa=function(){function a(){n="undefined"===typeof eb?ba:eb;m=!0}function b(e,G){for(var F=0;F<e.length;++F){var k=G.getExtension(e[F]);if(k)return k}return null}function f(){null!==y.ae&&(clearInterval(y.ae),y.ae=null);y.Rb=!1}function d(){y.vc&&(c.deleteSync(y.vc),y.vc=null)}var n=null,m=!1,u={Xh:!1,xg:null,yg:null,ai:!1,sm:!1,
zg:null,bi:!1,Ag:null,Yh:!1,Ge:null,jm:!1,He:null,km:!1},g=null,r={Va:!0,Xa:!0,Xe:!0,Ii:!1},p=null,D=!0,I=null,t=null,y={Rb:!1,Pb:null,vc:null,gf:-1,Ma:null,ae:null},v="undefined"===typeof window?{}:window,h={h:function(){if(m)return!0;h.reset();m||a();var e=c;if(!g.Xh){g.xg=h.th(e);v.GL_EXT_FLOAT=g.xg;g.ai=g.xg?!0:!1;if(g.ai||h.ga_())g.yg=h.uh(e),g.sm=g.yg?!0:!1,v.GL_EXT_FLOATLINEAR=g.yg;g.Xh=!0}if(!g.Yh){g.zg=h.kd(e);g.zg&&(g.bi=!0,v.GL_EXT_HALFFLOAT=g.zg);if(g.bi||h.ga_())g.Ag=h.vh(e),v.GL_EXT_HALFFLOATLINEAR=
g.Ag;g.Jp=g.Ag?!0:!1;g.Yh=!0}g.Ge=h.rh(e);g.jm=g.Ge?!0:!1;v.GL_EXT_COLORBUFFERFLOAT=g.Ge;g.He=h.sh(e);g.km=g.He?!0:!1;v.GL_EXT_COLORBUFFERHALFFLOAT=g.He;ya.h();X.h();if(!h.Yk())return!1;Y.h();X.dm();return!0},reset:function(){g=Object.assign({},u);p=Object.assign({},r)},I:function(){m||a();return n.I()},V:function(){m||a();return n.V()},ga_:function(){m||a();return n.ga_()},qh:function(e){h.rh(e);h.sh(e);h.th(e);h.uh(e);h.kd(e);h.vh(e)},rh:b.bind(null,["EXT_color_buffer_float","WEBGL_color_buffer_float",
"OES_color_buffer_float"]),sh:b.bind(null,["EXT_color_buffer_half_float","WEBGL_color_buffer_half_float","OES_color_buffer_half_float"]),th:b.bind(null,["OES_texture_float","MOZ_OES_texture_float","WEBKIT_OES_texture_float"]),uh:b.bind(null,["OES_texture_float_linear","MOZ_OES_texture_float_linear","WEBKIT_OES_texture_float_linear"]),kd:b.bind(null,["OES_texture_half_float","MOZ_OES_texture_half_float","WEBKIT_OES_texture_half_float"]),vh:b.bind(null,["OES_texture_half_float_linear","MOZ_OES_texture_half_float_linear",
"WEBKIT_OES_texture_half_float_linear"]),bf:function(e){var G=h.kd(e);return G&&G.HALF_FLOAT_OES?G.HALF_FLOAT_OES:e.HALF_FLOAT||e.FLOAT},El:function(){return t||c.RGBA32F||c.RGBA},Fl:function(){return I||c.RGBA16F||c.RGBA},xl:function(){return p},aa:function(){return p.Va},ep:function(){return p.Xa},Ek:function(){return p.Xe},Hk:function(){return p.Ii&&D},uj:function(e){D=e;!e&&y.Rb&&(d(),c.bindBuffer(y.Ma,null),y.Rb=!1)},Mp:function(){return y.Rb},Yd:function(e,G,F){function k(){e.bindTexture(e.TEXTURE_2D,
null);e.bindFramebuffer(x,null);e.deleteTexture(L);e.deleteFramebuffer(O)}var x=e.FRAMEBUFFER,w=e.NEAREST,O=e.createFramebuffer();e.bindFramebuffer(x,O);var L=e.createTexture();e.activeTexture(e.TEXTURE0);e.bindTexture(e.TEXTURE_2D,L);e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,w);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,
w);e.texImage2D(e.TEXTURE_2D,0,G,3,3,0,e.RGBA,F,null);e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,L,0);if(e.checkFramebufferStatus(e.READ_FRAMEBUFFER||e.FRAMEBUFFER)!==e.FRAMEBUFFER_COMPLETE)return k(),!1;pb.Qd(e);e.clearColor(0,0,0,0);e.viewport(0,0,3,3);e.disable(e.DEPTH_TEST);e.clear(e.COLOR_BUFFER_BIT);Y.Nb(e);e.bindFramebuffer(x,null);pb.yb(e);e.activeTexture(e.TEXTURE0);e.bindTexture(e.TEXTURE_2D,L);Y.Nb(e);G=new Uint8Array(36);e.readPixels(0,0,3,3,e.RGBA,e.UNSIGNED_BYTE,
G);k();for(F=0;36>F;++F)if(3!==F%4&&3<Math.abs(G[F]-127))return!1;return!0},Qe:function(e){var G={Va:!1,Xa:!1};e.disable(e.BLEND);e.clearColor(0,0,0,0);e.clear(e.COLOR_BUFFER_BIT);e.RGBA32F&&h.Yd(e,e.RGBA32F,e.FLOAT)&&(G.Va=!0,t=e.RGBA32F);!G.Va&&h.Yd(e,e.RGBA,e.FLOAT)&&(G.Va=!0,t=e.RGBA);var F=h.bf(e);I=null;e.RGBA16F&&h.Yd(e,e.RGBA16F,F)&&(G.Xa=!0,I=e.RGBA16F);!G.Xa&&h.Yd(e,e.RGBA,F)&&(G.Xa=!0,I=e.RGBA);return G},$k:function(){var e=ya.instance({width:2});e.Ti();var G=X.instance({width:2,isFloat:!0,
A:3});e.i();G.i();h.flush();c.checkFramebufferStatus(ya.Dh())!==c.FRAMEBUFFER_COMPLETE?(X.Sn(),p.Xe=!1):p.Xe=!0;e.remove();G.remove()},al:function(){var e=!1;h.ga_()&&(e="PIXEL_PACK_BUFFER STREAM_READ SYNC_GPU_COMMANDS_COMPLETE WAIT_FAILED fenceSync deleteSync createBuffer".split(" ").every(function(G){return"undefined"!==typeof c[G]}));p.Ii=e},Yk:function(){var e=h.Qe(c);Object.assign(p,e);if(!p.Va&&!p.Xa)return!1;h.$k();h.al();return!0},kn:function(e,G,F,k,x){c.readPixels(e,G,F,k,c.RGBA,c.UNSIGNED_BYTE,
x);return Promise.resolve(x,!1)},$f:function(e,G,F,k,x,w){if(!h.Hk())return h.kn(e,G,F,k,x);null===y.Pb&&(y.Ma=c.PIXEL_PACK_BUFFER,y.Pb=c.createBuffer(),y.gf=-1);c.bindBuffer(y.Ma,y.Pb);x.byteLength!==y.gf&&(c.bufferData(y.Ma,x.byteLength,c.STREAM_READ),y.gf=x.byteLength);c.readPixels(e,G,F,k,c.RGBA,c.UNSIGNED_BYTE,0);y.vc=c.fenceSync(c.SYNC_GPU_COMMANDS_COMPLETE,0);h.flush();var O=!1;return new Promise(function(L,z){function l(){if(!y.Rb)return f(),z(),!1;switch(c.clientWaitSync(y.vc,0,0)){case c.TIMEOUT_EXPIRED:case c.WAIT_FAILED:return!1;
default:return f(),d(),c.getBufferSubData(y.Ma,0,x),c.bindBuffer(y.Ma,null),L(x,O),!0}}f();y.Rb=!0;l()||(w&&!O&&(O=!0,w()),y.ae=setInterval(l,0))})},hj:function(){c.viewport(0,0,h.I(),h.V())},flush:function(){c.flush()},u:function(){f();d();X.u();ya.u();Y.u();null!==y.Pb&&(c.deleteBuffer(y.Pb),y.Pb=null);pb.reset();m=!1}};return h}(),Ab=function(){function a(w,O,L,z){e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,z?e.NEAREST_MIPMAP_NEAREST:e.LINEAR);var l=null;if(null!==L)try{l=e.getError();if("FUCKING_BIG_ERROR"===
l)return!1;e.texImage2D(e.TEXTURE_2D,0,w,4,4,0,e.RGBA,O,L);l=e.getError();if(l!==e.NO_ERROR)return!1}catch(q){return!1}z&&e.generateMipmap(e.TEXTURE_2D);e.clear(e.COLOR_BUFFER_BIT);Y.Nb(e);l=e.getError();if("FUCKING_BIG_ERROR"===l)return!1;e.readPixels(0,0,2,2,e.RGBA,e.UNSIGNED_BYTE,D);l=e.getError();l===e.INVALID_OPERATION&&"undefined"!==typeof e.PIXEL_PACK_BUFFER&&(e.bindBuffer(e.PIXEL_PACK_BUFFER,null),e.readPixels(0,0,2,2,e.RGBA,e.UNSIGNED_BYTE,D),l=e.getError());if(l!==e.NO_ERROR)return!1;L=
!0;for(z=0;16>z;++z)L=L&&4>Math.abs(D[z]-127);L&&(r.Ei=O,r.Vh=w);return L}function b(w,O){return G.Va&&a(w,e.FLOAT,new Float32Array(I),O)?(g=u.Rg,!0):!1}function f(w,O,L){if(!G.Xa)return!1;var z=X.Lk(I),l=Aa.kd(e);if(l&&l.HALF_FLOAT_OES&&a(w,l.HALF_FLOAT_OES,z,O)||e.HALF_FLOAT&&a(w,e.HALF_FLOAT,z,O))return g=u.nc,!0;z=new Float32Array(I);if(a(w,e.FLOAT,z,O))return g=u.nc,!0;e.bindTexture(e.TEXTURE_2D,L);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,2,2,0,e.RGBA,e.UNSIGNED_BYTE,null);e.bindFramebuffer(r.fd,x);
X.xh(e,L,2,2,z,!1,!1);e.bindFramebuffer(r.fd,null);e.bindTexture(e.TEXTURE_2D,L);return a(w,null,null,O)?(g=u.nc,!0):!1}function d(w,O,L){p=!0;if(f(w,!0,L)||b(O,!0))return!0;p=!1;return f(w,!1,L)||b(O,!1)?!0:!1}function n(w){if(g===u.F){e=w||c;g=u.RGBA8;p=!0;Aa.qh(e);G||(G=Aa.Qe(e));ya.reset();x=e.createFramebuffer();r.fd=e.DRAW_FRAMEBUFFER||e.FRAMEBUFFER;e.bindFramebuffer(r.fd,null);e.clearColor(0,0,0,0);e.viewport(0,0,2,2);ca.F();F=ca.yb(e);w=e.createTexture();e.activeTexture(e.TEXTURE0);e.bindTexture(e.TEXTURE_2D,
w);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);k=w;var O=w=e.RGBA,L=e.RGBA16F,z=e.RGBA32F;z&&(w=z);L&&(O=L);if((L||z)&&d(O,w,k))return m(),!0;w=O=e.RGBA;if(d(O,w,k))return m(),!0;g=u.RGBA8;m();return!1}}function m(){e.deleteProgram(F.na);e.deleteTexture(k);k=F=null}for(var u={F:-1,Rg:3,nc:2,RGBA8:0},g=u.F,r={Ei:null,Vh:null,fd:null},p=!0,D=new Uint8Array(16),I=Array(64),
t=0;4>t;++t)for(var y=0;4>y;++y){var v=0===(y+t)%2?1:0,h=4*t+y;I[4*h]=v;I[4*h+1]=v;I[4*h+2]=v;I[4*h+3]=v}var e=null,G=null,F=null,k=null,x=null;return{Fk:function(w){n(w);return p},Zg:function(w,O){g===u.F&&(typeof("undefined"!==O)&&(G=O),n(w));return g!==u.RGBA8},Kp:function(w){n(w);return g===u.Rg},vm:function(w){n(w);return g===u.nc},yp:function(w){n(w);return r.Ei},Gl:function(w){n(w);return r.Vh},u:function(){e=null;p=!0;g=u.F;G=null}}}(),bd={instance:function(a){var b=X.instance(a.alpha),f=
X.instance(a.beta);return{hl:function(){b.a(1);f.a(2)}}}},Oc={instance:function(a){var b=null,f=!1,d=!1,n=null,m=!1,u=!1,g=null,r="undefined"===typeof a.preprocessing?!1:a.preprocessing,p="undefined"===typeof a.preprocessingSize?a.size:a.preprocessingSize;a.mask&&(f=!0,H&&void 0!==H.Y&&(a.mask=H.Y+a.mask),b=X.instance({isFloat:!1,url:a.mask}));var D=!1;a.customInputShader&&(D="s45",ca.oa({name:"_",id:D,b:a.customInputShader,pq:["uSource"],precision:"lowp"}),ca.f(D,[{type:"1i",name:"_",value:0}]));
switch(r){case "sobel":g="s32";m=!0;break;case "meanNormalization":g="s33";m=!0;break;case "grayScale":g="s29";m=!1;break;case "grayScaleTilt":g="s30";u=!0;m=!1;break;case "rgbGrayTilt":g="s31";u=!0;m=!1;break;case "copy":g=D?D:"s0";break;case "inputLightRegulation":g=D?D:"s29";n=cd.instance({Uh:p,yi:a.size,si:a.nBlurPass,yd:!1});d=!0;break;case "inputMix0":g="none";n=dd.instance({ta:p,Dj:a.varianceMin,Vg:a.blurKernelSizePx,yd:!1});d=!0;break;case "direct":case "none":g="abort";break;default:g="s4"}u&&
ca.f(g,[{name:"u27",type:"1f",value:a.tilt}]);f&&(g+="Mask");var I=X.instance({isFloat:!1,isPot:!1,width:a.size}),t={I:function(){return p},cf:function(){return t.I()},Ll:function(){return d?n.df():I},xa:function(y){ya.ka();"abort"!==g&&("none"!==g&&(ca.set(g),m&&ca.C("u28",1/a.size),I.O(),f&&b.a(1),Y.g(!1,!1),I.a(0),y=I),d&&n.process(y))},u:function(){I.remove();f&&b.remove()}};return t}},Pc={instance:function(a){function b(J){n.forEach(function(N,S){m[S][0]=J[0][N];m[S][1]=J[1][N];m[S][2]=J[2][N];
m[S][3]=J[3][N]});return m}"undefined"===typeof a.normalize&&(a.normalize=!1);var f={input:null,Yc:null,vf:null,Qa:null,Id:null,Vf:null,Wf:null},d=null,n=[],m=[],u=!1,g=null,r=!0,p=-1,D=a.isReorganize?a.isReorganize:!1,I=a.kernelsCount?!0:!1,t=a.dynPelu?bd.instance(a.dynPelu):!1,y=t?!0:!1,v={isEnabled:!1};a.pm?(a.sparsity="undefined"!==typeof a.sparsity?a.sparsity:a.Md.cf(),r=!1):"full"===a.connectivityUp&&(a.sparsity=a.Md.cf());var h={elu:"s16",elu01:"s17",relu:"s15",arctan:"s19",sigmoid:"s14",copy:"s0",
softplus:"s20",dynPelu:"s18"}[a.activation],e=a.sparsity*a.sparsity,G=!1,F=a.size,k="";if(a.maxPooling){switch(a.maxPooling.size){case 2:k="s34";break;case 4:k="s35"}G=!0;F/=a.maxPooling.size;f.Vf=X.instance({isFloat:!0,isPot:!1,width:F})}var x=void 0!==a.Pm&&a.Pm?!0:!1,w=null,O=null,L=null;if(x){w="s46"+a.index.toString();ca.Qh("s46",w,[((a.normalization.n-1)/2).toFixed(1)]);ca.f(w,[{type:"1i",name:"u1",value:0},{type:"2f",name:"u8",value:[1/a.size,1/a.size]},{type:"1f",name:"u7",value:a.normalization.alpha},
{type:"1f",name:"u10",value:a.normalization.beta},{type:"1f",name:"u31",value:a.normalization.k}]);var z={isFloat:!0,isPot:!0,width:a.size};O=X.instance(z);L=X.instance(z)}var l=-1,q=null;r&&(f.Qa=X.instance({isFloat:!0,isPot:!1,width:a.size}));f.Yc=X.instance(a.bias);var K={I:function(){return a.size},cf:function(){return F},Ah:function(){return a.classesCount},xk:function(J){d.a(J)},$m:function(){a.remap&&a.remap.isEnabled&&(v={isEnabled:!0,Jm:X.instance({isFloat:!1,isFlipY:!1,array:new Uint8Array(a.remap.maskTexture.data),
width:a.remap.maskTexture.width,isPot:!1}),Ad:a.remap.layers.map(function(J){return a.parent.Il(J)}),depth:a.remap.depth})},Tn:function(){switch(a.connectivityUp){case "direct":q=ed.instance(a.connectivity);break;case "square":q=fd.instance(a.connectivity);break;case "squareFast":q=gd.instance(a.connectivity,a.activation);break;case "full":q=hd.instance(a.connectivity);break;case "conv":p=a.kernelsCount,q=id.instance(a.connectivity),D&&(f.Id=X.instance({width:F,isFloat:!0,isFlipY:!1,isPot:!1}))}if(q.hc){var J=
a.size*a.sparsity;l=Math.log(J/a.size)/Math.log(2);f.input=X.instance({isMipmap:!0,isFloat:!0,isPot:!0,width:J,Of:l});f.vf=X.instance({isFloat:!0,isPot:!0,width:a.size})}},xa:function(J,N){d=J;q.hc?(f.input.O(),I&&f.Yc.a(2),q.xa(v),f.input.a(0),f.input.tl(l),f.vf.O(),I?ca.set("s0"):(ca.set("s28"),ca.C("u26",e),f.Yc.a(1)),f.input.yk(l,0),Y.g(!1,!1),ca.set(h),x?O.i():f.Qa.i(),f.vf.a(0),y&&t.hl(),Y.g(!1,!1)):(f.Qa.O(),f.Yc.a(1),q.xa());x&&(ca.set(w),L.i(),O.a(0),Y.g(!1,!1),ca.set("s47"),ca.C("u7",1),
f.Qa.i(),L.a(1),Y.g(!1,!1));if(r)return G?(f.Vf.O(),f.Qa.a(0),ca.set(k),ca.K("u8",1/a.size,1/a.size),Y.g(!1,!1),N=f.Vf):N=f.Qa,N.a(0),D&&(f.Id.i(),ca.set("s22"),ca.K("u13",p,F/p),Y.g(!1,!1),N=f.Id,f.Id.a(0)),N;var S=f.Qa;a.normalize&&(ca.set("gpuRawAvg"===u?"s9":"s8"),ca.C("u4",1/a.size),f.Wf.O(),f.Qa.a(0),Y.g(!1,!1),S=f.Wf);J=null;switch(u){case "cpuRGBA2Float":S.mh(!1);N?J=K.en(S).then(g):(S=K.fn(S),g(S));break;case "cpuMeanFloat":S.mh(!0);if(N)J=S.hn().then(g);else{S=S.jn();for(var aa=0;aa<S.length;++aa);
g(S)}break;case "gpuRawAvg":case "gpuRaw":S.a(0);case "none":null!==g&&g(S)}N&&null===J&&(J=Promise.resolve());return J},Nk:function(J){J&&(u=J.Xf||"none",g=J.Uf||null);f.Qa=X.instance({isFloat:!0,isPot:!0,isMipmap:!1,width:a.size});J="undefined"!==typeof a.classesCount&&a.classesCount?a.classesCount:a.size*a.size;for(var N=0,S=0,aa=0;N<J;++N)n.push(S+(a.size-1-aa)*a.size),m.push([-1,-1,-1,-1]),++S,S===a.size&&(S=0,++aa);a.normalize&&(f.Wf=X.instance({isFloat:!0,isPot:!0,width:a.size}))},en:function(J){return J.gn().then(b)},
fn:function(J){J=J.Ji();b(J);return m},u:function(){for(var J in f){var N=f[J];N&&N.remove()}q&&(q.u(),q=null)}};a.Md&&K.Tn(a.Md);return K}},ed={instance:function(a){var b=X.instance(a.weights);return{hc:!0,rd:function(){return 1},u:function(){b.remove()},Yl:function(){return b},xa:function(){ca.set("s27");b.a(1);Y.g(!1,!1)}}}},hd={instance:function(a){var b=a.fromLayerSize,f=X.instance(a.weights);return{hc:!0,rd:function(){return b},u:function(){f.remove()},xa:function(d){if(d.isEnabled){ca.set("s25");
d.Jm.a(3);var n,m=Math.min(d.Ad.length,d.depth);for(n=0;n<m;++n)d.Ad[n].xk(4+n)}else ca.set("s24");ca.C("u17",a.toLayerSize);f.a(1);Y.g(!1,!1)}}}},fd={instance:function(a){for(var b=a.fromLayerSize,f=a.toLayerSize,d=a.toSparsity,n=d*f,m=n/b,u=b/f,g=0,r=0,p=0,D=Array(d*f*d*f*4),I=Array(d*f*d*f*4),t=Array(b*b),y=0;y<t.length;++y)t[y]=0;y=Math.floor(d/2);for(var v=.5/f,h=.5/b,e=.5/n,G=0;G<f;++G)for(var F=Math.round(G*u),k=0;k<f;++k){var x=Math.round(k*u),w=G/f,O=k/f;w+=v;O+=v;for(var L=0;L<d;++L){var z=
F+L-y;0>z&&(z+=b);z>=b&&(z-=b);for(var l=0;l<d;++l){var q=g/n,K=r/n,J=x+l-y;0>J&&(J+=b);J>=b&&(J-=b);var N=z/b,S=J/b;K=1-K-1/n;N+=h;S+=h;q+=e;K+=e;var aa=G*d+L,W=k*d+l;W=f*d-W-1;aa=W*f*d+aa;D[4*aa]=q;D[4*aa+1]=K;D[4*aa+2]=N;D[4*aa+3]=S;S=t[J*b+z]++;aa=S%m;N=z*m+aa;J=J*m+(S-aa)/m;J=b*m-1-J;J=J*b*m+N;I[4*J]=q;I[4*J+1]=K;I[4*J+2]=w;I[4*J+3]=O;++g>=n&&(g=0,++r);++p}}}t=null;var P=X.instance(a.weights);delete a.weights.data;var A=X.instance({width:n,isFloat:!0,array:new Float32Array(I),isPot:!0});I=null;
var B=X.instance({width:n,isFloat:!0,array:new Float32Array(D),isPot:!0});D=null;return{hc:!0,rd:function(){return m},u:function(){A.remove();B.remove();P.remove()},xa:function(){ca.set("s23");P.a(1);B.a(2);Y.g(!1,!1)}}}},id={instance:function(a){var b=a.kernelsCount,f=a.toSparsity,d=f*a.toLayerSize/a.fromLayerSize,n=X.instance(a.weights);return{hc:!0,rd:function(){return d},Gp:function(){return f},Yl:function(){return n},u:function(){n.remove()},xa:function(){ca.set("s26");ca.C("u23",b);ca.C("u24",
f);ca.C("u17",a.toLayerSize);ca.C("u25",a.fromLayerSize);n.a(1);Y.g(!1,!1)}}}},gd={instance:function(a,b){var f=a.fromLayerSize,d=a.toLayerSize,n=a.toSparsity,m=a.stride?a.stride:1,u=n*d/f,g=d<f,r=f/d,p=X.instance(a.weights),D="s48"+[f.toString(),d.toString(),n.toString(),m.toString(),b].join("_");ca.rl(D)||(a=Db(b),d=[{type:"1f",name:"u17",value:d},{type:"1f",name:"u30",value:m}],g&&d.push({type:"1f",name:"u25",value:f}),f=[(g?u:n).toFixed(1),a],g&&f.push(r.toFixed(1)),ca.Qh(g?"s40":"s39",D,f),ca.f(D,
d.concat([{type:"1i",name:"u15",value:0},{type:"1i",name:"u22",value:1},{type:"1i",name:"u14",value:3}])));return{hc:!1,rd:function(){return u},u:function(){p.remove()},xa:function(){ca.set(D);p.a(3);Y.g(!1,!1)}}}},cd={instance:function(a){var b=a.si?a.si:3,f=a.Uh?a.Uh:64,d=a.yi?a.yi:64,n=a.yd?!0:!1;a={isFloat:!1,width:f,isPot:!1,isFlipY:!1};var m=X.instance(a),u=X.instance(a),g=X.instance(a),r=X.instance(a),p=X.instance({isFloat:!0,width:d,isPot:!1,isFlipY:!1}),D=1/f;return{process:function(I){ca.set("s36");
r.i();Y.g(n,!1);ca.set("s37");for(var t=0;t<b;++t)m.i(),ca.K("u8",D,0),Y.g(n,!1),g.i(),r.a(0),Y.g(n,!1),u.i(),m.a(0),ca.K("u8",0,D),Y.g(n,!1),r.i(),g.a(0),Y.g(n,!1),t!==b-1&&u.a(0);ca.set("s38");p.i();I.a(0);u.a(1);r.a(2);Y.g(n,!1);p.a(0)},df:function(){return p}}}},dd={instance:function(a){function b(r){return X.instance({isFloat:r,width:f.ta,isPot:!1,isFlipY:!1})}var f=Object.assign({Dj:.1,Vg:9,ta:128,yd:!1},a),d=b(!1),n=[b(!1),b(!1),b(!1)],m=[b(!1),b(!1),b(!1)],u=b(!0),g=[d,m[0],m[1]];a={u1:0};
ca.te([{id:"s50",name:"_",b:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(.2126,.7152,.0722),g=vec3(1.,1.,1.);void main(){vec3 b=texture2D(u1,vv0).rgb;float a=dot(b,f);gl_FragColor=vec4(a,a,a,a);}",l:a,c:["u1"],precision:"lowp"},{id:"s51",name:"_",b:"uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u32;varying vec2 vv0;void main(){float b=0.,c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u32*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j).r,c+=f;}b/=c,gl_FragColor=vec4(b,0.,0.,1.);}".replace("1.1111",
Math.round((f.Vg-1)/2).toFixed(2)).replace("2.2222",(1/f.ta).toFixed(6)),l:a,c:["u1","u32"],precision:"lowp"},{id:"s52",name:"_",b:"uniform sampler2D u33,u34,u35,u36;const float f=1.1111;const vec3 g=vec3(1.,1.,1.);varying vec2 vv0;void main(){vec3 a=texture2D(u33,vv0).rgb;float c=texture2D(u34,vv0).r,d=texture2D(u35,vv0).r,h=texture2D(u36,vv0).r,i=a.r*a.r;vec3 b=vec3(c,d,h),j=max(g*f,abs(i-b*b)),k=sqrt(j);gl_FragColor=vec4(a.r,(a-b)/k);}".replace("1.1111",f.Dj.toFixed(4)),l:{u33:0,u34:1,u35:2,u36:3},
c:["u33","u34","u35","u36"],precision:"highp"}]);return{process:function(){ca.set("s50");d.O();Y.g(f.yd,!1);ca.set("s51");for(var r=0;3>r;++r)ca.K("u32",1,0),n[r].i(),g[r].a(0),Y.g(!1,!1),ca.K("u32",0,1),m[r].i(),n[r].a(0),Y.g(!1,!1);ca.set("s52");u.i();d.a(0);m[0].a(1);m[1].a(2);m[2].a(3);Y.g(!1,!1);u.a(0)},df:function(){return u}}}},vb=function(){function a(v,h,e,G,F,k,x){if(!t)if(x===k.length)F();else{switch(k[x]){case "A":e();break;case "D":v();break;case "S":h().then(function(w,O){y.tj();a(v,
h,e,O?null:G,F,k,++x)}).catch(function(w){F();throw w;});return;case "R":G&&G()}a(v,h,e,G,F,k,++x)}}var b={n:5,Sf:1,ii:0,nd:[35,49],jd:[2,200],k:.7,so:200,Vm:.05},f=-1,d=null,n=-1,m=-1,u=0,g=-1,r=-1,p=0,D=0,I=b.jd[1],t=!0,y={P:function(){switch(f){case -1:return-1;case 0:return r+d.ii;case 1:return p}},Bh:function(v){return Math.pow(Math.min(Math.max(g,0),d.n-1)/(d.n-1),v||1)},h:function(v){d=Object.assign({},b,v);g=r=d.Sf;f=0;y.reset()},tj:function(v){v=("undefined"===typeof v?Date.now():v)||0;var h=
Math.min(Math.max(v-D,d.jd[0]),d.jd[1]);I=h;D=v;var e=-1===n?0:d.k;n=Math.min(Math.max(1E3/h,5),120)*(1-e)+n*e;v-m>d.so&&5<++u&&(h=d.k,g=g*(1-h)+(n<d.nd[0]?r-1:n>d.nd[1]?r+1:r)*h,Math.abs(g-r)>1-d.Vm&&(h=Math.min(Math.max(Math.round(g),0),d.n-1),h!==r&&(g=r=h,n=(d.nd[1]-d.nd[0])/2)),m=v)},bg:function(v,h,e,G,F,k){t=!1;a(v,h,e,G,F,k,0)},stop:function(){t=!0},Nn:function(v){p=v;f=1},ro:function(){f=0;y.reset()},reset:function(){I=b.jd[1];m=n=-1;u=0},Bl:function(){return I}};return y}(),Ac=function(){var a=
{ti:4,Jd:[1.5,1.5,2],Sa:[.1,.1,.1],Qi:1,ta:-1,rf:-1,ko:2,Sm:1,Ri:!0,ql:.8},b=null,f=[],d=[0],n=[.5,.5,1];return{h:function(m){b=Object.assign({},a,m);f.splice(0);m=b.Jd[0]*b.Sa[0];var u=b.Jd[1]*b.Sa[1],g=1/(1+b.Jd[2]*b.Sa[2]),r=b.Qi*Math.min(b.ta,b.rf),p=r/b.ta;r/=b.rf;var D=.5*b.ql;D*=D;for(var I=0;I<b.ti;++I){var t=Math.pow(g,I),y=p*t,v=r*t;t=y*b.Sm;var h=y*m,e=v*u;y/=2;v/=2;for(var G=1+(1-y-y)/h,F=1+(1-v-v)/e,k=0;k<F;++k)for(var x=v+k*e,w=x-.5,O=0;O<G;++O){var L=y+O*h,z=L-.5;z*z+w*w>D||f.push([L,
x,t])}}b.Ri&&f.sort(function(l,q){var K=l[0]-.5;l=l[1]-.5;var J=q[0]-.5;q=q[1]-.5;return K*K+l*l-(J*J+q*q)})},get:function(m){var u=f.length;if(0===u)return n;for(;m>=d.length;)d.push(0);d[m]>=u&&(d[m]=0);var g=f[Math.floor(d[m])];d[m]=(d[m]+1/b.ko)%u;return g},reset:function(){for(var m=f.length/d.length,u=0;u<d.length;++u)d[u]=Math.floor(u*m)}}}(),wb=function(){function a(){f(h+y.Pf);e.port.postMessage("DONE")}function b(){var l=y.ja;w.isEnabled&&(l=Math.max(l,w.ja));x.Xc=0===l?F(f):F(d)}function f(l){k.Ub&&
null!==v&&(l-=h,l=Math.min(Math.max(l,y.ph[0]),y.ph[1]),h+=l,m(),w.isEnabled&&w.yc&&k.Na&&h-w.zf>y.Qg&&(p(),w.zf=h),v(h))}function d(l){k.Ub&&(x.timeout=window.setTimeout(f.bind(null,l),y.ja))}function n(){v=null;k.Ub=!1;m()}function m(){x.Xc&&(window.cancelAnimationFrame(x.Xc),x.Xc=null);x.timeout&&(window.clearTimeout(x.timeout),x.timeout=null)}function u(l){l&&!k.Na?(k.Na=!0,G&&vb.ro(),e.port.postMessage("STOP"),Aa.uj(!0),b()):!l&&k.Na&&(k.Na=!1,G&&vb.Nn(1),Aa.uj(!1),e.port.postMessage("START"))}
function g(l){l.target.hidden?L():O()}function r(l,q,K){q=l.createShader(q);l.shaderSource(q,K);l.compileShader(q);return q}function p(){w.yc=!1;var l=w.Wa,q=w.td,K=w.ud,J=w.Ma;l.uniform1f(w.Kh,Math.random());w.Vb?q.beginQueryEXT(J,K):l.beginQuery(J,K);l.drawElements(l.POINTS,1,l.UNSIGNED_SHORT,0);w.Vb?q.endQueryEXT(J):l.endQuery(J);Aa.flush();I().then(function(N){N=y.Nj*y.Og*1E3/N;w.fe=(w.fe+1)%y.mc;w.Af[w.fe]=N;if(++w.gi>y.mc){w.zd.set(w.Af);w.zd.sort(function(aa,W){return aa-W});N=w.zd[Math.floor(y.mc/
2)];w.md=Math.max(w.md,N);var S=0;for(S=0;S<w.Cg&&!(N>w.md*(1-(y.Pg[S]+y.Oj*(S>=w.$d?1:-1))));++S)S===w.Cg-1&&++S;S!==w.$d&&(console.log("THERMAL THROTTLING LEVEL = "+S.toString()),w.$d=S,w.ja=0===S?0:y.Mj[S-1],y.Ng&&y.Ng(S))}w.yc=!0}).catch(function(){w.yc=!0})}function D(l){var q=w.Wa,K=w.td,J=w.ud,N=!1;w.Vb?N=K.tp(J,K.QUERY_RESULT_AVAILABLE_EXT):N=q.getQueryParameter(J,q.QUERY_RESULT_AVAILABLE);q=q.getParameter(K.GPU_DISJOINT_EXT);N?l(!q):setTimeout(D.bind(null,l),.1)}function I(){return new Promise(function(l,
q){D(function(K){if(K){K=w.Wa;var J=w.td,N=w.ud;K=w.Vb?J.getQueryObjectEXT(N,J.QUERY_RESULT_EXT):K.getQueryParameter(N,K.QUERY_RESULT);l(K)}else q()})})}var t={Zh:!0,ph:[1,200],Pf:20,ja:0,Pj:!1,Og:50,Nj:240,Qg:3E3,mc:3,Pg:[.2,.35,.5],Oj:.05,Mj:[8,20,40],Ng:null},y=null,v=null,h=0,e=null,G=!1,F=null,k={Ea:!1,Na:!0,yf:!1,xf:!1,wf:!1,Ub:!1},x={Xc:null,timeout:null},w={isEnabled:!1,yc:!1,Wa:null,td:null,ud:null,Ma:null,Kh:null,Vb:!0,$d:0,Cg:0,ja:0,zf:0,gi:0,Af:null,zd:null,fe:0,md:0},O=u.bind(null,!0),
L=u.bind(null,!1),z={h:function(l){y=Object.assign(t,l);Object.assign(k,{Na:!0,Ea:!0,Ub:!1});F=window.requestPostAnimationFrame||window.requestAnimationFrame;if(y.Pj){l=document.createElement("canvas");l.setAttribute("width","1");l.setAttribute("height","1");var q={antialias:!1};l=l.getContext("webgl2",q)||l.getContext("webgl",q);if(q=l.getExtension("EXT_disjoint_timer_query")||l.getExtension("EXT_disjoint_timer_query_webgl2")){w.Wa=l;w.td=q;w.isEnabled=!0;w.Vb=q.beginQueryEXT?!0:!1;var K=r(l,l.VERTEX_SHADER,
"attribute vec4 a0;void main(){gl_Position=a0;}"),J=r(l,l.FRAGMENT_SHADER,"precision lowp float;uniform float u37;void main(){vec4 a=u37*vec4(1.,2.,3.,4.);for(int b=0;b<666;b+=1)a=cos(a);gl_FragColor=a;}".replace("666",y.Og.toString())),N=l.createProgram();l.attachShader(N,K);l.attachShader(N,J);l.linkProgram(N);K=l.getAttribLocation(N,"a0");w.Kh=l.getUniformLocation(N,"u37");l.useProgram(N);l.enableVertexAttribArray(K);N=l.createBuffer();l.bindBuffer(l.ARRAY_BUFFER,N);l.bufferData(l.ARRAY_BUFFER,
new Float32Array([.5,.5,0,1]),l.STATIC_DRAW);l.vertexAttribPointer(K,4,l.FLOAT,!1,16,0);N=l.createBuffer();l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,N);l.bufferData(l.ELEMENT_ARRAY_BUFFER,new Uint16Array([0]),l.STATIC_DRAW);l.disable(l.DEPTH_TEST);l.disable(l.DITHER);l.disable(l.STENCIL_TEST);l.viewport(0,0,1,1);N=w.Vb?q.createQueryEXT():l.createQuery();w.ud=N;w.Ma=q.TIME_ELAPSED_EXT||l.TIME_ELAPSED;w.$d=0;w.Cg=y.Pg.length;w.ja=0;w.zf=-y.Qg;w.Af=new Float32Array(y.mc);w.zd=new Float32Array(y.mc);w.md=0;
w.fe=0;w.gi=0;w.yc=!0}}if(y.Zh){l=!1;try{if("undefined"===typeof SharedWorker){var S=URL.createObjectURL(new Blob(["let handler = null;\n      self.addEventListener('message', function(e){\n        if (handler !== null){\n          clearTimeout(handler);\n          handler = null;\n        }\n        switch (e.data) {\n          case 'START':\n          case 'DONE':\n            handler = setTimeout(function(){\n              self.postMessage('TICK');\n            }, "+y.Pf.toString()+");\n            break;\n          case 'STOP':\n            break;\n        };\n      }, false);"],
{type:"text/javascript"})),aa=new Worker(S);aa.addEventListener("message",a);e={Hi:aa,port:aa};k.yf=!0}else{var W=URL.createObjectURL(new Blob(["let handler = null;\n      onconnect = function(e) {\n        const port = e.ports[0];\n        port.addEventListener('message', function(e) {\n          \n          if (handler !== null){\n            clearTimeout(handler);\n            handler = null;\n          }\n          switch (e.data) {\n            case 'START':\n            case 'DONE':\n              handler = setTimeout(function(){\n                port.postMessage('TICK');\n              }, "+
y.Pf.toString()+");\n              break;\n            case 'STOP':\n              break;\n          };\n          \n        });\n        \n        port.start();\n      } // end onconnect()"],{type:"text/javascript"})),P=new SharedWorker(W);P.port.start();P.port.addEventListener("message",a);e={Hi:P,port:P.port};k.xf=!0}l=!0}catch(A){}l&&("onvisibilitychange"in document?document.addEventListener("visibilitychange",g):(window.addEventListener("blur",L),window.addEventListener("focus",O)),k.wf=!0)}G=
"undefined"!==typeof vb},u:function(){n();k.wf&&("onvisibilitychange"in document?document.removeEventListener("visibilitychange",g):(window.removeEventListener("blur",L),window.removeEventListener("focus",O)),k.wf=!1);k.xf?(e.port.close(),k.xf=!1):k.yf&&(e.Hi.terminate(),k.yf=!1);Object.assign(k,{Na:!0,Ea:!1,Ub:!1});v=null},Pp:function(){return k.Na},update:function(l){Object.assign(y,l)},bg:function(l){k.Ea||z.h({});m();k.Ub=!0;v=l;k.Na&&b()},stop:n};return z}(),tb=function(){function a(V){switch(O){case w.movePinch:var fa=
-V.deltaY;0===L&&h("pinch",-1,.001*fa,null)}V.deltaY;V.preventDefault()}function b(V){if(-1!==L)switch(O){case w.swipe:if(1!==L)break;r();D(V,l);var fa=l[0]-z[0];n(fa);V=fa/(20*F.offsetWidth/100);h("swipeMove",Math.min(Math.max(V,-1),1),V,null);break;case w.movePinch:if(2===L||3===L){D(V,l);fa=l[0]-z[0];var xa=l[1]-z[1];2===L?(ja+=Math.sqrt(fa*fa+xa*xa),10>ja?(z[0]=l[0],z[1]=l[1]):(Pa||(Pa=!0,h("moveStart",null,null,null)),ka[0]=fa,ka[1]=xa,K[0]=fa-q[0],K[1]=xa-q[1],h("move",ka,K,null),q[0]=ka[0],
q[1]=ka[1])):3===L&&(V=p(V)/Ca,h("pinch",V,V-Ka,null),Ka=V)}}}function f(V){if(-1!==L)switch(O){case w.swipe:if(1!==L)break;r();D(V,l);V=l[0]-z[0];var fa=0>V;(V=20<100*Math.abs(V)/F.offsetWidth)&&fa?h("swipeLeft",J,null,null):V&&!fa&&h("swipeRight",J,null,null);var xa=function(){setTimeout(function(){g();L=0;h("swipeEnd",null,null,null)},202)};V?(V=function(){var Ja=(fa?-1:1)*F.width,ma=(fa?1:-1)*Ja/F.width;J.style.transitionDuration=(400).toString()+"ms";J.style.left=(P[0]+Ja).toString()+"px";J.style.top=
P[1].toString()+"px";J.style.transform="rotate( "+ma.toString()+"rad )";xa()},W?V():A=V):(J.style.transitionDuration=(200).toString()+"ms",J.style.opacity="0",J.style.left=P[0].toString()+"px",J.style.top=P[1].toString()+"px",J.style.transform="",xa());L=-1;break;case w.movePinch:if(2===L||3===L)L===L.move?h("moveEnd",null,null,null):3===L&&h("pinchEnd",null,null,null),L=0}}function d(V){V.preventDefault();if(-1!==L)switch(O){case w.swipe:if(0!==L)break;r();L=1;B=setTimeout(function(){g();B=null;
1===L&&(L=0,h("swipeEnd",null,null,null))},1E3);m();h("swipeStart",null,null,null);h("swipeGetCanvas",J,S,N);D(V,z);break;case w.movePinch:0!==L?2!==L||Pa||void 0===V.changedTouches&&void 0===V.touches||(Ca=p(V),20<Ca&&(L=3,Ka=1,h("pinchStart",null,null,null))):3!==L&&(Pa=!1,D(V,z),q[0]=0,q[1]=0,L=2,ja=0)}}function n(V){var fa=0>V;J.style.left=P[0]+V+"px";J.style.transformOrigin=fa?Q:C;J.style.transform="rotate( "+((fa?1:-1)*V/F.width).toString()+"rad )"}function m(){W=!1;var V=F.getBoundingClientRect();
P[0]=V.left;P[1]=V.top;J.width=Math.round(F.width/4);J.height=Math.round(F.height/4);N.width=J.width;N.height=J.height;J.style.width=F.offsetWidth+"px";J.style.height=F.offsetHeight+"px";J.style.left=P[0]+"px";J.style.top=P[1]+"px";setTimeout(u,0)}function u(){S.drawImage(F,0,0,J.width,J.height);aa.drawImage(J,0,0);W=!0;document.body.appendChild(J);A&&(A(),A=!1)}function g(){J.style.transitionDuration="0ms";J.style.opacity="1";J.style.transform="";W&&(document.body.removeChild(J),W=!1)}function r(){B&&
(window.clearTimeout(B),B=null)}function p(V){I(V,Na,0);I(V,la,1);return Math.sqrt(Na[0]*Na[0]+la[0]*la[0])}function D(V,fa){void 0!==V.changedTouches||void 0!==V.touches?I(V,fa,0):(fa[0]=V.pageX,fa[1]=V.pageY)}function I(V,fa,xa){V.touches.length>xa?(fa[0]=V.touches[xa].pageX,fa[1]=V.touches[xa].pageY):(fa[0]=V.changedTouches[xa].pageX,fa[1]=V.changedTouches[xa].pageY)}function t(){x.forEach(function(V){F.removeEventListener(V.type,V.pb,!1)});return x.splice(0,x.length)}function y(V){V.forEach(function(fa){v(fa.type,
fa.pb)})}function v(V,fa){F.removeEventListener(V,fa,!1);J.removeEventListener(V,fa,!1);F.addEventListener(V,fa,!1);J.addEventListener(V,fa,!1);0===x.filter(function(xa){return xa.type===V&&xa.pb===fa}).length&&x.push({type:V,pb:fa})}function h(V,fa,xa,Ja){k[V].forEach(function(ma){ma.pb(fa,xa,Ja)})}function e(V){return V[0]+"% "+(100-V[1]).toString()+"%"}var G=!1,F=null,k={swipeStart:[],swipeEnd:[],swipeLeft:[],swipeRight:[],swipeMove:[],swipeGetCanvas:[],pinch:[],pinchStart:[],pinchEnd:[],move:[],
moveStart:[],moveEnd:[]},x=[],w={idle:0,swipe:1,movePinch:2},O=w.idle,L=0,z=[0,0],l=[0,0],q=[0,0],K=[0,0],J=document.createElement("canvas"),N=document.createElement("canvas"),S=J.getContext("2d"),aa=N.getContext("2d");J.style.position="fixed";J.style.zIndex="800";J.style.cursor="move";J.style.pointerEvents="none";J.className="swipeImage";J.setAttribute("draggable",!1);var W=!1,P=[0,0],A=null,B=null,C=e([50,100]),Q=e([50,0]),ea=null,ja=0,ka=[0,0],Ca=0,Pa=!1,Ka=1,Na=[0,0],la=[0,0],ia={init:function(V){if(G)ia.switch_canvas(V.qa);
else return F=V.qa,v("mousedown",d),v("mouseup",f),v("mouseout",f),v("mousemove",b),v("mousemove",b),v("wheel",a),v("touchstart",d),v("touchend",f),v("touchmove",b),G=!0,ia},switch_canvas:function(V){if(!G)ia.init({qa:V});else if(F!==V){var fa=t();F=V;y(fa);for(var xa in k)for(V=k[xa],fa=V.length-1;0<=fa;--fa)V[fa].mn&&V.splice(fa,1)}},get_mode:function(){for(var V in w)if(w[V]===O)return V;return!1},switch_mode:function(V){G&&"undefined"!==typeof w[V]&&(V=w[V],O!==V&&(r(),O=V,L=0))},add_listener:function(V,
fa,xa){k[V].push({pb:fa,mn:"undefined"===typeof xa?!1:xa});return ia},remove_listener:function(V){k[V].splice(0,k[V].length);return ia},animate_swipe:function(V,fa){ea&&(clearInterval(ea),ea=null);m();var xa=F.width/(fa/1E3)*("left"===V?-1:1),Ja=0,ma,ob=Date.now();ea=setInterval(function(){ea&&(ma=Date.now(),Ja+=(ma-ob)/1E3*xa,n(Ja),ob=ma,Math.abs(Ja)>.75*F.width&&ea&&(clearInterval(ea),ea=null,g()))},16)}};return ia}();window.CanvasListeners=tb;var R={VERSION:"3.2.3",Uc:[],Tc:[],qe:!1,pe:!1,re:!1,
ready:!1,isBusy:!1},Za={idealWidth:800,idealHeight:600,minWidth:480,maxWidth:1280,minHeight:480,maxHeight:1280,FOVdesktop:60,rotate:0,Lj:23,me:10,le:8E3},Cc={Qf:"models3D",Nf:"materials",oo:"tweakers",neuralNetworkPath:"built/jeefitNNC.json",Y:"",ua:"",oe:"",ja:0,Xj:20,width:1024,height:1024,Um:[2,3.5],Oi:300,Rc:[2,6],scanOverlapFactors:[2,2,3],scanNScaleLevels:2,scanScale0Factor:.7,Sa:[.1,.1,.3],mo:30,Wk:1.92,cn:[.3,.65],bn:1,no:[.05,.1],tn:[.02,.04],vg:[0,.6],ya:[.7,1.13,.262],sj:[-.1,0,0],Ha:[0,
-62,8],xb:1.03,Ga:[0,-60,0],Rf:60,Vk:.3,Ye:73,ve:[.01,.9],ue:[4,1],ze:[.5,.7],wn:.25,sn:1,Eo:20,qp:!1,wc:145,qf:-18,mf:20,pf:3,ma:[-110,0],ec:1,ij:.4,jj:3,Ud:[0,0,0],fc:[1.1,1],cd:0,Oe:.95,Ne:90,Me:50,wa:30,pa:.05,kf:!0,Dd:!0,Kf:"images/masks/target.jpg",Lf:!1,Cd:[1/255,175/255,236/255,0],Ed:-.001,Jf:3.14,Be:0,Ae:"images/masks/burka.png",we:Math.PI-Math.PI/4,Ke:Math.PI/4,ag:[.3,.2,.1],Xb:1,Bd:[700,90],If:[.2,.04],Fo:"images/backgrounds/viewer3D.png",Mg:[0,0,0],Lg:[0,15,60],je:.3,No:50,Jo:Ic?Va:!1,
Ko:Ic?Va:!1,Mo:1E3,Po:1E3,Lo:40,Io:[0,0,-400],mi:.1,Hm:.5,ni:[.5,1.5],Fd:30,Gm:!0},H=Object.assign({},Cc);T.model=!1;T.Zb=1;T.Ld=1;T.hh=!0;T.ih=!0;T.gh=!1;T.Oa=!0;var $a={dg:3.5,$b:"images/debug/picsou.png",Nd:45,Ff:.785,Gf:.3925,Hf:5,Df:2,Ef:0,Cf:0,Go:"images/backgrounds/bg1.jpg",Ho:"images/backgrounds/bg1_light.jpg",Gj:1,Hj:2};H.ya=[.7,1.13,.262];H.sp=[4,50];H.ma=[-110,0];H.ij=.25;H.jj=3;H.Ud=[0,-2,20];H.fc=[.95,1];T.Zb=2.1289;T.Ld=1;$a.dg=2.5858;$a.Ff=.4388;$a.Gf=.118;$a.$b="images/debug/hdri2.png";
$a.Nd=180;$a.cg=.8065;$a.Hf=5.3887;$a.Df=.5351;$a.Ef=-.3019;$a.Cf=0;$a.Gj=3.5288;$a.Hj=6.2168;H.ya[0]*=.8;H.ya[1]*=.7;var Bc={element:null,eh:null,ha:null,Bg:null,deviceId:-1,Ob:-1,Fi:null,ie:-1},Fa=Object.assign({},Bc),bb=null,Lb=-1,Mb=-1,Lc=H.Um,tc=window.devicePixelRatio?window.devicePixelRatio:1;var Xb={sl:Math.max(Lc[0],tc)/tc,ld:Math.min(tc,Lc[1])};var cb=null;R.onLoad=function(a){R.ready?a():R.Uc.push(a)};R.onHalfLoad=function(a){R.load_model?a():R.Tc.push(a)};R.onWebcamAsk=function(a){R.qe=
a};R.onContextLost=function(a){R.pe=a};R.onWebcamGet=function(a){R.re=a};R.get_onHalfLoadCallstack=function(){return R.Tc};R.set_size=function(a,b,f){f=f?Xb.ld:1;H.width=a*f;H.height=b*f};R.get_videoDevices=function(a){Qc(a)};R.set_videoDevice=function(a){Fa.deviceId=a};R.set_videoSizes=function(a,b,f,d,n,m){Za.idealWidth=a;Za.idealHeight=b;Za.minWidth=f;Za.maxWidth=d;Za.minHeight=n;Za.maxHeight=m};R.set_loading=function(a,b,f){a&&(H.Lf=!0,H.Kf=a);"number"===typeof b&&(a=new Nb(b),H.Cd=[a.r,a.ba,
a.J,0]);"number"===typeof f&&(H.Ed=f)};R.set_settings=function(a,b,f){a&&Object.assign(H,a);b&&Object.assign(Za,b);f&&Object.assign($a,f)};R.get_size=function(){return{width:H.width,height:H.height}};R.get_cv=function(){return eb.qb()};R.set_NNCPath=function(a){H.oe=a};R.set_materialsPath=function(a){H.Nf=a};R.set_modelsPath=function(a){H.Qf=a};R.destroy=function(){return cb?cb.u():Promise.resolve()};R.init=function(a,b,f,d){cb=Rc();R.mb=f?function(n,m){f(n,m);R.mb=!1}:function(){};R.To=cb;a&&(H.Y=
a);b&&R.Uc.push(b);cb.lo();if(!eb.h({Je:"jeefitCanvas",qa:d,width:Lb,height:Mb,debug:!1,Tf:function(){R.pe&&R.pe()},premultipliedAlpha:!0}))return R.mb&&R.mb("GL_INCOMPATIBLE","Cannot init Context"),!1;R.qe&&R.qe();a={width:{min:Za.minWidth,max:Za.maxWidth,ideal:Za.idealWidth},height:{min:Za.minHeight,max:Za.maxHeight,ideal:Za.idealHeight},facingMode:{ideal:"user"}};b={video:a,audio:!1};Fa.eh=b;a&&-1!==Fa.deviceId&&Vb(b,Fa.deviceId);yc(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?document.createElement("video"):
!1,function(n){R.re&&R.re(n);Fa.element=n;n=Fa.element.videoWidth;var m=Fa.element.videoHeight;Fa.Bg={fa:Fa.element,isPot:!1,isFloat:!1,isFlipY:!0};Fa.ha=X.instance(Fa.Bg);cb.ng(n,m);cb.uf(n,m)&&cb.ug()},function(n){R.mb&&R.mb("WEBCAM_UNAVAILABLE",n)},b);return!0};JEELIZVTO=R;var Ec=function(){function a(){ya.X();c.viewport(0,0,1,1);ca.set("s64");d.a(0);Y.g(!1);c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,m);b(0<m[0])}var b=null,f=!1,d=null,n=!1,m=null,u={h:function(g){if(n)return!1;d=g;ca.te([{id:"s64",
name:"_",b:"uniform sampler2D u39;const vec2 e=vec2(.16,.5);void main(){vec4 a=texture2D(u39,e);float b=step(1.99,a.r);gl_FragColor=vec4(b,0.,0.,1.);}",c:["u39"],precision:"lowp"}]);ca.f("s64",[{type:"1i",name:"u39",value:0}]);m=new Uint8Array(4);return n=!0},start:function(g,r){u.stop();b=r;f=window.setInterval(a,g)},stop:function(){f&&(window.clearInterval(a),f=!1)}};return u}(),jc=jc||{};Nb.prototype={constructor:Nb,r:1,ba:1,J:1,set:function(a){a instanceof Nb?this.B(a):"number"===typeof a?Fc(this,
a):"string"===typeof a&&Uc(this,a);return this},zn:function(){function a(b,f,d){0>d&&(d+=1);1<d&&--d;return d<1/6?b+6*(f-b)*d:.5>d?f:d<2/3?b+6*(f-b)*(2/3-d):b}return function(b,f,d){b=jc.Math.rp(b,1);f=jc.Math.Ee(f,0,1);d=jc.Math.Ee(d,0,1);0===f?this.r=this.ba=this.J=d:(f=.5>=d?d*(1+f):d+f-d*f,d=2*d-f,this.r=a(d,f,b+1/3),this.ba=a(d,f,b),this.J=a(d,f,b-1/3));return this}}(),clone:function(){return new this.constructor(this.r,this.ba,this.J)},B:function(a){this.r=a.r;this.ba=a.ba;this.J=a.J;return this},
add:function(a){this.r+=a.r;this.ba+=a.ba;this.J+=a.J;return this},Fa:function(a){this.r*=a;this.ba*=a;this.J*=a;return this},ob:function(a,b){void 0===b&&(b=0);this.r=a[b];this.ba=a[b+1];this.J=a[b+2];return this}};var Vc={};Zb.prototype={constructor:Zb,get x(){return this.m},set x(a){this.m=a},get y(){return this.o},set y(a){this.o=a},get z(){return this.s},set z(a){this.s=a},get w(){return this.G},set w(a){this.G=a},set:function(a,b,f,d){this.m=a;this.o=b;this.s=f;this.G=d;return this},clone:function(){return new this.constructor(this.m,
this.o,this.s,this.G)},B:function(a){this.m=a.x;this.o=a.y;this.s=a.z;this.G=a.w;return this},inverse:function(){this.m*=-1;this.o*=-1;this.s*=-1;this.normalize();return this},ed:function(a){return this.m*a.m+this.o*a.o+this.s*a.s+this.G*a.G},Bf:function(){return this.m*this.m+this.o*this.o+this.s*this.s+this.G*this.G},length:function(){return Math.sqrt(this.m*this.m+this.o*this.o+this.s*this.s+this.G*this.G)},normalize:function(){var a=this.length();0===a?(this.s=this.o=this.m=0,this.G=1):(a=1/a,
this.m*=a,this.o*=a,this.s*=a,this.G*=a);return this},kj:function(a,b){if(0===b)return this;if(1===b)return this.B(a);var f=this.m,d=this.o,n=this.s,m=this.G,u=m*a.G+f*a.m+d*a.o+n*a.s;0>u?(this.G=-a.G,this.m=-a.m,this.o=-a.o,this.s=-a.s,u=-u):this.B(a);if(1<=u)return this.G=m,this.m=f,this.o=d,this.s=n,this;a=Math.acos(u);var g=Math.sqrt(1-u*u);if(.001>Math.abs(g))return this.G=.5*(m+this.G),this.m=.5*(f+this.m),this.o=.5*(d+this.o),this.s=.5*(n+this.s),this;u=Math.sin((1-b)*a)/g;b=Math.sin(b*a)/
g;this.G=m*u+this.G*b;this.m=f*u+this.m*b;this.o=d*u+this.o*b;this.s=n*u+this.s*b;return this},ob:function(a,b){void 0===b&&(b=0);this.m=a[b];this.o=a[b+1];this.s=a[b+2];this.G=a[b+3];return this}};Zb.kj=function(a,b,f,d){return f.B(a).kj(b,d)};Ob.prototype={constructor:Ob,get width(){return this.x},set width(a){this.x=a},get height(){return this.y},set height(a){this.y=a},set:function(a,b){this.x=a;this.y=b;return this},Ui:function(a){this.x=a;return this},Vi:function(a){this.y=a;return this},clone:function(){return new this.constructor(this.x,
this.y)},B:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.Vc(a,b);this.x+=a.x;this.y+=a.y;return this},Vc:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},sub:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.eb(a,b);this.x-=a.x;this.y-=a.y;return this},
eb:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},Fa:function(a){isFinite(a)?(this.x*=a,this.y*=a):this.y=this.x=0;return this},Se:function(a){return this.Fa(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this},Ee:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));return this},floor:function(){this.x=Math.floor(this.x);
this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},ed:function(a){return this.x*a.x+this.y*a.y},Bf:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.Se(this.length())},ob:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this}};Qa.prototype={constructor:Qa,
set:function(a,b,f){this.x=a;this.y=b;this.z=f;return this},Ui:function(a){this.x=a;return this},Vi:function(a){this.y=a;return this},clone:function(){return new this.constructor(this.x,this.y,this.z)},B:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.Vc(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},Vc:function(a,b){this.x=a.x+b.x;this.y=
a.y+b.y;this.z=a.z+b.z;return this},sub:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.eb(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},eb:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},Fa:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},Se:function(a){return this.Fa(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,
a.y);this.z=Math.min(this.z,a.z);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this},Ee:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);
return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},ed:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},Bf:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){return this.Se(this.length())},ob:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this}};Fb.Da="XYZ YZX ZXY XZY YXZ ZYX".split(" ");
Fb.T="XYZ";Fb.prototype={constructor:Fb,get x(){return this.m},set x(a){this.m=a},get y(){return this.o},set y(a){this.o=a},get z(){return this.s},set z(a){this.s=a},get order(){return this.Ta},set order(a){this.Ta=a},set:function(a,b,f,d){this.m=a;this.o=b;this.s=f;this.Ta=d||this.Ta;return this},clone:function(){return new this.constructor(this.m,this.o,this.s,this.Ta)},B:function(a){this.m=a.m;this.o=a.o;this.s=a.s;this.Ta=a.Ta;return this},ob:function(a){this.m=a[0];this.o=a[1];this.s=a[2];void 0!==
a[3]&&(this.Ta=a[3]);return this}};qc.prototype={constructor:qc,set:function(a,b){this.min.B(a);this.max.B(b);return this},clone:function(){return(new this.constructor).B(this)},B:function(a){this.min.B(a.min);this.max.B(a.max);return this},size:function(a){return(a||new Qa).eb(this.max,this.min)},getParameter:function(a,b){return(b||new Qa).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},translate:function(a){this.min.add(a);
this.max.add(a);return this}};Pb.prototype={constructor:Pb,set:function(a,b,f,d,n,m,u,g,r,p,D,I,t,y,v,h){var e=this.elements;e[0]=a;e[4]=b;e[8]=f;e[12]=d;e[1]=n;e[5]=m;e[9]=u;e[13]=g;e[2]=r;e[6]=p;e[10]=D;e[14]=I;e[3]=t;e[7]=y;e[11]=v;e[15]=h;return this},clone:function(){return(new Pb).ob(this.elements)},B:function(a){this.elements.set(a.elements);return this},Fa:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=
a;b[7]*=a;b[11]*=a;b[15]*=a;return this},setPosition:function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},translate:function(){console.error("JETHREE.Matrix4: .translate() has been removed.")},scale:function(a){var b=this.elements,f=a.x,d=a.y;a=a.z;b[0]*=f;b[4]*=d;b[8]*=a;b[1]*=f;b[5]*=d;b[9]*=a;b[2]*=f;b[6]*=d;b[10]*=a;b[3]*=f;b[7]*=d;b[11]*=a;return this},ob:function(a){this.elements.set(a);return this}};rc.prototype={constructor:rc,clone:function(){return(new this.constructor).B(this)},
B:function(a){this.Ba=a.Ba;this.J=a.J;this.Ca=a.Ca;this.Pa.B(a.Pa);this.color.B(a.color);this.Yb=a.Yb;for(var b=0,f=a.he.length;b<f;b++)this.he[b]=a.he[b].clone();b=0;for(f=a.Jg.length;b<f;b++)this.Jg[b]=a.Jg[b].clone();return this}};var E=function(){function a(k,x,w){x=k.createShader(x);k.shaderSource(x,w);k.compileShader(x);return k.getShaderParameter(x,k.COMPILE_STATUS)?x:!1}function b(k,x){ba.ga_()&&(x.b=x.b.replace(/gl_FragData\[([0-3])\]/g,"gbuf$1"));x.jf=a(k,k.VERTEX_SHADER,x.j,x.name+" VERTEX");
x.hf=a(k,k.FRAGMENT_SHADER,x.b,x.name+" FRAGMENT");var w=k.createProgram();k.attachShader(w,x.jf);k.attachShader(w,x.hf);k.linkProgram(w);return w}function f(k){k.j="#version 300 es\n"+k.j.replace(/varying/g,"out");k.b="#version 300 es\n"+k.b.replace(/varying/g,"in");k.j=k.j.replace(/texture2D\(/g,"texture(");k.b=k.b.replace(/texture2D\(/g,"texture(");k.ca||(k.b=k.b.replace(/void main/g,"out vec4 FragColor;\nvoid main"),k.b=k.b.replace(/gl_FragColor/g,"FragColor"));var x=0,w=[];k.j=k.j.replace(/attribute ([a-z]+[0-4]*) ([_a-zA-Z,0-9\s]+);/g,
function(O,L,z){var l="";z.split(",").forEach(function(q){q=q.trim();l+="layout(location = "+x+") in "+L+" "+q+";\n";w.push(q);++x});return l});k.Sj=w}function d(k,x){if(x.Th)return!1;var w=ba.ga_();T.Ip||w||k.enableVertexAttribArray(0);void 0===x.ca&&(x.ca=!1);x.ca&&(x.Ze=F.vl(),x.Sc=w?3:2,x.Sp=w?"none":"highp");x.id=G++;void 0===x.Sc&&(x.Sc=2);void 0===x.Ze&&(x.Ze="");void 0===x.Ej&&(x.Ej="");void 0===x.precision&&(x.precision="highp");"none"!==x.precision&&(x.b="precision "+x.precision+" float;\n"+
x.b);x.b=x.Ze+x.b;void 0===x.j&&(x.j="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");x.j=x.Ej+x.j;w&&3<=x.Sc&&f(x);x.Ia&&x.Ia.forEach(function(O){x.j=x.j.replace(O.search,O.replace);x.b=x.b.replace(O.search,O.replace)});x.na=b(k,x);x.v={};x.c.forEach(function(O){x.v[O]=k.getUniformLocation(x.na,O)});x.attributes={};x.va=[];x.Ig=0;void 0===x.D&&(x.D=["a0"]);void 0===x.L&&(x.L=[2]);x.D.forEach(function(O,L){var z=w&&3<=x.Sc?x.Sj.indexOf(O):
k.getAttribLocation(x.na,O);x.attributes[O]=z;x.va.push(z);x.Ig+=4*x.L[L]});x.set=function(){h!==x.id&&(-1!==h&&e.F(),h=x.id,e=x,k.useProgram(x.na),x.va.forEach(function(O){0!==O&&k.enableVertexAttribArray(O)}))};x.F=function(){h=-1;x.va.forEach(function(O){0!==O&&k.disableVertexAttribArray(O)})};x.Th=!0}function n(k,x){d(k,x);x.set();h=-1;return x}function m(){return{name:"_",b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:["u1"],precision:"highp"}}function u(){F.f("s93",
[{type:"1i",name:"u1",value:0}]);F.f("s94",[{type:"1i",name:"u143",value:0}]);F.f("s95",[{type:"1i",name:"u65",value:0}])}function g(){var k="u39 u133 u134 u135 u136 u40 u69".split(" ").concat(t,y);v.s96={name:"_",b:"varying vec3 vv0;varying float vv1;void main(){gl_FragColor=vec4(vv0,vv1);}",j:"attribute vec3 a0;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec3 vv0;varying float vv1;const vec2 e=vec2(1.,1.);const vec3 o=vec3(1.,1.,1.);const vec2 D=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,p);vec2 f=u76*e;vec3 c=u76*o;vec2 t=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,q).rgb+vec3(u70,0.,0.),u73,c);float u=mix(texture2D(u39,r).r,0.,u76);a.z+=u;mat3 v=s(a);vec3 w=mix(u133,u74,c);float x=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 y=mat2(h,i,-i,h);b.xy=y*b.xy;float z=mix(u72,1.,u76);vec2 j=u71/t;vec3 k=a0;float A=max(0.,-a0.z-u135)*u136;k.x+=A*sign(a0.x)*(1.-u76);vec3 l=v*(k+w)*x+b;vec2 B=j*z;vec3 C=vec3(g*B,-j)+l*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(C,1.)),vv0=l,vv1=smoothstep(u139,u140,a0.z);}",
c:["u139","u140"].concat(k),D:["a0"],precision:"highp"};v.s97={name:"_",b:"uniform sampler2D u1;uniform vec3 u137;uniform float u64;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);vec3 b=mix(u137,a.rgb,a.a);vec4 c=vec4(mix(a.rgb*u137,b,u64),a.a);gl_FragColor=c;}",j:"attribute vec3 a0;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;varying vec2 vv0;const vec2 e=vec2(1.,1.);const vec3 m=vec3(1.,1.,1.);const vec2 C=vec2(-1.,1.),n=vec2(.16,.5),o=vec2(.5,.5),p=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 q(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,n);vec2 f=u76*e;vec3 c=u76*m;vec2 r=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,o).rgb+vec3(u70,0.,0.),u73,c);float s=mix(texture2D(u39,p).r,0.,u76);a.z+=s;mat3 t=q(a);vec3 u=mix(u133,u74,c);float v=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 w=mat2(h,i,-i,h);b.xy=w*b.xy;float x=mix(u72,1.,u76);vec2 j=u71/r;vec3 k=a0;float y=max(0.,-a0.z-u135)*u136;k.x+=y*sign(a0.x)*(1.-u76);vec3 z=t*(k+u)*v+b;vec2 A=j*x;vec3 B=vec3(g*A,-j)+z*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(B,1.)),vv0=a1;}",
c:["u137"].concat(D,k),D:["a0","a1"],L:[3,2],precision:"lowp"};v.s98={name:"_",b:"uniform vec3 u137;void main(){gl_FragColor=vec4(u137,0.);}",j:"attribute vec3 a0;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;const vec2 e=vec2(1.,1.);const vec3 l=vec3(1.,1.,1.);const vec2 B=vec2(-1.,1.),m=vec2(.16,.5),n=vec2(.5,.5),o=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 p(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,m);vec2 f=u76*e;vec3 c=u76*l;vec2 q=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,n).rgb+vec3(u70,0.,0.),u73,c);float r=mix(texture2D(u39,o).r,0.,u76);a.z+=r;mat3 s=p(a);vec3 t=mix(u133,u74,c);float u=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 v=mat2(h,i,-i,h);b.xy=v*b.xy;float w=mix(u72,1.,u76);vec2 j=u71/q;vec3 k=a0;float x=max(0.,-a0.z-u135)*u136;k.x+=x*sign(a0.x)*(1.-u76);vec3 y=s*(k+t)*u+b;vec2 z=j*w;vec3 A=vec3(g*z,-j)+y*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(A,1.));}",
c:["u137"].concat(k),L:[3],precision:"lowp"};v.s99={name:"_",b:"uniform vec4 u7;varying vec3 vv0;varying float vv1;void main(){float a=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv1);gl_FragColor=vec4(normalize(vv0),a);}",j:"attribute vec3 a0,a2;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;varying vec3 vv0;varying float vv1;const vec2 e=vec2(1.,1.);const vec3 o=vec3(1.,1.,1.);const vec2 D=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,p);vec2 f=u76*e;vec3 c=u76*o;vec2 t=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,q).rgb+vec3(u70,0.,0.),u73,c);float u=mix(texture2D(u39,r).r,0.,u76);a.z+=u;mat3 h=s(a);vec3 v=mix(u133,u74,c);float w=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 x=mat2(i,j,-j,i);b.xy=x*b.xy;float y=mix(u72,1.,u76);vec2 k=u71/t;vec3 l=a0;float z=max(0.,-a0.z-u135)*u136;l.x+=z*sign(a0.x)*(1.-u76);vec3 A=h*(l+v)*w+b;vec2 B=k*y;vec3 C=vec3(g*B,-k)+A*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(C,1.)),vv0=h*a2*vec3(1.,-1.,-1.),vv1=a0.y;}",
c:["u7","u69"].concat(k),D:["a0","a2"],precision:"highp"};v.s100={name:"_",b:"uniform sampler2D u143;uniform vec4 u7;varying vec4 vv0;varying vec3 vv1;varying vec2 vv2;varying float vv3;const vec3 i=vec3(1.,1.,1.);void main(){vec3 j=vec3(0.,0.,-1.),c=normalize(vv1),b=texture2D(u143,vv2).xyz;b=normalize(b*255./127.-1.007874*i);vec3 d=vv0.xyz,k=cross(c,d)*vv0.w;mat3 l=mat3(d,k,c);vec3 a=l*b;a=dot(a,j)>0.?vv1:a;float m=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv3);gl_FragColor=vec4(a,m);}",j:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;varying vec4 vv0;varying vec3 vv1;varying vec2 vv2;varying float vv3;const vec2 e=vec2(1.,1.);const vec3 q=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),r=vec2(.16,.5),s=vec2(.5,.5),t=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 u(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,r);vec2 f=u76*e;vec3 c=u76*q;vec2 v=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,s).rgb+vec3(u70,0.,0.),u73,c);float w=mix(texture2D(u39,t).r,0.,u76);a.z+=w;mat3 h=u(a);vec3 x=mix(u133,u74,c);float y=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 z=mat2(i,j,-j,i);b.xy=z*b.xy;float A=mix(u72,1.,u76);vec2 k=u71/v;vec3 l=a0;float B=max(0.,-a0.z-u135)*u136;l.x+=B*sign(a0.x)*(1.-u76);vec3 C=h*(l+x)*y+b;vec2 D=k*A;vec3 E=vec3(g*D,-k)+C*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(E,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv0=a3,vv2=a1,vv3=a0.y;}",
c:["u7","u69","u143"].concat(k),D:["a3","a0","a2","a1"],L:[4,3,3,2],precision:"highp"};v.s101={name:"_",b:"uniform vec4 u102;uniform float u138;void main(){float b=u138;vec4 a=u102;float c=floor(15.99*b),d=floor(15.99*a.b);a.b=(c+16.*d)/255.,gl_FragColor=a;}",j:"attribute vec3 a0;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;const vec2 e=vec2(1.,1.);const vec3 l=vec3(1.,1.,1.);const vec2 B=vec2(-1.,1.),m=vec2(.16,.5),n=vec2(.5,.5),o=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 p(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,m);vec2 f=u76*e;vec3 c=u76*l;vec2 q=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,n).rgb+vec3(u70,0.,0.),u73,c);float r=mix(texture2D(u39,o).r,0.,u76);a.z+=r;mat3 s=p(a);vec3 t=mix(u133,u74,c);float u=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 v=mat2(h,i,-i,h);b.xy=v*b.xy;float w=mix(u72,1.,u76);vec2 j=u71/q;vec3 k=a0;float x=max(0.,-a0.z-u135)*u136;k.x+=x*sign(a0.x)*(1.-u76);vec3 y=s*(k+t)*u+b;vec2 z=j*w;vec3 A=vec3(g*z,-j)+y*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(A,1.));}",
c:["u102","u138"].concat(k),precision:"lowp"};v.s102={name:"_",b:"uniform sampler2D u65;uniform vec4 u102,u66;uniform float u138;varying vec2 vv0;vec2 i(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float c=u138;vec4 a=u102,d=texture2D(u65,vv0);vec2 b=i(d.b,4.);float f=1.-b.x,g=b.y;b=i(d.a,1.);float h=b.x,e=b.y;vec4 k=vec4(d.rg,g,h);float l=f;a=mix(a,k,u66*e),c=mix(c,l,u66.b*e);float m=floor(15.99*c),n=floor(15.99*a.b);a.b=(m+16.*n)/255.,gl_FragColor=a;}",
j:"attribute vec3 a0;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;varying vec2 vv0;const vec2 e=vec2(1.,1.);const vec3 m=vec3(1.,1.,1.);const vec2 C=vec2(-1.,1.),n=vec2(.16,.5),o=vec2(.5,.5),p=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 q(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,n);vec2 f=u76*e;vec3 c=u76*m;vec2 r=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,o).rgb+vec3(u70,0.,0.),u73,c);float s=mix(texture2D(u39,p).r,0.,u76);a.z+=s;mat3 t=q(a);vec3 u=mix(u133,u74,c);float v=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 w=mat2(h,i,-i,h);b.xy=w*b.xy;float x=mix(u72,1.,u76);vec2 j=u71/r;vec3 k=a0;float y=max(0.,-a0.z-u135)*u136;k.x+=y*sign(a0.x)*(1.-u76);vec3 z=t*(k+u)*v+b;vec2 A=j*x;vec3 B=vec3(g*A,-j)+z*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(B,1.)),vv0=a1;}",
c:["u102","u138"].concat(I,k),D:["a0","a1"],L:[3,2],precision:"lowp"};k=["u126","u114","u127"];v.s103={name:"_",b:"varying vec3 vv0;varying float vv1;void main(){gl_FragColor=vec4(vv0,vv1);}",j:"attribute vec3 a0;uniform mat4 u126,u114,u127;varying vec3 vv0;varying float vv1;void main(){vec4 a=u127*vec4(a0,1.);gl_Position=u126*u114*a,vv0=a.xyz,vv1=1.;}",c:k,precision:"highp"};v.s104={name:"_",b:"varying vec3 vv0;void main(){gl_FragColor=vec4(normalize(vv0),1.);}",j:"attribute vec3 a0,a2;uniform mat4 u126,u114,u127;varying vec3 vv0;varying float vv1;void main(){vec4 a=u127*vec4(a2,0.);gl_Position=u126*u114*u127*vec4(a0,1.),vv0=a.xyz,vv1=a0.y;}",
c:k,D:["a0","a2"],precision:"highp"};v.s94={name:"_",b:"uniform sampler2D u143;uniform vec3 u144;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;const vec3 i=vec3(1.,1.,1.);void main(){vec3 j=normalize(vv1+u144),c=normalize(vv2),b=texture2D(u143,vv3).xyz;b=normalize(b*255./127.-1.007874*i);vec3 d=vv0.xyz,k=cross(c,d)*vv0.w;mat3 l=mat3(d,k,c);vec3 a=l*b;a=dot(a,j)>0.?vv2:a,gl_FragColor=vec4(a,1.);}",j:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;void main(){vec4 b=u127*vec4(a2,0.),a=u127*vec4(a0,1.);gl_Position=u126*u114*a,vv0=a3,vv2=b.xyz,vv3=a1,vv1=a.xyz;}",
c:["u143","u144"].concat(k),D:["a0","a2","a1","a3"],precision:"highp"};v.s93={name:"_",b:"uniform sampler2D u1;uniform vec3 u137;uniform float u64;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);vec3 b=mix(u137,a.rgb,a.a);vec4 c=vec4(mix(a.rgb*u137,b,u64),a.a);gl_FragColor=c;}",j:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec2 vv0;const vec4 f=vec4(0.,0.,5e-4,0.);void main(){gl_Position=u126*u114*u127*vec4(a0,1.)+f,vv0=a1;}",c:["u137"].concat(D,k),D:["a0","a1"],
Ia:[{search:"0.0005",replace:Aa.aa()?"0.0005":"0.0"}],precision:"lowp"};v.s105={name:"_",b:"uniform vec4 u102;uniform float u138;void main(){float b=u138;vec4 a=u102;float c=floor(15.99*b),d=floor(15.99*a.b);a.b=(c+16.*d)/255.,gl_FragColor=a;}",j:"attribute vec3 a0;uniform mat4 u126,u114,u127;void main(){gl_Position=u126*u114*u127*vec4(a0,1.);}",c:["u102"].concat(k),precision:"highp"};v.s95={name:"_",b:"uniform sampler2D u65;uniform vec4 u102,u66;uniform float u138;varying vec2 vv0;vec2 i(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float c=u138;vec4 a=u102,d=texture2D(u65,vv0);vec2 b=i(d.b,4.);float f=1.-b.x,g=b.y;b=i(d.a,1.);float h=b.x,e=b.y;vec4 k=vec4(d.rg,g,h);float l=f;a=mix(a,k,u66*e),c=mix(c,l,u66.b*e);float m=floor(15.99*c),n=floor(15.99*a.b);a.b=(m+16.*n)/255.,gl_FragColor=a;}",
j:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec2 vv0;void main(){gl_Position=u126*u114*u127*vec4(a0,1.),vv0=a1;}",c:["u102"].concat(I,k),D:["a0","a1"],L:[3,2],precision:"highp"}}function r(){for(var k in v)d(c,v[k])}var p=!1,D=["u1","u64"],I=["u65","u66"],t="u67 u68 u69 u70 u71 u72".split(" "),y="u73 u74 u75 u76 u77 u78".split(" "),v={},h=-1,e=null,G=0,F={vl:function(){return ba.ga_()?"precision highp float;\n            layout(location = 0) out vec4 gbuf0;\n            layout(location = 1) out vec4 gbuf1;\n            layout(location = 2) out vec4 gbuf2;\n            layout(location = 3) out vec4 gbuf3;\n":
"#extension GL_EXT_draw_buffers : require\n"},oa:function(k,x){v[k]=x;p&&d(c,v[k])},Wp:function(k,x){v[k]=x;x.Th=!1;d(c,v[k])},Wb:function(){return p},h:function(){v.s0=m();v.s1={name:"_",b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:["u1"],precision:"lowp"};v.s65={name:"_",b:"uniform sampler2D u1,u6;uniform float u7;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){gl_FragColor=vec4(mix(texture2D(u6,vv0).rgb,texture2D(u1,vv0).rgb,u7*f),1.);}",c:["u1",
"u6","u7"],precision:"highp"};v.s66={name:"_",b:"uniform sampler2D u1,u6;uniform float u7;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){gl_FragColor=mix(texture2D(u6,vv0),texture2D(u1,vv0),u7*f);}",c:["u1","u6","u7"],precision:"highp"};v.s12={name:"_",b:"uniform sampler2D u1,u79;uniform vec2 u80;uniform float u81,u82;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 b=texture2D(u79,vv0*u80),c=texture2D(u1,vv0*u80);float a=smoothstep(u81,0.,vv0.y);a+=smoothstep(1.-u81,1.,vv0.y),gl_FragColor=pow(mix(c,b,a*f),u82*f);}",
c:["u1","u80","u79","u81","u82"]};v.s67={name:"_",b:"uniform sampler2D u1,u79;uniform vec2 u80;uniform float u81,u82;varying vec2 vv0;const vec3 h=vec3(1.,1.,1.);vec4 i(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),f=exp2(c);vec3 g=clamp(b/f,0.,1.);return vec4(g,(c+128.)/256.);}void main(){vec2 a=vv0*u80;float c=floor(a.x),d=mod(c,2.);a.x=mod(a.x,1.),a.x=mix(a.x,1.-a.x,d);vec3 f=texture2D(u79,a).rgb,g=texture2D(u1,a).rgb;float b=smoothstep(u81,0.,vv0.y);b+=smoothstep(1.-u81,1.,vv0.y);vec3 j=mix(g,f,b*h);vec4 k=i(pow(j,u82*h));gl_FragColor=k;}",
c:["u1","u80","u79","u81","u82"],precision:"highp"};v.s68={name:"_",b:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);if(a.a<.5)discard;gl_FragColor=a;}",c:["u1"],precision:"lowp"};v.s69={name:"_",b:"uniform sampler2D u1,u83;uniform vec2 u8;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec3 b=texture2D(u1,a).rgb+texture2D(u1,a+u8*f).rgb+texture2D(u1,a+u8*g).rgb+texture2D(u1,a+u8*h).rgb+texture2D(u1,a+u8*i).rgb;gl_FragColor=vec4(b/5.,1.);}",
c:["u1","u8"],precision:"lowp"};v.s70={name:"_",b:"uniform sampler2D u1,u83,u39;uniform vec2 u8,u84;varying vec2 vv0;const vec3 k=vec3(1.,1.,1.);const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec3 b=texture2D(u1,a).rgb+texture2D(u1,a+u8*f).rgb+texture2D(u1,a+u8*g).rgb+texture2D(u1,a+u8*h).rgb+texture2D(u1,a+u8*i).rgb;float c=texture2D(u39,vec2(.5,.5)).a,d=u84.x+pow(c,2.)*(u84.y-u84.x);vec3 j=mix(b/5.,texture2D(u83,a).rgb,d);gl_FragColor=vec4(j,1.);}",
c:["u1","u83","u8","u39","u84"],precision:"lowp"};v.s71={name:"_",b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;const vec3 f=vec3(.299,.587,.114);const float m=.007813,n=.125,h=8.;void main(){vec2 x=vv0;vec3 o=texture2D(u1,vv0+vec2(-1.,-1.)*u8).xyz,p=texture2D(u1,vv0+vec2(1.,-1.)*u8).xyz,q=texture2D(u1,vv0+vec2(-1.,1.)*u8).xyz,r=texture2D(u1,vv0+vec2(1.,1.)*u8).xyz,s=texture2D(u1,vv0).xyz;float b=dot(o,f),c=dot(p,f),e=dot(q,f),g=dot(r,f),i=dot(s,f),t=min(i,min(min(b,c),min(e,g))),u=max(i,max(max(b,c),max(e,g)));vec2 a;a.x=-(b+c-(e+g)),a.y=b+e-(c+g);float v=max((b+c+e+g)*(.25*n),m),w=1./(min(abs(a.x),abs(a.y))+v);a=min(vec2(h,h),max(vec2(-h,-h),a*w))*u8;vec3 j=.5*(texture2D(u1,vv0+a*-.166667).rgb+texture2D(u1,vv0+a*.166667).rgb),k=j*.5+.25*(texture2D(u1,vv0+a*-.5).rgb+texture2D(u1,vv0+a*.5).rgb);float l=dot(k,f);gl_FragColor=l<t||l>u?vec4(j,1.):vec4(k,1.);}",
c:["u1","u8"],precision:"lowp"};v.s43={name:"_",b:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(0.,0.,0.);vec4 g(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),h=exp2(c);vec3 i=clamp(b/h,0.,1.);return vec4(i,(c+128.)/256.);}void main(){vec3 a=texture2D(u1,vv0).rgb;gl_FragColor=g(max(a,f));}",c:["u1"],precision:"highp"};v.s72={name:"_",b:"uniform sampler2D u85,u86;uniform float u87,u88;varying vec2 vv0;void main(){vec3 a=texture2D(u86,vv0).rgb,b=texture2D(u85,vv0).rgb;gl_FragColor=vec4(b*u88+u87*a,1.);}",
c:["u85","u86","u87","u88"],precision:"highp"};v.s73={name:"_",b:"uniform sampler2D u89,u90;uniform float u82;varying vec2 vv0;const int j=8888;const float e=3.141592;const vec2 k=vec2(0.,0.);const vec3 n=vec3(1.,1.,1.),o=vec3(0.,0.,0.);void main(){float p=e*(vv0.x*2.-1.),q=e/2.*(vv0.y*2.-1.),b,c,r,l,m;vec4 d;vec3 f=o;vec2 g=k,a=k;for(int h=0;h<j;h+=1)a.x=float(h),a.y=floor(a.x/64.),d=texture2D(u90,a/64.),b=e*d.r,c=2.*asin(sqrt(.25+d.g*.25)),l=p+c*cos(b),m=q+c*sin(b),g.x=.5+.5*l/e,g.y=.5+m/e,f+=pow(texture2D(u89,g).rgb,u82*n);f/=float(j),gl_FragColor=vec4(f,1.);}",
c:["u89","u90","u82"],precision:"lowp",Ia:[{search:"8888",replace:T.im[ba.P()]}]};v.s74={name:"_",b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);float b=.031496*texture2D(u1,vv0-3.*u8).a+.110236*texture2D(u1,vv0-2.*u8).a+.220472*texture2D(u1,vv0-u8).a+.275591*a.a+.220472*texture2D(u1,vv0+u8).a+.110236*texture2D(u1,vv0+2.*u8).a+.031496*texture2D(u1,vv0+3.*u8).a;gl_FragColor=vec4(a.rgb,4.*b);}",c:["u1","u8"],precision:"lowp"};v.s75={name:"_",b:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);float b=.3*pow(a.a,2.);gl_FragColor=vec4(a.rgb+b*f,1.);}",
c:["u1"],precision:"lowp"};v.s76={name:"_",b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=.031496*texture2D(u1,vv0-3.*u8)+.110236*texture2D(u1,vv0-2.*u8)+.220472*texture2D(u1,vv0-u8)+.275591*texture2D(u1,vv0)+.220472*texture2D(u1,vv0+u8)+.110236*texture2D(u1,vv0+2.*u8)+.031496*texture2D(u1,vv0+3.*u8);gl_FragColor=a;}",c:["u1","u8"],precision:"lowp"};v.s77={name:"_",b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0-3.*u8)+texture2D(u1,vv0-2.*u8)+texture2D(u1,vv0-u8)+texture2D(u1,vv0)+texture2D(u1,vv0+u8)+texture2D(u1,vv0+2.*u8)+texture2D(u1,vv0+3.*u8);gl_FragColor=a/7.;}",
c:["u1","u8"],precision:"lowp"};v.s78={name:"_",b:"uniform sampler2D u1;varying vec2 vv0;const vec4 g=vec4(0.,0.,0.,0.);const float e=256.;void main(){vec4 b=g;float c=0.;vec2 d;for(float a=0.;a<e;a+=1.)d=vec2((a+.5)/e,vv0.y),b+=texture2D(u1,d),c+=1.;gl_FragColor=b/c;}",c:["u1"],precision:"highp"};v.s79={name:"_",b:"uniform sampler2D u1,u79;varying vec2 vv0;const vec4 h=vec4(1.,1.,1.,1.);const float f=0.,g=.3;void main(){vec4 b=texture2D(u79,vv0),c=texture2D(u1,vv0);float a=smoothstep(g,f,vv0.y);a+=smoothstep(1.-g,1.-f,vv0.y),gl_FragColor=mix(c,b,a*h);}",
c:["u1","u79"],precision:"highp"};v.s80={name:"_",b:"uniform sampler2D u1,u79;varying vec2 vv0;const vec3 h=vec3(1.,1.,1.);const float f=0.,g=.3;vec4 i(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),j=exp2(c);vec3 k=clamp(b/j,0.,1.);return vec4(k,(c+128.)/256.);}void main(){vec3 b=texture2D(u79,vv0).rgb,c=texture2D(u1,vv0).rgb;float a=smoothstep(g,f,vv0.y);a+=smoothstep(1.-g,1.-f,vv0.y),gl_FragColor=i(mix(c,b,a*h));}",c:["u1","u79"],precision:"highp"};v.s81=
{name:"_",b:"uniform sampler2D u1,u91,u2,u92;uniform vec4 u93;uniform vec2 u94;uniform float u95,u96,u97,u98;varying vec2 vv0;const vec2 g=vec2(1.,1.),h=vec2(.5,.5);const float e=3.141592;void main(){vec4 d=texture2D(u1,vv0),i=texture2D(u91,vec2(1.-vv0.x,vv0.y));float j=step(texture2D(u92,vec2(.25,.5)).r,1.);vec2 a=vv0*2.-g;float k=texture2D(u2,a*u94*.5+h).r,l=atan(a.x,a.y),m=-(mod(u95,2.*e)-e),b=mod(l-m+e,2.*e)-e,n=smoothstep(0.,u96,b),c=.5+u98*(.5-n);c*=(sign(b)+1.)/2.;vec4 o=i+c*u93*k;gl_FragColor=mix(d,o,j*u97);}",
c:"u1 u2 u92 u91 u93 u95 u96 u97 u94 u98".split(" "),precision:"lowp"};var k="u99 u100 u101 u102 u89 u103 u22 u104 u91 u105 u106 u107 u108 u109 u8".split(" ");T.$&&(v.s82={name:"_",b:"uniform sampler2D u99,u100,u101,u102,u89,u103,u110,u91;uniform vec3 u104,u107;uniform vec2 u8;uniform float u22,u111,u106,u108,u105;varying vec2 vv0;const float j=3.141592;const vec3 u=vec3(0.,0.,0.),v=vec3(.299,.587,.114);const float w=2.;vec3 l(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}vec2 x(vec3 a){float b=atan(a.x,a.z),c=acos(-a.y);return vec2(.5-.5*b/j,1.-c/j);}vec2 y(vec3 a,float b){vec2 d=vec2(1.,.5)/pow(2.,b),f=vec2(0.,1.-pow(.5,b));float g=atan(a.x,a.z),h=acos(-a.y),c=.5+.5*g/j,i=h/j,k=pow(2.,b)/u105;c=(1.-k)*c;return f+vec2(c,i)*d;}void main(){vec4 c=texture2D(u99,vv0);vec3 k=texture2D(u91,vec2(1.-vv0.x,vv0.y)).rgb;if(c.a<.01){gl_FragColor=vec4(k,0.);return;}float z=c.a;vec3 A=c.rgb,B=A+u104;vec4 b=texture2D(u102,vv0),m=texture2D(u100,vv0);vec3 d=m.rgb;float f=m.a;vec4 n=texture2D(u101,vv0);vec3 C=n.rgb;float o=b.r,D=b.g,p=floor(b.b*255.),g=floor(p/16.),E=(p-16.*g)/16.;g/=16.;float F=b.a;f=1.-(1.-f)*(1.-n.a);vec2 G=x(-d);vec3 q=(1.-F)*l(texture2D(u103,G)),r=normalize(B),h=u,s=reflect(-r,d);vec2 H=y(s,floor(D*u22));float I=acos(-s.z),J=smoothstep(u106-u108,u106+u108,I);h=mix(l(texture2D(u89,H)),u107,J);float a=o+(E-o)*pow(1.-dot(d,-r),g*16.);a=clamp(a,0.,1.);float t=1.-u111*texture2D(u110,vv0).r;h*=pow(t,2.),q*=t;vec3 i=C*mix(q,h,a),M=mix(k,i,z*(f*(1.-a)+a));float K=dot(i,v),L=max(0.,(K-1.)/(w-1.));gl_FragColor=vec4(i,L);}",
c:k.concat(["u110","u111"]),precision:"highp"});v.s83={name:"_",b:"uniform sampler2D u99,u100,u101,u102,u89,u103,u91;uniform vec3 u104,u107;uniform vec2 u8;uniform float u22,u106,u108,u109,u112,u113,u105;varying vec2 vv0;const float g=3.141592;const vec3 D=vec3(0.,0.,0.),m=vec3(1.,1.,1.),E=vec3(.299,.587,.114);const float F=2.;vec3 p(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}vec2 G(vec3 a){float b=atan(a.x,-a.z),c=acos(-a.y);return vec2(.5-.5*b/g,1.-c/g);}vec2 H(vec3 a,float d){float b=pow(2.,d);vec2 f=vec2(1.,.5)/b,h=vec2(0.,1.-1./b);float i=atan(a.x,a.z),j=acos(-a.y),c=.5+.5*i/g,k=j/g,l=.5*b/u105;c=(1.-l)*c;return h+vec2(c,k)*f;}float n(vec3 a,vec3 b){return abs(acos(dot(a,b)));}float o(vec2 a){float b=texture2D(u99,a).a;return step(.01,b);}void main(){vec4 h=texture2D(u99,vv0),i=texture2D(u91,vec2(1.-vv0.x,vv0.y));if(h.a<.01){gl_FragColor=vec4(i.rgb,0.);return;}float q=h.a;vec3 I=h.rgb,J=I+u104;vec4 c=texture2D(u102,vv0),r=texture2D(u100,vv0);vec3 a=r.rgb;float j=r.a;vec4 k=texture2D(u101,vv0);vec3 d=k.rgb;if(q>1.){gl_FragColor=vec4(mix(i.rgb,d,k.a),1.);return;}d=pow(d,u112*m);float s=c.r,K=c.g,L=c.a,t=floor(c.b*255.),l=floor(t/16.),M=(t-16.*l)/16.;l/=16.,j=1.-(1.-j)*(1.-k.a);vec2 u=vv0+vec2(-1.,0.)*u8,v=vv0+vec2(1.,0.)*u8,w=vv0+vec2(0.,1.)*u8,x=vv0+vec2(0.,-1.)*u8;vec3 N=texture2D(u100,u).rgb,O=texture2D(u100,v).rgb,P=texture2D(u100,w).rgb,Q=texture2D(u100,x).rgb;float R=n(a,N)*o(u),S=n(a,O)*o(v),T=n(a,P)*o(w),U=n(a,Q)*o(x),V=2.*max(max(R,S),max(T,U)),W=1.2*clamp(V/g,0.,1.),X=max(K,W);vec2 Y=G(a);vec3 Z=p(texture2D(u103,Y)),_=(1.-L)*Z,y=normalize(J),z=D,A=reflect(-y,a);float aa=floor(X*u22);vec2 ba=H(A,aa);float ca=acos(-A.z),da=smoothstep(u106-u108,u106+u108,ca);vec3 ea=p(texture2D(u89,ba));z=mix(ea,u107,da*u109);float b=s+(M-s)*pow(1.+dot(a,y),l*15.);b=clamp(b,0.,1.);vec3 fa=d*mix(_,z,b);float B=q*(j*(1.-b)+b);vec3 f=mix(i.rgb,pow(fa,m/u112),B);float C=dot(f,E),ga_=max(0.,(C-1.)/(F-1.));f=mix(C*m,f,mix(1.,u113,B)*m),gl_FragColor=vec4(f,ga_);}",
c:k.concat(["u112","u113"]),precision:"highp"};T.$&&(v.s84={name:"_",b:"uniform sampler2D u99,u100;uniform mat4 u114;uniform vec2 u115,u8,u116;uniform float u117,u118,u119,u120,u121,u122,u123,u124,u111;varying vec2 vv0;const float PI=3.141593,HALFPI=1.570796,N=8888.8;void main(){vec2 uvt=vv0+u116;vec4 pos=texture2D(u99,uvt);if(pos.a<.01){gl_FragColor=vec4(0.,0.,0.,1.);return;}vec3 co0=pos.rgb;float c=cos(u117),s=sin(u117);vec3 no0=texture2D(u100,uvt).rgb;float zv=(u114*vec4(co0,1.)).z;vec3 co;vec2 scale=u115/abs(zv),uv,duv=u8*vec2(c,s)*scale;vec3 dp,dpn;float dzMax=0.,angleMin=0.,angle;for(float i=0.;i<N;i+=1.)uv=uvt+i*duv,co=texture2D(u99,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u123,u124,length(dp)),angleMin=max(angleMin,angle),dzMax=max(dzMax,sin(angle)*length(dp));float angleMinInv=0.;for(float i=0.;i<N;i+=1.)uv=uvt-i*duv,co=texture2D(u99,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u123,u124,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMinInv=max(angleMinInv,angle);duv=u8*vec2(s,c)*scale;float angleMin2=0.;for(float i=0.;i<N;i+=1.)uv=uvt+i*duv,co=texture2D(u99,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u123,u124,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMin2=max(angleMin2,angle);float angleMin2Inv=0.;for(float i=0.;i<N;i+=1.)uv=uvt-i*duv,co=texture2D(u99,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u123,u124,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMin2Inv=max(angleMin2Inv,angle);float omegaMin=PI/4.*(angleMin+angleMinInv)*(angleMin2+angleMin2Inv),dzFactor=clamp(dzMax/u120,u121,1.),ao=dzFactor*clamp(u119*omegaMin*u122,0.,u111);gl_FragColor=vec4(ao,ao,ao,u118);}",
c:"u99 u100 u119 u118 u117 u8 u125 u120 u121 u122 u123 u124 u114 u115 u111".split(" "),Ia:[{search:"8888.8",replace:T.kk[ba.P()].toFixed(1)}],precision:"lowp"},v.s85={name:"_",b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4),j=vec2(-1.9,.9),k=vec2(.9,1.9),l=vec2(-.9,-1.9),m=vec2(1.9,-.9);void main(){vec2 a=vv0;vec4 b=texture2D(u1,a)+texture2D(u1,a+u8*f)+texture2D(u1,a+u8*g)+texture2D(u1,a+u8*h)+texture2D(u1,a+u8*i);b+=texture2D(u1,a+u8*j)+texture2D(u1,a+u8*k)+texture2D(u1,a+u8*l)+texture2D(u1,a+u8*m),gl_FragColor=b/9.;}",
c:["u1","u8"],precision:"lowp"});v.s86={name:"_",b:"varying vec3 vv0;void main(){gl_FragColor=vec4(vv0,1.);}",j:"attribute vec3 a0;uniform mat4 u126,u114,u127;varying vec3 vv0;void main(){vec4 a=u126*u114*u127*vec4(a0,1.);gl_Position=a,vv0=a.xyz/a.w;}",c:["u126","u114","u127"],precision:"lowp"};v.s87={name:"_",b:"uniform sampler2D u128,u103,u90;uniform mat4 u126,u129;uniform vec2 u130;uniform float u131;varying vec2 vv0;const float n=8888.8,o=9999.9,p=25.,v=50.,w=1.2,e=3.141592;const vec4 x=vec4(0.,0.,0.,0.),A=vec4(1.,1.,1.,1.);const vec2 f=vec2(.5,.5);vec2 y(vec3 a){float b=atan(a.x,a.z),c=acos(a.y);return vec2(.5-.5*b/e,1.-c/e);}void main(){float d,a,q;vec2 z=vec2(vv0.x,1.-vv0.y),b;vec3 r=vec3(u130*(z-f),0.),B=vec3(u129*vec4(r,1.)),g,s;vec4 t=x,h,c,u;vec3 i;int j;for(float k=0.;k<n;k+=1.){b.x=k,b.y=floor(b.x/64.),c=texture2D(u90,b/64.),d=e*c.r,a=2.*asin(sqrt(.25+c.g*.25)),g=vec3(cos(d)*sin(a),sin(d)*sin(a),-cos(a)),q=p+(.5+.5*c.b)*(v-p),j=0;for(float l=0.;l<=o;l+=1.){u=vec4(r+g*q*pow(l/o,w),1.),h=u126*u,i=h.xyz/h.w;if(texture2D(u128,f+f*i.xy).z<i.z){j=1;break;}}if(j==1)continue;s=vec3(u129*vec4(g,0.)),t+=texture2D(u103,y(s));}gl_FragColor=vec4(u131*t.rgb/n,1.);}",
c:"u128 u103 u90 u126 u129 u130 u131".split(" "),Ia:[{search:"8888.8",replace:T.eo[ba.P()].toFixed(1)},{search:"9999.9",replace:T.fo[ba.P()].toFixed(1)}],precision:"lowp"};v.s88={name:"_",b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=.285714*texture2D(u1,vv0-u8)+.428571*texture2D(u1,vv0)+.285714*texture2D(u1,vv0+u8);gl_FragColor=a;}",c:["u1","u8"],precision:"lowp"};v.s89={name:"_",b:"uniform sampler2D u1,u132;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
j:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u126,u114;varying vec2 vv0;void main(){vec4 a=u126*u114*vec4(a0,1.);gl_Position=a,vv0=a1;}",c:["u126","u114","u1"],D:["a0","a1"],precision:"lowp"};if(ba.W()){k="u39 u133 u134 u135 u136 u40 u102 u137 u138 u7 u139 u140 u69".split(" ").concat(t,y);ba.ci()||(v.s90={name:"_",j:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",b:"void main(){gl_FragData[0]=vec4(0.,0.,0.,0.),gl_FragData[1]=vec4(0.,0.,0.,0.),gl_FragData[2]=vec4(0.,0.,0.,0.),gl_FragData[3]=vec4(0.,0.,0.,0.);}",
c:[],precision:"lowp",ca:!0});v.s91={name:"_",j:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",b:"uniform vec4 color;void main(){gl_FragData[0]=color,gl_FragData[1]=color,gl_FragData[2]=color,gl_FragData[3]=color;}",c:["color"],ca:!0};v.s92NNGLcolor={name:"_",b:"uniform vec4 u102,u7;uniform vec3 u137;uniform float u138;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){float b=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv3),c=u138;vec4 a=u102;float d=floor(15.99*c),i=floor(15.99*a.b);a.b=(d+16.*i)/255.,gl_FragData[0]=vec4(vv0,vv2),gl_FragData[1]=vec4(normalize(vv1),b),gl_FragData[2]=vec4(u137,0.),gl_FragData[3]=a;}",
j:"attribute vec3 a0,a2;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec3 vv0,vv1;varying float vv2,vv3;const vec2 e=vec2(1.,1.);const vec3 r=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),s=vec2(.16,.5),t=vec2(.5,.5),u=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 v(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,s);vec2 f=u76*e;vec3 c=u76*r;vec2 w=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,t).rgb+vec3(u70,0.,0.),u73,c);float x=mix(texture2D(u39,u).r,0.,u76);a.z+=x;mat3 h=v(a);vec3 y=mix(u133,u74,c);float z=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 A=mat2(i,j,-j,i);b.xy=A*b.xy;float B=mix(u72,1.,u76);vec2 k=u71/w;vec3 l=a0;float C=max(0.,-a0.z-u135)*u136;l.x+=C*sign(a0.x)*(1.-u76);vec3 m=h*(l+y)*z+b;vec2 D=k*B;vec3 E=vec3(g*D,-k)+m*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(E,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv2=smoothstep(u139,u140,a0.z),vv0=m,vv3=a0.y;}",
c:k,D:["a0","a2"],L:[3,3],ca:!0};v.s92NNGLtexture={name:"_",b:"uniform sampler2D u1;uniform vec4 u102,u7;uniform vec3 u137;uniform float u138,u64;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){float c=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv4),d=u138;vec4 b=u102;float j=floor(15.99*d),k=floor(15.99*b.b);b.b=(j+16.*k)/255.;vec4 a=texture2D(u1,vv2);vec3 l=mix(u137,a.rgb,a.a);vec4 m=vec4(mix(a.rgb*u137,l,u64),a.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),c),gl_FragData[2]=m,gl_FragData[3]=b;}",
j:"attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;const vec2 e=vec2(1.,1.);const vec3 s=vec3(1.,1.,1.);const vec2 G=vec2(-1.,1.),t=vec2(.16,.5),u=vec2(.5,.5),v=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 w(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,t);vec2 f=u76*e;vec3 c=u76*s;vec2 x=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,u).rgb+vec3(u70,0.,0.),u73,c);float y=mix(texture2D(u39,v).r,0.,u76);a.z+=y;mat3 h=w(a);vec3 z=mix(u133,u74,c);float A=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 B=mat2(i,j,-j,i);b.xy=B*b.xy;float C=mix(u72,1.,u76);vec2 k=u71/x;vec3 l=a0;float D=max(0.,-a0.z-u135)*u136;l.x+=D*sign(a0.x)*(1.-u76);vec3 m=h*(l+z)*A+b;vec2 E=k*C;vec3 F=vec3(g*E,-k)+m*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(F,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv3=smoothstep(u139,u140,a0.z),vv2=a1,vv0=m,vv4=a0.y;}",
c:k.concat(D),D:["a0","a2","a1"],L:[3,3,2],ca:!0};v.s92NNGLtextureNormalMap={name:"_",b:"uniform vec4 u102,u7;uniform vec3 u137;uniform sampler2D u1,u143;uniform float u138,u64;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 l=vec3(1.,1.,1.);void main(){float m=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv5);vec3 v=vec3(0.,0.,-1.),d=normalize(vv2),b=texture2D(u143,vv3).xyz;b=normalize(b*255./127.-1.007874*l);vec3 g=vv0.xyz,n=cross(d,g)*vv0.w;mat3 o=mat3(g,n,d);vec3 p=o*b;float q=u138;vec4 c=u102;float r=floor(15.99*q),s=floor(15.99*c.b);c.b=(r+16.*s)/255.;vec4 a=texture2D(u1,vv3);vec3 t=mix(u137,a.rgb,a.a);vec4 u=vec4(mix(a.rgb*u137,t,u64),a.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(p,m),gl_FragData[2]=u,gl_FragData[3]=c;}",
j:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec2 e=vec2(1.,1.);const vec3 t=vec3(1.,1.,1.);const vec2 H=vec2(-1.,1.),u=vec2(.16,.5),v=vec2(.5,.5),w=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 x(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,u);vec2 f=u76*e;vec3 c=u76*t;vec2 y=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,v).rgb+vec3(u70,0.,0.),u73,c);float z=mix(texture2D(u39,w).r,0.,u76);a.z+=z;mat3 h=x(a);vec3 A=mix(u133,u74,c);float B=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 C=mat2(i,j,-j,i);b.xy=C*b.xy;float D=mix(u72,1.,u76);vec2 k=u71/y;vec3 l=a0;float E=max(0.,-a0.z-u135)*u136;l.x+=E*sign(a0.x)*(1.-u76);vec3 m=h*(l+A)*B+b;vec2 F=k*D;vec3 G=vec3(g*F,-k)+m*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(G,1.)),vv2=h*a2*vec3(1.,-1.,-1.),vv0=a3,vv4=smoothstep(u139,u140,a0.z),vv3=a1,vv1=m,vv5=a0.y;}",
c:k.concat(D,["u143"]),D:["a3","a0","a2","a1"],L:[4,3,3,2],ca:!0};v.s92NNGLtextureParamsMap={name:"_",b:"uniform sampler2D u1,u65;uniform vec4 u102,u7,u66;uniform vec3 u137;uniform float u138,u64;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;vec2 j(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float g=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv4),d=u138;vec4 a=u102,e=texture2D(u65,vv2);vec2 b=j(e.b,4.);float h=1.-b.x,o=b.y;b=j(e.a,1.);float p=b.x,f=b.y;vec4 q=vec4(e.rg,o,p);float r=h;a=mix(a,q,u66*f),d=mix(d,r,u66.b*f);float s=floor(15.99*d),t=floor(15.99*a.b);a.b=(s+16.*t)/255.;vec4 c=texture2D(u1,vv2);vec3 u=mix(u137,c.rgb,c.a);vec4 v=vec4(mix(c.rgb*u137,u,u64),c.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),g),gl_FragData[2]=v,gl_FragData[3]=a;}",
j:"attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;const vec2 e=vec2(1.,1.);const vec3 s=vec3(1.,1.,1.);const vec2 G=vec2(-1.,1.),t=vec2(.16,.5),u=vec2(.5,.5),v=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 w(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,t);vec2 f=u76*e;vec3 c=u76*s;vec2 x=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,u).rgb+vec3(u70,0.,0.),u73,c);float y=mix(texture2D(u39,v).r,0.,u76);a.z+=y;mat3 h=w(a);vec3 z=mix(u133,u74,c);float A=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 B=mat2(i,j,-j,i);b.xy=B*b.xy;float C=mix(u72,1.,u76);vec2 k=u71/x;vec3 l=a0;float D=max(0.,-a0.z-u135)*u136;l.x+=D*sign(a0.x)*(1.-u76);vec3 m=h*(l+z)*A+b;vec2 E=k*C;vec3 F=vec3(g*E,-k)+m*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(F,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv3=smoothstep(u139,u140,a0.z),vv2=a1,vv0=m,vv4=a0.y;}",
c:k.concat(D,I),D:["a0","a2","a1"],L:[3,3,2],ca:!0};v.s92NNGLtextureNormalParamsMap={name:"_",b:"uniform sampler2D u1,u143,u65;uniform vec4 u102,u7,u66;uniform vec3 u137;uniform float u138,u64;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 q=vec3(1.,1.,1.);vec2 k(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float r=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv5);vec3 E=vec3(0.,0.,-1.),g=normalize(vv2),d=texture2D(u143,vv3).xyz;d=normalize(d*255./127.-1.007874*q);vec3 h=vv0.xyz,s=cross(g,h)*vv0.w;mat3 t=mat3(h,s,g);vec3 u=t*d;float e=u138;vec4 a=u102,f=texture2D(u65,vv3);vec2 b=k(f.b,4.);float v=1.-b.x,w=b.y;b=k(f.a,1.);float x=b.x,l=b.y;vec4 y=vec4(f.rg,w,x);float z=v;a=mix(a,y,u66*l),e=mix(e,z,u66.b*l);float A=floor(15.99*e),B=floor(15.99*a.b);a.b=(A+16.*B)/255.;vec4 c=texture2D(u1,vv3);vec3 C=mix(u137,c.rgb,c.a);vec4 D=vec4(mix(c.rgb*u137,C,u64),c.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(u,r),gl_FragData[2]=D,gl_FragData[3]=a;}",
j:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec2 e=vec2(1.,1.);const vec3 t=vec3(1.,1.,1.);const vec2 H=vec2(-1.,1.),u=vec2(.16,.5),v=vec2(.5,.5),w=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 x(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,u);vec2 f=u76*e;vec3 c=u76*t;vec2 y=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,v).rgb+vec3(u70,0.,0.),u73,c);float z=mix(texture2D(u39,w).r,0.,u76);a.z+=z;mat3 h=x(a);vec3 A=mix(u133,u74,c);float B=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 C=mat2(i,j,-j,i);b.xy=C*b.xy;float D=mix(u72,1.,u76);vec2 k=u71/y;vec3 l=a0;float E=max(0.,-a0.z-u135)*u136;l.x+=E*sign(a0.x)*(1.-u76);vec3 m=h*(l+A)*B+b;vec2 F=k*D;vec3 G=vec3(g*F,-k)+m*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(G,1.)),vv2=h*a2*vec3(1.,-1.,-1.),vv0=a3,vv4=smoothstep(u139,u140,a0.z),vv3=a1,vv1=m,vv5=a0.y;}",
c:k.concat(D,["u143"],I),D:["a3","a0","a2","a1"],L:[4,3,3,2],ca:!0};k="u126 u114 u127 u102 u137 u138 u7".split(" ");v.s92color={name:"_",b:"uniform vec4 u102,u7;uniform vec3 u137;uniform float u138;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){float b=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv3),c=u138;vec4 a=u102;float d=floor(15.99*c),i=floor(15.99*a.b);a.b=(d+16.*i)/255.,gl_FragData[0]=vec4(vv0,vv2),gl_FragData[1]=vec4(normalize(vv1),b),gl_FragData[2]=vec4(u137,0.),gl_FragData[3]=a;}",j:"attribute vec3 a0,a2;uniform mat4 u126,u114,u127;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){vec4 a=u127*vec4(a0,1.),b=u127*vec4(a2,0.);gl_Position=u126*u114*a,vv0=a.xyz,vv1=b.xyz,vv2=1.,vv3=a0.y;}",
c:k,D:["a0","a2"],ca:!0};v.s92={name:"_",b:"uniform sampler2D u1;uniform vec4 u102,u7;uniform vec3 u137;uniform float u138,u64;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){float c=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv4),d=u138;vec4 b=u102;float j=floor(15.99*d),k=floor(15.99*b.b);b.b=(j+16.*k)/255.;vec4 a=texture2D(u1,vv2);vec3 l=mix(u137,a.rgb,a.a);vec4 m=vec4(mix(a.rgb*u137,l,u64),a.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),c),gl_FragData[2]=m,gl_FragData[3]=b;}",
j:"attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){vec4 a=u127*vec4(a0,1.),b=u127*vec4(a2,0.);gl_Position=u126*u114*a,vv2=a1,vv0=a.xyz,vv1=b.xyz,vv3=1.,vv4=a0.y;}",c:k.concat(D),D:["a0","a2","a1"],ca:!0};var x=["u143","u144"];v.s92NormalMap={name:"_",b:"uniform sampler2D u1,u143;uniform vec4 u102,u7;uniform vec3 u144,u137;uniform float u138,u64;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 l=vec3(1.,1.,1.);void main(){float m=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv5);vec3 v=vec3(0.,0.,-1.),d=normalize(vv2),b=texture2D(u143,vv3).xyz;b=normalize(b*255./127.-1.007874*l);vec3 g=vv0.xyz,n=cross(d,g)*vv0.w;mat3 o=mat3(g,n,d);vec3 p=o*b;float q=u138;vec4 c=u102;float r=floor(15.99*q),s=floor(15.99*c.b);c.b=(r+16.*s)/255.;vec4 a=texture2D(u1,vv3);vec3 t=mix(u137,a.rgb,a.a);vec4 u=vec4(mix(a.rgb*u137,t,u64),a.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(p,m),gl_FragData[2]=u,gl_FragData[3]=c;}",
j:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;void main(){vec4 a=u127*vec4(a0,1.),b=u127*vec4(a2,0.);gl_Position=u126*u114*a,vv0=a3,vv3=a1,vv1=a.xyz,vv2=b.xyz,vv4=1.,vv5=a0.y;}",c:k.concat(D,x),D:["a0","a2","a1","a3"],ca:!0};v.s92ParamsMap={name:"_",b:"uniform sampler2D u1,u65;uniform vec4 u102,u7,u66;uniform vec3 u137;uniform float u138,u64;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;vec2 j(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float g=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv4),d=u138;vec4 a=u102,e=texture2D(u65,vv2);vec2 b=j(e.b,4.);float h=1.-b.x,o=b.y;b=j(e.a,1.);float p=b.x,f=b.y;vec4 q=vec4(e.rg,o,p);float r=h;a=mix(a,q,u66*f),d=mix(d,r,u66.b*f);float s=floor(15.99*d),t=floor(15.99*a.b);a.b=(s+16.*t)/255.;vec4 c=texture2D(u1,vv2);vec3 u=mix(u137,c.rgb,c.a);vec4 v=vec4(mix(c.rgb*u137,u,u64),c.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),g),gl_FragData[2]=v,gl_FragData[3]=a;}",
j:"attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){vec4 a=u127*vec4(a0,1.),b=u127*vec4(a2,0.);gl_Position=u126*u114*a,vv2=a1,vv0=a.xyz,vv1=b.xyz,vv3=1.,vv4=a0.y;}",c:k.concat(D,I),D:["a0","a2","a1"],ca:!0};v.s92NormalParamsMap={name:"_",b:"uniform sampler2D u1,u143,u65;uniform vec4 u102,u7,u66;uniform vec3 u144,u137;uniform float u138,u64;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 q=vec3(1.,1.,1.);vec2 k(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float r=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv5);vec3 E=vec3(0.,0.,-1.),g=normalize(vv2),d=texture2D(u143,vv3).xyz;d=normalize(d*255./127.-1.007874*q);vec3 h=vv0.xyz,s=cross(g,h)*vv0.w;mat3 t=mat3(h,s,g);vec3 u=t*d;float e=u138;vec4 a=u102,f=texture2D(u65,vv3);vec2 b=k(f.b,4.);float v=1.-b.x,w=b.y;b=k(f.a,1.);float x=b.x,l=b.y;vec4 y=vec4(f.rg,w,x);float z=v;a=mix(a,y,u66*l),e=mix(e,z,u66.b*l);float A=floor(15.99*e),B=floor(15.99*a.b);a.b=(A+16.*B)/255.;vec4 c=texture2D(u1,vv3);vec3 C=mix(u137,c.rgb,c.a);vec4 D=vec4(mix(c.rgb*u137,C,u64),c.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(u,r),gl_FragData[2]=D,gl_FragData[3]=a;}",
j:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;void main(){vec4 a=u127*vec4(a0,1.),b=u127*vec4(a2,0.);gl_Position=u126*u114*a,vv0=a3,vv3=a1,vv1=a.xyz,vv2=b.xyz,vv4=1.,vv5=a0.y;}",c:k.concat(D,x,I),D:["a0","a2","a1","a3"],ca:!0}}else g();r();k=[{type:"1i",name:"u1",value:0}];F.f("s0",k);F.f("s1",k);F.f("s65",[{type:"1i",name:"u6",value:1}].concat(k));F.f("s66",[{type:"1i",name:"u6",
value:1}].concat(k));F.f("s12",[{type:"1i",name:"u79",value:1}].concat(k));F.f("s67",[{type:"1i",name:"u79",value:1}].concat(k));F.f("s68",k);F.f("s69",k);F.f("s70",[{type:"1i",name:"u83",value:1},{type:"1i",name:"u39",value:2}].concat(k));F.f("s71",k);F.f("s43",k);F.f("s72",[{type:"1i",name:"u85",value:0},{type:"1i",name:"u86",value:1}]);F.f("s73",[{type:"1i",name:"u89",value:0},{type:"1i",name:"u90",value:1}]);F.f("s74",k);F.f("s75",k);F.f("s76",k);F.f("s77",k);F.f("s78",k);F.f("s79",[{type:"1i",
name:"u79",value:1}].concat(k));F.f("s80",[{type:"1i",name:"u79",value:1}].concat(k));T.$&&(F.f("s84",[{type:"1i",name:"u99",value:0},{type:"1i",name:"u100",value:1},{type:"1f",name:"u120",value:T.Zj},{type:"1f",name:"u121",value:T.$j},{type:"1f",name:"u122",value:T.lk},{type:"1f",name:"u123",value:T.ck},{type:"1f",name:"u124",value:T.dk},{type:"1f",name:"u119",value:1},{type:"1f",name:"u111",value:1}]),F.f("s85",k));x=[{type:"1i",name:"u99",value:0},{type:"1i",name:"u100",value:1},{type:"1i",name:"u101",
value:2},{type:"1i",name:"u89",value:3},{type:"1i",name:"u103",value:4},{type:"1i",name:"u102",value:6},{type:"1i",name:"u91",value:7},{type:"1f",name:"u109",value:0},{type:"1f",name:"u106",value:0},{type:"1f",name:"u108",value:0}];T.$&&F.f("s82",x.concat([{type:"1f",name:"u111",value:T.bk[ba.P()]},{type:"1i",name:"u110",value:5}]));F.f("s83",x.concat([{type:"1f",name:"u112",value:T.Zb},{type:"1f",name:"u113",value:T.Ld}]));F.f("s87",[{type:"1i",name:"u128",value:0},{type:"1i",name:"u103",value:1},
{type:"1i",name:"u90",value:2},{type:"1f",name:"u131",value:T.co}]);F.f("s88",k);F.f("s89",k);F.f("s81",[{type:"1i",name:"u2",value:1},{type:"1i",name:"u92",value:2},{type:"1i",name:"u91",value:3},{type:"1f",name:"u97",value:1},{type:"2f",name:"u94",value:[0,0]}].concat(k));ba.W()?(F.f("s92",k),F.f("s92NormalMap",[{type:"1i",name:"u143",value:1}].concat(k)),F.f("s92ParamsMap",[{type:"1i",name:"u65",value:1}].concat(k)),F.f("s92NormalParamsMap",[{type:"1i",name:"u143",value:1},{type:"1i",name:"u65",
value:2}].concat(k))):u();p=!0},Rn:function(){g();r();u()},qd:function(){return e.id},ef:function(){return t},ff:function(){return y},set:function(k){pb.fj(F);v[k].set()},yb:function(k){return n(k,m())},Qd:function(k){return n(k,{name:"_",b:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",c:[],precision:"highp"})},Un:function(k){return n(k,{name:"_",b:"const vec4 d=vec4(.5,.5,.5,.5);void main(){gl_FragData[0]=d,gl_FragData[1]=d,gl_FragData[2]=d,gl_FragData[3]=d;}",c:[],precision:"highp",ca:!0})},F:function(){-1!==
h&&e.F()},Sd:function(){var k=0;e.va.forEach(function(x,w){w=e.L[w];c.vertexAttribPointer(x,w,c.FLOAT,!1,e.Ig,k);k+=4*w})},Lc:function(){F.cc(c)},cc:function(k){k.vertexAttribPointer(e.va[0],2,k.FLOAT,!1,8,0)},$p:function(){c.vertexAttribPointer(e.attributes.a0,3,c.FLOAT,!1,12,0)},Ra:function(){c.vertexAttribPointer(e.attributes.a0,3,c.FLOAT,!1,32,0)},$a:function(){c.vertexAttribPointer(e.attributes.a0,3,c.FLOAT,!1,24,0)},Zi:function(){c.vertexAttribPointer(e.attributes.a2,3,c.FLOAT,!1,32,12)},$i:function(){c.vertexAttribPointer(e.attributes.a2,
3,c.FLOAT,!1,24,12)},Jc:function(){c.vertexAttribPointer(e.attributes.a1,2,c.FLOAT,!1,32,24)},aq:function(){c.vertexAttribPointer(e.attributes.a0,3,c.FLOAT,!1,20,0);c.vertexAttribPointer(e.attributes.a1,2,c.FLOAT,!1,20,12)},In:function(){c.vertexAttribPointer(e.attributes.a0,3,c.FLOAT,!1,32,0);c.vertexAttribPointer(e.attributes.a2,3,c.FLOAT,!1,32,12);c.vertexAttribPointer(e.attributes.a1,2,c.FLOAT,!1,32,24)},Jn:function(){c.vertexAttribPointer(e.attributes.a0,3,c.FLOAT,!1,32,0);c.vertexAttribPointer(e.attributes.a2,
3,c.FLOAT,!1,32,12)},Kn:function(){c.vertexAttribPointer(e.attributes.a0,3,c.FLOAT,!1,24,0);c.vertexAttribPointer(e.attributes.a2,3,c.FLOAT,!1,24,12)},Od:function(){c.vertexAttribPointer(e.attributes.a3,4,c.FLOAT,!1,16,0)},Rd:function(k,x){c.uniform1i(e.v[k],x)},C:function(k,x){c.uniform1f(e.v[k],x)},K:function(k,x,w){c.uniform2f(e.v[k],x,w)},gj:function(k,x){c.uniform2fv(e.v[k],x)},lg:function(k,x,w,O){c.uniform3f(e.v[k],x,w,O)},mg:function(k,x){c.uniform3fv(e.v[k],x)},za:function(k,x){c.uniform4fv(e.v[k],
x)},Yn:function(k,x){c.uniformMatrix2fv(e.v[k],!1,x)},Zn:function(k,x){c.uniformMatrix3fv(e.v[k],!1,x)},Kc:function(k,x){c.uniformMatrix4fv(e.v[k],!1,x)},f:function(k,x){F.set(k);x.forEach(function(w){switch(w.type){case "4f":c.uniform4fv(e.v[w.name],w.value);break;case "3f":c.uniform3fv(e.v[w.name],w.value);break;case "2f":c.uniform2fv(e.v[w.name],w.value);break;case "1f":c.uniform1f(e.v[w.name],w.value);break;case "1i":c.uniform1i(e.v[w.name],w.value);break;case "mat2":c.uniformMatrix2fv(e.v[w.name],
!1,w.value);break;case "mat4":c.uniformMatrix4fv(e.v[w.name],!1,w.value)}})},H:function(){for(var k in v){var x=v[k];c.detachShader(x.na,x.jf);c.detachShader(x.na,x.hf);c.deleteShader(x.jf);c.deleteShader(x.hf);c.deleteProgram(x.na)}},u:function(){c.disableVertexAttribArray(0);F.F();F.H();G=0;p=!1;e=null;h=-1}};return F}(),Sa=function(){var a={},b=[],f=!1,d=0,n=0,m=-1,u=-1,g=-1,r=1,p=null,D=!1,I=null,t=!1,y=!1,v=!1,h=!1,e=!1,G=!1,F=!1,k=null,x=null,w=-1,O=-1,L=null,z=-1,l,q=null,K=null,J=null,N=null,
S=null,aa=null,W=null,P=[{type:"1f",name:"u76",value:0},{type:"1f",name:"u139",value:0},{type:"1f",name:"u140",value:0},{type:"1f",name:"u71",value:1},{type:"1f",name:"u68",value:0},{type:"1f",name:"u78",value:1}],A={h:function(B,C){a.og=B;ba.Eg();uc.We();Hb.We(B.je);m=B.Ye;u=B.Oo;g=B.Rf;r=B.ie;var Q=[{type:"1f",name:"u71",value:m},{type:"1f",name:"u68",value:g},{type:"1f",name:"u72",value:B.xn},{type:"mat4",name:"u67",value:B.an},{type:"2f",name:"u40",value:B.Ij}];B.Dg=Q;var ea=[{type:"3f",name:"u73",
value:[0,0,0]},{type:"3f",name:"u74",value:B.Mg},{type:"3f",name:"u75",value:B.Lg},{type:"1f",name:"u76",value:0},{type:"1f",name:"u77",value:B.je},{type:"1f",name:"u78",value:1}];B.yj=ea;A.em(B,C);f||void 0!==B.Ga||(B.Ga=[0,0,120]);F=G=H.kf;if(!f&&G){C=1*ba.sb();var ja=1*ba.rb(),ka={isLinear:!0,isPot:!1,width:C,height:ja};k=X.instance(ka);x=X.instance(ka);w=1/C;O=1/ja}Q=[{type:"1i",name:"u39",value:1},{type:"3f",name:"u69",value:B.Ga},{type:"1f",name:"u135",value:B.wa},{type:"1f",name:"u136",value:B.pa}].concat(Q,
ea);p=B.ma;ea=[{type:"1f",name:"u139",value:p[0]},{type:"1f",name:"u140",value:p[1]}];ba.W()?(C=[{type:"1i",name:"u1",value:0}],ja=[{type:"1i",name:"u143",value:2}],E.f("s92NNGLcolor",Q.concat(ea)),E.f("s92NNGLtexture",C.concat(Q,ea)),E.f("s92NNGLtextureNormalMap",C.concat(ja,Q,ea)),E.f("s92NNGLtextureParamsMap",[{type:"1i",name:"u65",value:2}].concat(C,Q,ea)),E.f("s92NNGLtextureNormalParamsMap",[{type:"1i",name:"u65",value:3}].concat(C,ja,Q,ea))):(E.f("s96",Q.concat(ea)),E.f("s97",[{type:"1i",name:"u1",
value:0}].concat(Q)),E.f("s98",Q),E.f("s99",Q),E.f("s100",Q.concat([{type:"1i",name:"u143",value:0}])),E.f("s101",Q),E.f("s102",Q.concat([{type:"1i",name:"u65",value:0}])));E.f("s70",[{type:"2f",name:"u84",value:B.vg}]);E.f(T.$?"s82":"s83",[{type:"1f",name:"u106",value:B.we},{type:"3f",name:"u107",value:B.ag},{type:"1f",name:"u108",value:B.Ke},{type:"1f",name:"u109",value:1},{type:"3f",name:"u104",value:B.Qj}]);if(l=B.Dd)L=B.Fm,z=B.Ed,E.f("s81",[{type:"4f",name:"u93",value:B.Cd},{type:"1f",name:"u96",
value:B.Jf},{type:"2f",name:"u94",value:B.Em},{type:"1f",name:"u98",value:Math.sign(z)}]);b.forEach(function(Ca){Ca.Wi(B)});f=!0},ac:function(B){y&&ua.ia.ac(B);v&&ua.ra.ac(B)},em:function(B,C){void 0!==ua.ia&&B.ec&&ba.W()&&(ua.ia.h(B),t=!0,C.push(function(Q){ua.ia.ac(Q);y=!0}));void 0!==ua.ra&&B.cd&&(ua.ra.h(B),C.push(function(Q){ua.ra.ac(Q);v=!0}));void 0!==ua.lc&&B.Be&&(ua.lc.h(B),e=h=!0);void 0!==ua.lb&&(ua.lb.h(B),I=ua.lb.gm({width:B.wc,height:2*B.wc,depth:1.5*B.wc,pl:-B.qf,Ua:B.mf,Qk:B.pf}),
D=!0)},Wn:function(B,C,Q,ea){B&&(W=B,t&&ua.ia.bc(B),v&&ua.ra.bc(B),h&&ua.lc.bc(B),b.forEach(function(ja){ja.bc(B)}));Q&&(N=Q);ea&&(S=ea)},zb:function(B){ba.W()?(E.f("s92NNGLcolor",B),E.f("s92NNGLtexture",B),E.f("s92NNGLtextureNormalMap",B),E.f("s92NNGLtextureParamsMap",B),E.f("s92NNGLtextureNormalParamsMap",B)):(E.f("s96",B),E.f("s97",B),E.f("s98",B),E.f("s99",B),E.f("s100",B),E.f("s101",B),E.f("s102",B))},bb:function(B,C,Q){var ea=[B[0]+C[0],B[1]+C[1],B[2]+C[2]];ea=[ea[0]+Q[0],ea[1]+Q[1],ea[2]+Q[2]];
a.Ha=ea;a.Mm=C;a.Bo=Q;A.zb([{type:"3f",name:"u133",value:ea}]);ba.W()&&(t&&ua.ia.bb(B,C,Q),v&&ua.ra.bb(ea));D&&ua.lb.bb(B)},cb:function(B,C,Q){var ea=B*C*Q;a.Nm=C;a.Co=Q;a.Zl=B;A.zb([{type:"1f",name:"u134",value:ea}]);ba.W()&&(t&&ua.ia.cb(B*C,Q),v&&ua.ra.cb(ea));D&&ua.lb.cb(B)},Pi:function(){A.bb(a.Ha,a.Mm,a.Bo);A.cb(a.Zl,a.Nm,a.Co);A.dj(a.Hc);A.h(a.og);A.aj(a.uk,a.pa)},dj:function(B){a.Hc=B;A.zb([{type:"1f",name:"u70",value:B}]);ba.W()&&(t&&ua.ia.jg(B),v&&ua.ra.jg(B))},aj:function(B,C){a.uk=B;a.pa=
C;A.zb([{type:"1f",name:"u135",value:B},{type:"1f",name:"u136",value:C}])},Pn:function(B){p=B;0===d&&A.zb([{type:"1f",name:"u139",value:p[0]},{type:"1f",name:"u140",value:p[1]}])},ab:function(B){function C(){D&&ua.lb.toggle(!1);l&&E.f("s81",[{type:"1f",name:"u97",value:0}])}0>=B?(n=0,0!==d&&(d=0,Hb.qn(),D&&ua.lb.toggle(!0),l&&E.f("s81",[{type:"1f",name:"u97",value:1}]))):1<=B?(n=1,1!==d&&(d=1,Hb.nj(!0)),C()):(n=B,2!==d&&(Hb.nj(!1),d=2,C()));E.f("s83",[{type:"1f",name:"u109",value:1-B}]);P[0].value=
n;P[1].value=p[0]*(1-B)+-300*B;P[2].value=p[1]*(1-B)+-300*B;P[3].value=m*(1-B)+B*u;P[4].value=g*(1-B);P[5].value=1-B+B*r;y&&ua.ia.kg(n,P);v&&ua.ra.kg(n,P);A.zb(P)},ll:function(B){W.a(1);B.forEach(function(C){C.fl()});D&&I.S()},ym:function(){return 1===d},ye:function(B){W.Jb(B)},Vj:function(B){b.push(B)},tg:function(B){y=B&&t},sg:function(B){e=B&&h},gg:function(B){v&&ba.W()&&ua.ra.$n(B)},Ab:function(B){ba.W()&&(t&&ua.ia.Ab(B),v&&ua.ra.Ab(B))},il:function(B,C){if(!F)return!1;k.O();B.a(0);E.set("s74");
E.K("u8",0,O);Y.g(!1,!1);x.i();k.a(0);E.K("u8",w,0);Y.g(!1,!1);E.set("s75");C.O();x.a(0);Y.g(!1,!1);return!0},mj:function(B){F=B&&G},resize:function(B,C,Q){B*=Q;C*=Q;G&&(k.resize(B,C),x.resize(B,C),w=1/B,O=1/C)},eg:function(B,C){var Q=B.I(),ea=B.V(),ja={width:Q,height:ea,isPot:!1};t&&(J&&J.remove(),J=X.instance(ja));q=ya.instance({width:Q,height:ea});h||v?(ua.lc.fg(Q,ea),K&&K.remove(),K=X.instance(ja)):K=B;t&&ua.ia.fg(Q,ea);C&&(aa&&aa.remove(),aa=X.instance(ja))},dl:function(B){var C=null;switch(d){case 0:C=
B;break;case 2:q.bind(!1,!0);aa.i();E.set("s65");E.C("u7",n);B.a(1);S.a(0);Y.g(!0,!0);C=aa;break;case 1:C=S}if(!y||1===d||!ba.W())return C;C.Jb(0);e&&ua.lc.S(C,K);q.bind(!1,!e);v&&(e?C.a(0):(K.i(),E.set("s1"),Y.g(!0,!0)),ua.ra.S());K.a(0);N.Jb(2);ua.ia.S();J.i();E.set("s1");e||v?K.a(0):C.a(0);Y.g(!0,!T.$);ua.ia.add();return J},jl:function(B,C){if(!l)return!1;E.set("s81");E.C("u95",B*z);L.a(1);Sa.ye(2);K?K.a(3):C.a(3);return!0},u:function(){f=!1;n=d=0;g=u=m=-1;r=1;p=null;D=!1;I=null;e=h=v=y=t=!1;ua.ia.u();
ua.kb.u()}};return A}(),ta=function(){function a(){g.forEach(function(C){C.ml(N)})}function b(){g.forEach(function(C){C.gd(N)})}function f(){g.forEach(function(C){C.kl(N)})}function d(){g.forEach(function(C){C.hd(N)})}function n(){N?Sa.ll(g):g.forEach(function(C){C.gl()})}function m(){q&&clearTimeout(q);q=setTimeout(function(){q=w=!1},16)}function u(C){C()}var g=[],r=[],p={da:!1,position:!1,vb:!1},D=[],I=[],t=null,y=0,v=null,h=null,e=null,G=null,F=!1,k=!1,x=!1,w=!1,O=!1,L=!1,z=null,l=null,q=null,
K=null,J=!1,N=!1,S=!1,aa=!1,W=!1,P=!1,A=!1,B={h:function(){c.enable(c.DEPTH_TEST);c.depthFunc(c.LEQUAL);c.clearDepth(1);T.Ok?(c.enable(c.CULL_FACE),c.frontFace("CCW"===T.Pk?c.CCW:c.CW),c.cullFace(c.BACK)):c.disable(c.CULL_FACE);B.fh();var C={isPot:!1,isLinear:!1,width:ba.sb(),height:ba.rb(),A:4,isFloat:!1};v=X.instance(C);C=Object.assign({},C,{isLinear:!0,width:ba.I(),height:ba.V()});h=X.instance(C);e=X.instance(C);T.Oa&&(C=Object.assign({},C,{isLinear:!1}),G=X.instance(C));L=Aa.aa();T.Oa||(t=Yb.instance({Ib:T.Ib,
qc:T.qc,rc:T.rc,pc:T.pc}));F=!0},fh:function(){ba.W()?p=kc.instance({}):(p.da=Bb.instance({dc:T.Oa?!1:"s93",isFloat:!1,Sb:!0,clearColor:[0,0,0,0],A:4}),p.position=Bb.instance({dc:T.Oa?!1:"s103",isFloat:!0,Sb:!0,clearColor:[0,0,0,0],A:4}),p.vb=Bb.instance({dc:!1,isFloat:!0,Sb:!0,clearColor:[0,0,0,0],A:4}),p.Dc=Bb.instance({dc:!1,isFloat:!1,Sb:!0,clearColor:[0,0,0,0],A:4}))},Jl:function(){return t},sa:function(C){t=C},nq:function(){},Ab:function(C){Sa.Ab(C)},Wi:function(C){Sa.h(C,D);ba.W()||(p.da.ej(!1),
p.position.ej("s96"));N=aa=!0},Yp:function(){Sa.Pi()},Uo:function(C){Sa.Vj(C)},Dn:function(C,Q,ea){Sa.bb(C,Q,ea)},En:function(C,Q,ea){Sa.cb(C,Q,ea)},Bn:function(C,Q){Sa.aj(C,Q)},Cn:function(C){Sa.Pn(C)},Fn:function(C){Sa.dj(C)},ab:function(C){Sa.ab(C)},Xi:function(C,Q,ea,ja){Sa.Wn(C,Q,ea,ja);Q&&B.eg(Q,ja?!0:!1);S=!0},tg:function(C){Sa.tg(C)},gg:function(C){Sa.gg(C)},sg:function(C){Sa.sg(C)},mj:function(C){Sa.mj(C)},Vo:function(C){J&&(W=!0,P=X.instance({width:K.I(),height:K.V(),isPot:!1}),A=C)},eg:function(C,
Q){"string"===typeof C?K=X.instance({url:C,isFloat:!1}):K=C;N&&Sa.eg(K,Q);J=!0},Uj:function(C){g.push(C);0!==D.length&&(D.forEach(function(Q){Q(C)}),D.splice(0,D.length))},nn:function(C){C=g.indexOf(C);-1!==C&&g.splice(C,1)},Wo:function(C){r.push(C)},Vp:function(C){C=r.indexOf(C);-1!==C&&r.splice(C,1)},Xd:function(C){N&&(k=C)},animate:function(C){!T.Oa||N&&S?k&&(w||y>T.Om&&O?(z&&clearTimeout(z),++y,window.cancelAnimationFrame(B.animate),z=setTimeout(function(){window.requestAnimationFrame(B.animate)},
16)):(B.Ki(C),++y,N||k&&window.requestAnimationFrame(B.animate))):setTimeout(B.animate,100)},Zo:function(C){I.push(C)},Ki:function(C){if((!T.Oa||N&&S)&&F){I.forEach(u);if(ba.W()){if(!p.set()&&!ba.ga_()){ba.qo();B.fh();Bb.Wc();E.Rn();T.Oa&&Sa.Pi();c.flush();window.requestAnimationFrame(B.animate);return}N||pc.pn();n();p.F();L&&c.depthMask(!1)}else N&&Sa.ye(1),p.da.set(!0,!0,!0),b(),p.da.F(),L&&c.depthMask(!1),p.Dc.set(!1,!L,!1),f(),p.Dc.F(),p.position.set(!0,!L,!1),lb.S(),a(),p.position.F(),p.vb.set(!1,
!L,!1),d(),p.vb.F();c.disable(c.DEPTH_TEST);L||c.depthMask(!1);T.$&&xb.S();var Q=B.yh();null!==Q&&(Q.a(7),E.set(T.$?"s82":"s83"),E.K("u8",1/ba.sb(),1/ba.rb()),Bb.vk(),v.O(),T.dn?(c.enable(c.BLEND),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA)):c.disable(c.BLEND),N||lb.Ve(),p.position.a(0),p.vb.a(1),p.da.a(2),t.Zc(3),p.Dc.a(6),t.$c(4),t.jh(),T.$&&xb.a(5),Y.g(!0,!0),ya.ka(),Sa.il(v,h)||(E.set("s1"),h.O(),v.a(0),Y.g(!1,!1)),E.set("s71"),e.O(),h.a(0),Y.g(!1,
!1),h.i(),e.a(0),aa&&N?(E.set("s70"),G.a(1),Sa.ye(2),Y.g(!1,!1),E.set("s1"),G.O(),h.a(0),Y.g(!1,!1)):(E.set("s69"),Y.g(!1,!1),h.a(0)),ya.X(),c.viewport(0,0,ba.I(),ba.V()),N&&Sa.jl(C,Q)||E.set("s1"),Y.g(!1,!1),c.enable(c.DEPTH_TEST),c.depthMask(!0),c.flush())}},yh:function(){if(!J)return X.Ih();if(!N)return K;if(W&&!Sa.ym()){E.set(A);ya.ka();P.Mc();P.i();K.a(0);var C=P;Y.g(!0,!0)}else C=K;return Sa.dl(C)},io:function(){T.Uk||k||(k=!0,B.animate(Date.now()),x||lc.jo(),x||Hb.kc(!1),l&&clearTimeout(l),
T.$&&xb.Pd(),l=setTimeout(B.Aa,T.rk),x||ba.bm(),x=!0)},lq:function(){k&&(O=k=!1,cancelAnimationFrame(B.animate))},Aa:function(){O||!x||w||T.hh||(O=w=!0,l&&clearTimeout(l),q&&clearTimeout(q),lb.af().Mi(),l=setTimeout(function(){ba.Gg(T.Tm);T.$&&xb.zj();y=0;m()},24))},wake:function(){O&&x&&!w&&(w=!0,O=!1,y=0,lb.af().Mi(),l&&clearTimeout(l),q&&clearTimeout(q),l=setTimeout(function(){ba.Gg(1);T.$&&xb.Pd();m()},16))},Hp:function(){},np:function(){},Wd:function(C){aa=C},rq:function(){E.f("s83",[{type:"1f",
name:"u112",value:T.Zb},{type:"1f",name:"u113",value:T.Ld}])},resize:function(C,Q,ea){v.resize(C*ea,Q*ea);h.resize(C,Q);e.resize(C,Q);T.Oa&&G.resize(C,Q);Sa.resize(C,Q,ea);C=[{type:"2f",name:"u8",value:[1/C,1/Q]}];E.f("s71",C);E.f("s69",C)},H:function(){z&&clearTimeout(z);l&&clearTimeout(l);q&&clearTimeout(q);g.concat(r).forEach(function(C){C.H()});g.splice(0,g.length);r.splice(0,r.length);p.da.remove();p.vb.remove();p.Dc.remove();p.position.remove();v.remove();h.remove();e.remove();G&&G.remove();
w=!0},u:function(){B.H();L=O=w=x=k=N=S=w=!1}};return B}(),ua={},ba=function(){function a(){Bb.resize(f*r,d*r);v.W()&&kc.resize(f*r,d*r);ta.resize(f,d,r);T.$&&xb.resize(f*r,d*r,r);v.Eg()}var b=null,f=0,d=0,n=-1,m=!1,u={Zd:!1,wg:!1,wj:!1,pg:!1,drawBuffers:!1,rm:!1,$h:!1,tm:!1,zc:!1,Ya:!1},g=Object.assign({},u),r=1,p=!1,D=!1,I=!1,t=!1,y=!1,v={h:function(h){void 0!==h.onload&&h.onload&&(D=h.onload);void 0===h.expand&&(h.expand=!1);void 0===h.xd&&(h.xd=!1);void 0===h.qa&&(h.qa=!1);void 0===h.Qb&&(h.Qb=
!1);void 0===h.alpha&&(h.alpha=!1);void 0===h.preserveDrawingBuffer&&(h.preserveDrawingBuffer=!1);h.xd&&(m=!0);h.qa?b=h.qa:b=document.getElementById(h.Ik);h.expand&&v.expand();try{window.Da=h.Qb?h.Qb.ul():b.getContext("webgl",{antialias:!1,alpha:h.alpha,depth:!0,premultipliedAlpha:!1,stencil:!1,preserveDrawingBuffer:h.preserveDrawingBuffer});t=h.Qb?h.Qb.ga_():!1;I=!t;8>c.getParameter(c.MAX_TEXTURE_IMAGE_UNITS)&&v.dd("too few texture image units");if(!Aa.h())return v.dd("invalid config");T.yo&&(g.wg=
c.getExtension("EXT_texture_filter_anisotropic"),g.wg&&(g.$h=!0));T.zo&&(g.Zd=c.getExtension("WEBGL_compressed_texture_s3tc"),g.Zd&&void 0!==g.Zd.COMPRESSED_RGBA_S3TC_DXT5_EXT&&g.Zd.COMPRESSED_RGBA_S3TC_DXT5_EXT&&(g.rm=!0));I&&(g.wj=c.getExtension("OES_element_index_uint")||c.getExtension("MOZ_OES_element_index_uint")||c.getExtension("WEBKIT_OES_element_index_uint"),g.wj&&(g.tm=!0));!t&&T.Ao&&(g.pg=c.getExtension("EXT_sRGB"),g.pg&&(g.zc=!0));I?(g.drawBuffers=c.getExtension("WEBGL_draw_buffers"),g.drawBuffers&&
!T.gh&&(g.Ya=!0)):g.Ya=4<=c.getParameter(c.MAX_DRAW_BUFFERS);if(g.Ya){var e=v.Xk();g.Ya=g.Ya&&e}}catch(G){return v.dd(G)}if(null===c||!c)return v.dd("NO_GL");h.expand&&window.addEventListener("resize",v.expand,!1);b.addEventListener("contextmenu",function(G){G.preventDefault();return!1},!1);f=b.width;d=b.height;v.uf();return!0},uf:function(){n=m?3:2;Aa.aa()||(n=Math.min(n,1));Aa.Ek()||(n=Math.min(n,0));uc.h();Bb.h();for(var h in ua)ua[h].Gc();E.h();lb.h();Hb.h();ta.h();lc.h();T.$&&xb.h();"undefined"!==
typeof FPSCounter&&FPSCounter.h();v.Eg();v.Zk();p=!0;D&&D();return!0},Zk:function(){if(g.Ya){var h=kc.instance({width:256,height:1});h.bind();c.viewport(0,0,256,1);E.set("s91");E.za("color",[1,0,0,1]);Y.g(!0,!0);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT||c.DEPTH_BUFFER_BIT);ya.X();E.set("s1");h.vb.a(0);Y.g(!1,!1);h=new Uint8Array(1024);c.readPixels(0,0,256,1,c.RGBA,c.UNSIGNED_BYTE,h);y=1>=h[1020]}},Xk:function(){var h=kc.instance({width:1,height:1});if(!h.set())return h.remove(),!1;E.Un(c);
Y.Nb(c);c.bindFramebuffer(c.FRAMEBUFFER,null);E.yb(c);h.da.Jb(0);Y.Nb(c);var e=new Uint8Array(4);c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,e);h.remove();return 3<Math.abs(e[0]-127)?!1:!0},ga_:function(){return t},I:function(){return f},V:function(){return d},sb:function(){return r*v.I()},rb:function(){return r*v.V()},wl:function(){return f/d},P:function(){return n},wm:function(){return 3===n},ci:function(){return y},W:function(){return g.Ya},qo:function(){g.Ya=!1},Np:function(){return!1},Gk:function(){return 0<
v.P()},fp:function(){return v.W()&&0<v.P()},$e:function(h){var e=c,G="";t||(e=g.drawBuffers,G="_WEBGL");return[e["COLOR_ATTACHMENT0"+G],e["COLOR_ATTACHMENT1"+G],e["COLOR_ATTACHMENT2"+G],e["COLOR_ATTACHMENT3"+G]].splice(0,h)},pd:function(h){return v.$e(4)[h]},Vl:function(){return t?c.SRGB?c.SRGB:c.RGBA:g.zc?g.pg.SRGB_ALPHA_EXT:c.RGBA},um:function(){return g.$h},Cl:function(){return g.wg},Im:function(h){v.ga_()?c.drawBuffers(v.$e(h)):g.drawBuffers.drawBuffersWEBGL(v.$e(h))},expand:function(){ta.wake();
v.resize(window.innerWidth,window.innerHeight);ta.Aa()},resize:function(h,e){!b||h===f&&e===d||(f=h,d=e,b.width=f,b.height=d,p&&(lb.resize(),a()))},Eg:function(){var h=[{type:"2f",name:"u8",value:[1/ba.sb(),1/ba.rb()]}];E.f("s71",h);E.f("s69",h)},Gg:function(h){r=h;a()},Ka:function(h,e){b.addEventListener(h,e,!1)},dd:function(){n=-1;return!1},$g:function(){return 0<=n},Qp:function(){},Zp:function(){},kq:function(){var h=document.getElementById("loading");h&&(h.style.display="block")},bm:function(){var h=
document.getElementById("loading");h&&(h.style.display="none")},H:function(){v.$g()&&(X.xj(),ta.H(),Y.H(),Bb.H(),T.$&&xb.H(),Yb.H(),lc.H(),E.H(),X.H(),c.flush(),c=null)},u:function(){ta.u();Sa.u();E.u();Object.assign(g,u);p=!1}};return v}(),lb=function(){var a=!1,b=!1,f=[];return{h:function(){},instance:function(d){void 0===d.Ni&&(d.Ni=!0);void 0===d.me&&(d.me=.1);void 0===d.le&&(d.le=100);void 0===d.direction&&(d.direction=[0,0,-1]);void 0===d.Ob&&(d.Ob=45);var n=new Pb,m=new Qa(50,-50,-400),u=null;
n.setPosition(m);var g=new Int8Array(20),r=new Int8Array(20),p=0,D=0,I=0,t=0,y={S:function(){r[E.qd()]||(E.Kc("u114",n.elements),r[E.qd()]=1);g[E.qd()]||(E.Kc("u126",u),g[E.qd()]=1)},Ue:function(){D||(E.Kc("u114",n.elements),D=1);p||(E.K("u115",u[0],u[5]),p=1)},Ve:function(){I||(E.lg("u104",m.x,m.y,m.z),I=1)},Lb:function(){t||(E.lg("u144",m.x,m.y,m.z),t=1)},bh:function(){var v=d.me,h=d.le,e=Math.tan(.5*d.Ob*Math.PI/180);u=[.5/e,0,0,0,0,.5*ba.wl()/e,0,0,0,0,-(h+v)/(h-v),-1,0,0,-2*h*v/(h-v),0];for(v=
0;20>v;++v)g[v]=0;p=0},Qn:function(v,h){m.Ui(h[0]).Vi(h[1]).z=h[2];n.elements.set(v);for(v=0;20>v;++v)r[v]=0;t=I=D=0},Mi:function(){for(var v=t=I=0;20>v;++v)r[v]=0}};y.bh();a=y;b=!0;d.Ni&&f.push(y);return y},S:function(){b&&a.S()},Ue:function(){b&&a.Ue()},Ve:function(){b&&a.Ve()},Lb:function(){b&&a.Lb()},resize:function(){f.forEach(function(d){d.bh()})},af:function(){return a}}}(),Bb=function(){var a=[],b=null;return{h:function(){b=ya.instance({width:ba.sb(),height:ba.rb(),xc:!ba.W()})},instance:function(f){void 0===
f.width&&(f.width=ba.sb());void 0===f.height&&(f.height=ba.rb());void 0===f.isFloat&&(f.isFloat=!1);void 0===f.Sb&&(f.Sb=!1);void 0===f.clearColor&&(f.clearColor=[0,0,0,0]);void 0===f.A&&(f.A=4);var d=X.instance({isFloat:f.isFloat&&Aa.aa(),N:f.isFloat,width:f.width,height:f.height,isPot:!1,isLinear:!1,A:f.A}),n=void 0!==f.dc&&f.dc?!0:!1,m=f.dc,u={set:function(g,r,p){p&&b.bind(!1,p);d.i();g&&(c.clearColor(f.clearColor[0],f.clearColor[1],f.clearColor[2],f.clearColor[3]),b.Fe());r&&b.ah();n&&E.set(m)},
ej:function(g){n=(m=g)?!0:!1},F:function(){d.be()},a:function(g){d.a(g)},resize:function(g,r){d.resize(g,r)},debug:function(){d.debug()},remove:function(){d.remove()}};f.Sb&&a.push(u);return u},resize:function(f,d){b.resize(f,d);a.forEach(function(n){n.resize(f,d)})},vk:function(){b.Ug()},Wc:function(){b.Wc()},Mc:function(){b.Mc()},ip:function(){b.ah()},hp:function(){b.Fe()},gp:function(){b.clear()},H:function(){b.remove()}}}(),kc=function(){var a=[];return{instance:function(b){void 0===b.width&&
(b.width=ba.sb());void 0===b.height&&(b.height=ba.rb());var f=c.createFramebuffer(),d=b.width,n=b.height,m=!0;b={isFloat:Aa.aa(),N:!0,width:d,height:n,isPot:!1,isLinear:!1,A:4};var u=X.instance(b),g=X.instance(b),r=X.instance(b),p=X.instance(b),D=ya.Dl(),I=ya.Dh();c.bindFramebuffer(D,f);var t=c.createRenderbuffer();c.bindRenderbuffer(c.RENDERBUFFER,t);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,d,n);c.framebufferRenderbuffer(D,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,t);c.clearDepth(1);c.framebufferTexture2D(D,
ba.pd(0),c.TEXTURE_2D,u.get(),0);c.framebufferTexture2D(D,ba.pd(1),c.TEXTURE_2D,g.get(),0);c.framebufferTexture2D(D,ba.pd(2),c.TEXTURE_2D,p.get(),0);c.framebufferTexture2D(D,ba.pd(3),c.TEXTURE_2D,r.get(),0);ba.Im(4);c.bindFramebuffer(D,null);ya.reset();var y={position:u,vb:g,Dc:r,da:p,bind:function(){c.bindFramebuffer(D,f);ya.reset()},set:function(){c.checkFramebufferStatus(I);c.bindFramebuffer(D,f);ya.reset();if(m){if(c.checkFramebufferStatus(I)!==c.FRAMEBUFFER_COMPLETE)return!1;m=!1}c.viewport(0,
0,d,n);c.clearColor(0,0,0,0);E.Wb()&&!ba.ci()&&(E.set("s90"),Y.g(!1,!1));c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);return!0},F:function(){},resize:function(v,h){d=v;n=h;u.resize(v,h);g.resize(v,h);p.resize(v,h);r.resize(v,h);c.bindRenderbuffer(c.RENDERBUFFER,t);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,d,n);c.bindRenderbuffer(c.RENDERBUFFER,null)},remove:function(){u.remove();g.remove();p.remove();r.remove();c.deleteRenderbuffer(t);c.deleteFramebuffer(f);var v=a.indexOf(y);-1!==
v&&a.splice(v,1)}};a.push(y);return y},resize:function(b,f){a.forEach(function(d){d.resize(b,f)})}}}(),Yb=function(){var a=[],b=T.Tg;return{instance:function(f){function d(){r?n():(e=jd.instance({ha:I,qm:b}),g=T.sk[ba.P()],t=X.instance({isFloat:Aa.aa(),N:!0,isPot:!0,isLinear:!1,ub:!0,width:g,height:g/2,A:3}),y=X.instance({isFloat:Aa.aa(),N:!0,isPot:!0,isLinear:!1,ub:!0,width:g,height:g/2,A:3}),v=X.instance({isFloat:Aa.aa(),N:!0,isPot:!0,width:1,height:g/2,A:3}),h=X.instance({isFloat:Aa.aa()&&!b,N:!b,
isPot:!1,isLinear:!0,ub:!0,isMipmap:!1,width:g,height:g/2,A:b?4:3}),r=!0,n(),F.forEach(function(k){k()}),F.splice(0,F.length))}function n(){if(r){ya.ka();e.ln();t.O();E.set("s73");I.a(0);E.C("u82",T.Zb);X.zk(1);Y.g(!0,!0);for(var k=T.hm[ba.P()],x=0;x<k;++x)y.i(),E.set("s76"),E.K("u8",1/g,0),t.a(0),Y.g(!1,!1),t.i(),E.K("u8",0,2/g),y.a(0),Y.g(!1,!1);v.O();E.set("s78");t.a(0);Y.g(!1,!1);E.set(b?"s80":"s79");h.O();t.a(0);v.a(1);Y.g(!1,!1);X.X(0);X.X(1)}}var m=Object.assign({Ib:null,qc:null,pc:0,rc:0},
f),u=0,g=0,r=!1,p=null,D=null,I=null,t=null,y=null,v=null,h=null,e=null,G=0,F=[];f={h:function(){function k(){2===++x&&(I=X.instance({isFloat:Aa.aa(),N:!0,isPot:!1,isMipmap:!1,isLinear:!1,ub:!0,width:u,height:u/2,A:3}),ya.ka(),I.O(),E.set("s72"),E.C("u87",m.rc),E.C("u88",m.pc),p.a(0),D.a(1),Y.g(!0,!0),d())}var x=0;u=T.tk[ba.P()];G=Math.log2(u)-1;m.Ib&&(p=X.instance({isPot:!1,url:m.Ib,M:k,A:3,isFlipY:!1}),D=X.instance({isPot:!1,url:m.qc,M:k,A:3,isFlipY:!1}))},bj:function(k){I=k;d()},Zc:function(k){r&&
(e.a(k),E.C("u105",e.I()))},$c:function(k){r&&h.a(k)},jh:function(){E.C("u22",G)},zh:function(){return G},I:function(){return u},Kb:function(k){r?k():F.push(k)},H:function(){p&&p.remove();D&&D.remove();t.remove();v.remove();y.remove();e.remove();h.remove();I.remove()}};a.push(f);f.h();return f},H:function(){a.forEach(function(f){f.H()})}}}(),Tc={instance:function(a){var b=a.Cm,f=a.Am,d=0,n=b.I();a=T.Tg;var m=X.instance({isFloat:Aa.aa()&&!a,N:!a,isLinear:!0,isMipmap:!1,isPot:!1,width:n,A:a?4:3,isFlipY:!1}),
u=X.instance({isFloat:Aa.aa()&&!a,N:!a,isPot:!1,isLinear:!0,ub:!0,isMipmap:!1,width:n,height:n/2,A:a?4:3}),g=ya.instance({width:n,height:n}),r=a?"s66":"s65";return{Vn:function(p){d=p;E.set(r);c.viewport(0,0,n,n);g.i();m.i();E.C("u7",d);b.Zc(1);f.Zc(0);Y.g(!0,!0);c.viewport(0,0,n,n/2);u.i();b.$c(1);f.$c(0);Y.g(!1,!1);c.flush()},Zc:function(p){m.a(p)},$c:function(p){u.a(p)},jh:function(){E.C("u22",b.zh()*(1-d)+f.zh()*d)}}}},Hb=function(){function a(K){var J=(w-T.De)/(T.Xg-T.De);J=1-Math.pow(1-J,T.Ro);
w+=K*(1+J*T.So);w=Math.min(Math.max(w,T.De),T.Xg);q.kc()}function b(K){-1!==g&&(G=e=0,u(),a(T.Qo*K.deltaY/window.innerHeight),K.preventDefault())}function f(){k+=e;x+=G;x=Math.min(Math.max(x,T.Xm),T.Wm);q.kc()}function d(K){if(0===g||-1===g)return!1;var J=void 0!==K.touches&&K.touches.length;K.preventDefault();if(2===g){var N=Hc(K.touches[0].pageX,K.touches[0].pageY,K.touches[1].pageX,K.touches[1].pageY);a(-(v-N)*T.Ym);v=N}else N=J?K.touches[0].clientX:K.clientX,K=J?K.touches[0].clientY:K.clientY,
e=2*(N-t)*Math.PI/ba.I(),G=2*(K-y)*Math.PI/ba.V(),4===g?(l[0]+=e*T.zi,l[1]-=G*T.zi,l[0]=Math.min(Math.max(l[0],-T.Ci),T.Ci),l[1]=Math.min(Math.max(l[1],-T.Di),T.Di),q.kc()):f(),t=N,y=K}function n(){0!==g&&-1!==g&&(0===e&&0===G||1!==g||!L?ta.Aa():(u(),h=Date.now(),O=setInterval(q.zm,F)),g=0)}function m(K){if(2!==g&&-1!==g){G=e=0;u();ta.wake();var J=void 0!==K.changedTouches&&K.touches.length;K.preventDefault();J&&2===K.touches.length?(g=2,v=Hc(K.touches[0].pageX,K.touches[0].pageY,K.touches[1].pageX,
K.touches[1].pageY)):(g=J||2!==K.button?1:4,t=J?K.touches[0].clientX:K.clientX,y=J?K.touches[0].clientY:K.clientY);return!1}}function u(){O&&(clearInterval(O),O=!1)}var g=0,r=!1,p=!1,D=!1,I=1,t=0,y=0,v=0,h=0,e=0,G=0,F=16,k=T.rj,x=T.Bi,w=T.Ce,O=!1,L=0,z=new Float32Array([0,0,0,0,0]),l=[T.Ck,T.Dk],q={h:function(){L=T.Wj[ba.P()];F=T.ol[ba.P()];ba.Ka("mousedown",m);ba.Ka("mouseup",n);ba.Ka("mouseout",n);ba.Ka("mousemove",d);ba.Ka("mousemove",d);ba.Ka("wheel",b);ba.Ka("touchstart",m);ba.Ka("touchend",
n);ba.Ka("touchmove",d)},kc:function(K){r?(p[0]=-x,p[1]=k,D[1].value=I/T.Ce*w,Sa.zb(D)):(z[0]=k,z[1]=x,z[2]=w,z[3]=l[0],z[4]=l[1],lc.yn(z,K))},zm:function(){if(1E-4>e&&1E-4>G||-1===g)u(),G=e=0,0===g&&ta.Aa();var K=Date.now(),J=K-h;h=K;K=Math.pow(L,J/F);e*=K;G*=K;f()},We:function(K){r||(r=!0,g=-1,p=[0,0,0],D=[{name:"u73",type:"3f",value:p},{name:"u77",type:"1f",value:1}],I=K)},nj:function(K){-1===g&&K&&(g=0);K||(g=-1)},qn:function(){G=e=0;k=T.rj;x=T.Bi;w=T.Ce;q.kc()},cq:function(K){w=K},eq:function(K){l[0]=
K[0];l[1]=K[1];T.Yg=K[2]},bq:function(K,J){k=K;x=J}};return q}(),pc=function(){var a={s92:!1,s92color:!1,s92NormalMap:!1,s92ParamsMap:!1,s92NormalParamsMap:!1};return{instance:function(b){function f(A){if(P){A.tweaker&&JEELIZVTO&&"undefined"!==typeof R&&R.Sg(A.tweaker);z.splice(0,z.length);z.push({n:0,offset:0});w.min.set(Infinity,Infinity,Infinity);w.max.set(-Infinity,-Infinity,-Infinity);var B=A.uvs;B&&(B=B.filter(function(fa){return fa}));aa=B&&0<B.length&&0<B[0].length?!0:!1;"undefined"!==
typeof yb&&"string"===typeof A.faces&&(A.faces=yb(A.faces));"undefined"!==typeof sb&&("string"===typeof A.vertices&&(A.vertices=sb(A.vertices)),B&&B.length&&B.forEach(function(fa,xa){"string"===typeof fa&&(B[xa]=sb(fa))}));var C=A.metadata.faces,Q=1+(aa?1:0);C=(A.faces.length-C)/(A.metadata.faces*Q);6!==C&&8!==C||aa||(++Q,C/=2);if(4===C){C=6*Q+2;for(var ea=4*Q+1,ja=Array(A.metadata.faces*C),ka=0;ka<A.metadata.faces;++ka)for(var Ca=0;Ca<Q;++Ca)ja[ka*C+4*Ca]=A.faces[ka*ea+5*Ca],ja[ka*C+4*Ca+1]=A.faces[ka*
ea+5*Ca+1],ja[ka*C+4*Ca+2]=A.faces[ka*ea+5*Ca+2],0===Ca&&(ja[ka*C+3]=A.faces[ka*ea+4]),ja[ka*C+4*Ca+3*Q+1]=A.faces[ka*ea+5*Ca],ja[ka*C+4*Ca+3*Q+2]=A.faces[ka*ea+5*Ca+2],ja[ka*C+4*Ca+3*Q+3]=A.faces[ka*ea+5*Ca+3],0===Ca&&(ja[ka*C+3*Q+4]=A.faces[ka*ea+4]);A.faces=ja;A.metadata.faces*=2}t=Array(A.metadata.vertices);for(C=0;C<A.metadata.vertices;++C)t[C]=new Qa(A.vertices[3*C],A.vertices[3*C+1],A.vertices[3*C+2]),Wc(w,t[C]);y=Array(A.metadata.faces);Q=3*Q+1;for(C=0;C<A.metadata.faces;++C)y[C]=new rc(A.faces[Q*
C],A.faces[Q*C+1],A.faces[Q*C+2]),y[C].Yb=A.faces[Q*C+3];q=3<t.length;P&&(P.visible=q);Yc(t,y);v=Zc(t,y);if(aa){Q=Array(t.length);C=["a","b","c"];for(ea=0;ea<A.metadata.faces;++ea)for(ja=0;3>ja;++ja)if(ka=A.faces[7*ea+ja],Ca=A.faces[7*ea+1+ja+3],"undefined"===typeof Q[ka])Q[ka]=[[ka,Ca]];else if(Q[ka][0][1]!==Ca){for(var Pa=-1,Ka=1;Ka<Q[ka].length;++Ka)if(Q[ka][Ka][1]===Ca){Pa=Q[ka][Ka][0];break}Ka=-1;-1===Pa?(Ka=t.length,t.push(t[ka].clone()),v.push(v[ka].clone()),Q[ka].push([Ka,Ca]),Q[Ka]=[[Ka,
Ca]]):Ka=Pa;A.faces[7*ea+ja]=Ka;y[ea][C[ja]]=Ka}h=Array(t.length);for(A=0;A<t.length;++A)C="undefined"===typeof Q[A]?A:Q[A][0][1],h[A]=new Ob(B[0][2*C],B[0][2*C+1])}var Na=ic(w);b.Gb&&(t.forEach(function(fa){fa.x-=Na.x;fa.z-=Na.z;fa.y-=w.min.y}),w.min.x-=Na.x,w.max.x-=Na.x,w.min.z-=Na.z,w.max.z-=Na.z,w.max.y-=w.min.y,w.min.y=0);if(b.Hb){var la=T.qk/Math.max(w.max.x-w.min.x,w.max.y-w.min.y,w.max.z-w.min.z);t.forEach(function(fa){fa.Fa(la)});w.min.Fa(la);w.max.Fa(la)}A=aa?8:6;Q=new Float32Array(t.length*
A);for(C=0;C<t.length;++C)Q[A*C]=t[C].x,Q[A*C+1]=t[C].y,Q[A*C+2]=t[C].z,Q[A*C+3]=v[C].x,Q[A*C+4]=v[C].y,Q[A*C+5]=v[C].z,aa&&(Q[A*C+6]=h[C].x,Q[A*C+7]=h[C].y);y.sort(function(fa,xa){return fa.Yb-xa.Yb});var ia=new (65536>3*y.length?Uint16Array:Uint32Array)(3*y.length),V=0;y.forEach(function(fa,xa){fa.Yb===V?z[V].n+=3:(z.push({n:3,offset:3*xa}),++V);ia[3*xa]=fa.Ba;ia[3*xa+1]=fa.J;ia[3*xa+2]=fa.Ca});e&&e.remove();e=Y.instance({ea:Q,R:ia});k=F=!1;S&&P.dh();K=!0;P.Te();b.M&&(b.M(P),b.M=null)}}function d(A){e.La(A.n,
A.offset)}function n(A,B){N[B]&&(E.set(N[B].Ql()),e.bind(!1),aa?(E.Ra(),E.Zi()):(E.$a(),E.$i()),N[B].Ac()&&(E.Jc(),F.sc(!1),E.Od(),lb.Lb()),N[B].bl(),N[B].hd(),e.La(A.n,A.offset))}function m(A,B){N[B]&&(E.set(N[B].Rl()),e.bind(!1),aa?(E.Ra(),E.Zi()):(E.$a(),E.$i()),N[B].Ac()&&(E.Jc(),F.sc(!1),E.Od(),lb.Lb()),P.uc(),N[B].hd(),e.La(A.n,A.offset))}function u(A,B){W&&N[B]&&(N[B].cl(),e.La(A.n,A.offset))}function g(A,B){W&&N[B]&&(N[B].el(aa),e.La(A.n,A.offset))}function r(A,B){N[B]&&(E.set(N[B].Ml()),
N[B].oh(),e.La(A.n,A.offset))}function p(A,B){N[B]&&(E.set(N[B].Nl()),P.uc(),N[B].oh(),e.La(A.n,A.offset))}function D(A,B){N[B]&&(E.set(N[B].Ol()),N[B].Ac()&&(F.sc(!1),E.Od(),lb.Lb()),e.bind(!1),N[B].lh(aa),e.La(A.n,A.offset))}function I(A,B){if(N[B]){var C=N[B].Pl();E.set(C);N[B].Ac()&&(F.sc(!1),E.Od(),lb.Lb(),e.bind(!1));a[C]||(P.uc(),e.bind(!1),a[C]=!0);N[B].lh(aa);e.La(A.n,A.offset)}}if(!ba.$g())return!1;void 0===b.Gb&&(b.Gb=!1);void 0===b.Hb&&(b.Hb=!1);void 0===b.Wg&&(b.Wg=!1);var t=null,y=null,
v=null,h=null,e=null,G=null,F=null,k=!1,x=new Pb,w=new qc,O=[],L=null,z=[{n:0,offset:0}],l=[],q=!1,K=!1,J=[],N=[],S=!1,aa=!1,W=!1,P={visible:q,Mk:function(){return z.length},dh:function(){!k&&aa&&(y=y.filter(function(A){return null!==A}),G=$c(t,v,h,y),F=Y.instance({ea:G,R:!1}),h=v=y=t=G=null,k=!0)},uc:function(){lb.S();P.nh()},nh:function(){E.Kc("u127",x.elements)},op:function(){q&&(P.nh(),e.bind(!1),aa?E.Ra():E.$a(),e.S())},ml:function(A){q&&(A||P.uc(),e.bind(!1),aa?E.Ra():E.$a(),e.S())},nl:function(){q&&
(e.bind(!1),aa?E.Ra():E.$a(),z.forEach(u))},kh:function(){q&&(e.bind(!1),aa?E.Ra():E.$a(),l.forEach(d))},kl:function(A){W&&q&&(e.bind(!1),aa?E.Ra():E.$a(),A?z.forEach(r):z.forEach(p))},gd:function(A){q&&(A||P.uc(),e.bind(!1),A||(E.Ra(),E.Jc()),W&&z.forEach(g))},hd:function(A){W&&q&&(A?z.forEach(n):z.forEach(m))},gl:function(){W&&q&&z.forEach(I)},fl:function(){W&&q&&z.forEach(D)},Hh:function(){return L},Fh:function(){return J},wo:function(A,B){N[A].update(B);P.Bj()},hg:function(A,B){function C(ja,
ka){ja&&(ja.M=function(){P&&++ea===Q&&(W=!0,S&&P.Kb(P.dh,5),P.Te(),B&&P.Kb(function(){B(P)},10))},ja=uc.instance(ja),N[ka]&&N[ka].H(),N[ka]=ja,S=S||ja.Ac())}J=A;W=!1;var Q=A.length,ea=0;N=Array(Q);S=!1;A.forEach(function(ja,ka){"string"===typeof ja?sc(-1===ja.indexOf(".json")?ja+".json":ja,function(Ca){Ca.name=ja;C(Ca,ka,ja)}):C(ja,ka,!1)});P.Kb(function(){P.Bj();ta.Ab(P);ta.Xd(!0)},4)},Bj:function(){l.splice(0,l.length);z.forEach(function(A,B){N[B]&&N[B].xm()&&l.push(A)})},Kb:function(A,B){K&&W?
A(P):O.push({pb:A,order:B?B:0})},Te:function(){K&&W&&(O.sort(function(A,B){return 0>A.order-B.order?1:-1}),O.forEach(function(A){A.pb(P)}),O.splice(0,O.length))},remove:function(){P.H();P=null},H:function(){q=K=!1;e&&e.remove();N.forEach(function(A){A.H()});k&&F.remove()},Tl:function(){return w.size().x},Ul:function(){return w.size().y},Fp:function(){return w.size().z},yl:function(){return ic(w).x},zl:function(){return ic(w).y},vp:function(){return ic(w).z},Bp:function(){return w.min.y},replace:function(A,
B,C){if(A===L)return B&&P&&(P.Te(),B(P)),!1;L=A;ta.Xd(!1);sc(A,function(Q){f(Q);B&&B(P)},C);return!0}};b.Ec&&P.hg(b.Ec,b.Wg);L=b.url;sc(b.url,f);return P},pn:function(){a.s92=!1;a.s92color=!1;a.s92NormalMap=!1;a.s92ParamsMap=!1;a.s92NormalParamsMap=!1}}}(),lc=function(){var a=null,b=!1,f=!1,d=null,n=new Float32Array(16),m=new Float32Array(3),u={data:0},g={h:function(){T.Mb?a=new Worker("js/worker.php"):a={postMessage:function(r){u.data=r;vc.Rm(u)},terminate:function(){}};a.onmessage=function(r){switch(r.data[0]){case 3:for(var p=
0;16>p;++p)n[p]=r.data[p+1];for(p=0;3>p;++p)m[p]=r.data[p+17];lb.af().Qn(n,m);break;case 6:g.Ln(),b=!0,Hb.kc(!1),T.$&&(xb.enable(),xb.Pd())}};d=new Float32Array(6);d[0]=2;T.Mb||vc.Mn(a)},jo:function(){T.ih||(f=!0)},mq:function(){f=!1},yn:function(r,p){if(p||b&&f)d[1]=r[0],d[2]=r[1],d[3]=r[2],d[4]=r[3],d[5]=r[4],a.postMessage(d)},Ln:function(){a.postMessage([5,T.Yg])},H:function(){T.Mb&&a.terminate()}};return g}(),vc=function(){var a=0,b=0,f=0,d=[0,0],n=new Pb,m=new Zb,u=new Zb,g=new Qa,r=new Qa,p=
new Fb,D=0,I=new Float32Array(20);I[0]=3;var t=!1,y={data:!1},v={h:function(){"undefined"===typeof T&&(self.tb={Mb:!0});T.Mb&&v.Yf([6])},Rm:function(h){switch(h.data[0]){case 2:v.ig(h.data);break;case 5:D=h.data[1]}},Yf:function(h){T.Mb?postMessage(h):(y.data=h,t.onmessage(y))},ig:function(h){a=h[1];b=h[2];f=h[3];d[0]=h[4];d[1]=h[5];g.set(d[0],d[1],-f);p.set(b,a,0,"XYZ");if(!1===p instanceof Fb)throw Error("JETHREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
h=Math.cos(p.m/2);var e=Math.cos(p.o/2),G=Math.cos(p.s/2),F=Math.sin(p.m/2),k=Math.sin(p.o/2),x=Math.sin(p.s/2),w=p.order;"XYZ"===w?(m.m=F*e*G+h*k*x,m.o=h*k*G-F*e*x,m.s=h*e*x+F*k*G,m.G=h*e*G-F*k*x):"YXZ"===w?(m.m=F*e*G+h*k*x,m.o=h*k*G-F*e*x,m.s=h*e*x-F*k*G,m.G=h*e*G+F*k*x):"ZXY"===w?(m.m=F*e*G-h*k*x,m.o=h*k*G+F*e*x,m.s=h*e*x+F*k*G,m.G=h*e*G-F*k*x):"ZYX"===w?(m.m=F*e*G-h*k*x,m.o=h*k*G+F*e*x,m.s=h*e*x-F*k*G,m.G=h*e*G+F*k*x):"YZX"===w?(m.m=F*e*G+h*k*x,m.o=h*k*G+F*e*x,m.s=h*e*x-F*k*G,m.G=h*e*G-F*k*x):
"XZY"===w&&(m.m=F*e*G-h*k*x,m.o=h*k*G-F*e*x,m.s=h*e*x+F*k*G,m.G=h*e*G+F*k*x);g.y-=D;h=n.elements;x=m.x;var O=m.y,L=m.z;F=m.w;var z=x+x,l=O+O;k=L+L;e=x*z;G=x*l;x*=k;w=O*l;O*=k;L*=k;z*=F;l*=F;F*=k;h[0]=1-(w+L);h[4]=G-F;h[8]=x+l;h[1]=G+F;h[5]=1-(e+L);h[9]=O-z;h[2]=x-l;h[6]=O+z;h[10]=1-(e+w);h[3]=0;h[7]=0;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;n.setPosition(g);u.B(m).inverse();h=r.B(g);O=h.x;z=h.y;L=h.z;e=u.x;G=u.y;F=u.z;k=u.w;x=k*O+G*L-F*z;w=k*z+F*O-e*L;l=k*L+e*z-G*O;O=-e*O-G*z-F*L;h.x=x*k+O*-e+w*-F-
l*-G;h.y=w*k+O*-G+l*-e-x*-F;h.z=l*k+O*-F+x*-G-w*-e;for(h=1;17>h;++h)I[h]=n.elements[h-1];I[17]=r.x;I[18]=r.y;I[19]=r.z;v.Yf(I)},Mn:function(h){t=h;v.Yf([6])}};return v}();vc.h();var uc=function(){function a(u){var g=u.split(":").shift();return"data"===g||"blob"===g?u:("undefined"!==typeof H&&H.Y?H:T).Y+T.Km+u}function b(u,g){return Math.min(g+u+g*u,1)}var f=!1,d=null,n=1,m={diffuseTexture:null,normalTexture:null,paramsTexture:null,colorTextureUsage:0,metalness:.5,roughness:.5,fresnelMin:0,fresnelMax:1,
fresnelPow:5,alpha:1,diffuseColor:[255,255,255],paramsMapMask:[0,0,0,0],M:null};return{h:function(){d=X.instance({width:1,height:1,isMipmap:!1,A:4,array:new Uint8Array([255,255,255,255]),zc:!1})},We:function(){f=!0;n=2},instance:function(u){function g(q){function K(){++N===J&&q&&q()}var J=1,N=0;(p=y.normalTexture&&ba.Gk()?!0:!1)&&!e.Pa&&(++J,e.Pa=X.instance({url:a(y.normalTexture),isLinear:!0,isMipmap:!0,Wh:ba.wm(),isPot:!0,A:3,M:K}));(D=y.diffuseTexture&&""!==y.diffuseTexture?!0:!1)&&!e.da?(++J,
e.da=X.instance({url:a(y.diffuseTexture),isMipmap:!0,isLinear:!0,isPot:!0,Wh:!0,zc:!1,ub:!1,nm:!1,A:4,M:K}),h="s97"):e.da||(h="s98",e.da=d);v=[y.diffuseColor[0]/255,y.diffuseColor[1]/255,y.diffuseColor[2]/255];(G=y.paramsTexture?!0:!1)&&!e.wb&&(y.paramsTexture===y.diffuseTexture?e.wb=e.da:(++J,e.wb=X.instance({url:a(y.paramsTexture),isMipmap:!0,isLinear:!0,isPot:!0,Wh:!0,zc:!1,ub:!1,nm:!1,A:4,M:K})));K()}function r(q){"number"===typeof y.alpha?(I[0]=y.alpha,I[1]=0,I[2]=0,I[3]=0):(I[0]=y.alpha[0],
I[1]=y.alpha[1]-y.alpha[0],I[2]=y.alpha[2],I[3]=y.alpha[3]);var K=1<=y.fresnelPow?y.fresnelMin:y.fresnelMax;t[0]=b(I[0],K);t[1]=b(I[1],K);t[2]=I[2];t[3]=I[3];F={Ai:y.fresnelMax,li:[y.fresnelMin,y.roughness,y.fresnelPow/15,y.metalness],oi:y.paramsMapMask};q=y.M?y.M.bind(null,q):null;g(q);p||G||D?p||G?p&&!G?(k="s92NormalMap",x="s92NNGLtextureNormalMap"):!p&&G?(k="s92ParamsMap",x="s92NNGLtextureParamsMap"):(k="s92NormalParamsMap",x="s92NNGLtextureNormalParamsMap"):(k="s92",x="s92NNGLtexture"):(k="s92color",
x="s92NNGLcolor");w=p?"s100":"s99";O=p?"s94":"s104";L=G?"s102":"s101";z=G?"s95":"s105"}var p,D,I=[1,0,0,0],t=[0,0,0,0],y=Object.assign({},m,u),v=null,h=null,e={da:null,Pa:null,wb:null},G=p=D=!1,F=null,k=null,x=null,w=null,O=null,L=null,z=null,l={update:function(q){Object.assign(y,q);r()},Ac:function(){return p},xm:function(){return.99>I[0]},Rl:function(){return O},Ql:function(){return w},Nl:function(){return z},Ml:function(){return L},Pl:function(){return k},Ol:function(){return x},hd:function(){p&&
e.Pa.a(0)},el:function(q){f&&E.set(h);q?E.Ra():E.$a();D&&E.Jc();l.gd()},gd:function(){D&&(E.C("u64",y.colorTextureUsage),e.da.a(0));E.mg("u137",v)},oh:function(){G&&(e.wb.a(0),E.za("u66",F.oi),E.Jc());E.za("u102",F.li);E.C("u138",F.Ai)},lh:function(q){G&&!p?e.wb.a(n):p&&(D||d.a(0),e.Pa.a(n),G&&e.wb.a(n+1));G&&E.za("u66",F.oi);D||p?E.In():q?E.Jn():E.Kn();l.gd();E.za("u7",I);E.za("u102",F.li);E.C("u138",F.Ai)},bl:function(){E.za("u7",I)},cl:function(){E.za("u7",t)},H:function(){D&&e.da.remove();p&&
e.Pa.remove();G&&y.paramsTexture!==y.diffuseTexture&&e.wb.remove()}};r(l);return l}}}(),xb=function(){var a=0,b=0,f=0,d=0,n=0,m=0,u=T.nk,g=T.mk,r=T.pk,p=0,D=0,I=null,t=null,y=0,v=0,h=0,e=0,G=0,F=null,k=0,x=0,w=0,O=Date.now(),L=null,z=!1,l=!1,q=!1,K=1,J=!1,N={h:function(){a=T.ik[ba.P()];b=T.hk[ba.P()];f=T.gk[ba.P()];x=T.jk[ba.P()];d=T.ak[ba.P()];n=T.ek[ba.P()];h=T.fk[ba.P()];e=ba.I();G=ba.V();p=Math.round(e*a);D=Math.round(G*a);t=ya.instance({width:p,height:D,xc:!1});I=X.instance({width:p,height:D,
isPot:!1,isLinear:!0});F=X.instance({width:p,height:D,isPot:!1,isLinear:!0,A:1});z=!0},resize:function(S,aa,W){K=W;e=S;G=aa;p=Math.round(S*a);D=Math.round(aa*a);t.resize(p,D);l=!0},S:function(){var S=Math.exp(-(Date.now()-O)/x);q?k=w+(1-S)*(1-w):k=w*S;y=b+k*(f-b);v=d+(1-k)*(1-d);m=n+(1-k)*(1-n);X.X(5);if(l&&z)X.X(6),F.resize(p,D),E.set("s0"),E.Rd("u1",6),t.bind(!1,!0),F.i(),t.Fe(),I.a(6),Y.g(!0,!0),I.resize(p,D),I.i(),F.a(6),Y.g(!1,!1),E.Rd("u1",0),l=!1;else{c.enable(c.BLEND);c.blendFunc(c.CONSTANT_ALPHA,
c.ONE_MINUS_SRC_ALPHA);S=y/h;c.blendColor(S,S,S,S);c.colorMask(!0,!1,!1,!0);E.set("s84");lb.Ue();E.C("u118",y);x&&(E.C("u119",v),E.C("u111",m));var aa=K*(u+Math.pow(Math.random(),r)*(g-u));E.K("u8",aa/e,aa/G);t.Ug();t.Mc();I.i();aa=2*Math.PI*Math.random();for(var W=!0,P=0;P<h;++P)1===P&&(c.blendFunc(c.SRC_ALPHA,c.ONE),E.C("u118",S)),E.C("u117",aa+P/h*(Math.PI/2)),E.K("u116",(Math.random()-.5)/e,(Math.random()-.5)/G),Y.g(W,W),W=!1;c.disable(c.BLEND);E.set("s85");E.K("u8",1/p,1/D);F.i();I.a(7);Y.g(!1,
!1);c.colorMask(!0,!0,!0,!0)}},a:function(S){F.a(S)},enable:function(){J=!0},Zm:function(){if(q||!J)return!1;L&&clearTimeout(L);N.Pd();L=setTimeout(N.zj,400)},Pd:function(){L&&(clearTimeout(L),L=!1);!q&&J&&(window.T.disable(),q=!0,O=Date.now(),w=k)},zj:function(){q&&J&&(L&&(clearTimeout(L),L=null),window.T.enable(),q=!1,O=Date.now(),w=k)},H:function(){I.remove();F.remove();t.remove()}};N.Zm();return N}(),jd={instance:function(a){var b=a.ha.I(),f=a.qm?!0:!1,d=f?"s67":"s12",n=X.instance({isFloat:a.ha.di()&&
Aa.aa()&&!f,N:a.ha.ei()&&!f,isLinear:!0,isMipmap:!1,isPot:!1,width:b,height:b,A:f?4:3}),m=X.instance({isFloat:a.ha.di()&&Aa.aa(),N:a.ha.ei(),isPot:!0,width:1,height:b/2,A:3});m.i();E.set("s78");a.ha.a(0);Y.g(!0,!0);var u=Math.round(Math.log(b)/Math.log(2));n.ln=function(){n.i();E.set(d);E.C("u82",T.Zb);a.ha.a(0);m.a(1);for(var g=0,r=0;r<=u;++r){var p=Math.pow(2,u-r),D=p/2;c.viewport(0,g,b,D);E.K("u80",b/p,1);E.C("u81",Math.min(6/D,.6));g+=p/2;Y.g(0===r,0===r)}};n.on=n.remove;n.remove=function(){n.on();
m.remove()};return n}};ua.kb=function(){var a={Nd:45,cg:1,$b:"../../images/debug/picsou.png",dg:.8,Ff:3.14/6,Gf:.314,Hf:4,Df:.5,Ef:-.25,Bm:1,ta:256,Cf:.15},b=null,f=null,d=null,n=!1,m=!1,u=-1,g=null,r=null,p=null,D=Math.PI/180,I={h:function(t){u=t.width;t={isFloat:Aa.aa(),N:!0,isPot:!1,isMipmap:!1,isLinear:!1,ub:!0,width:u,height:u/2,A:3};b=X.instance(t);f=X.instance(t);E.f("s106",[{type:"1i",name:"u145",value:0}]);E.f("s107",[{type:"1i",name:"u150",value:0}]);I.xo()},xo:function(){E.f("s107",[{type:"1f",
name:"u151",value:a.Ff},{type:"1f",name:"u152",value:a.Gf},{type:"1f",name:"u153",value:a.Hf},{type:"1f",name:"u154",value:a.Df},{type:"1f",name:"u155",value:a.Ef}])},Op:function(){return m},sa:function(t){g=t},Gc:function(){r="uniform sampler2D u145;uniform vec2 u146,u147,u4;uniform int u148;uniform float u149,u131;varying vec2 vv0;const float h=3.141593;const vec2 i=vec2(.5,.5);const float e=1.2;const vec3 g=vec3(1.,1.,1.);void main(){vec2 c=vec2(vv0.x*2.,-vv0.y+.5)*h,a=i+u4*(c-u146)/u147;float b=1.;if(u148==0){if(a.x<0.||a.x>1.||a.y<0.||a.y>1.)discard;}else b*=smoothstep(-e,0.,a.x),b*=1.-smoothstep(1.,1.+e,a.x),b*=smoothstep(-e,0.,a.y),b*=1.-smoothstep(1.,1.+e,a.y);vec3 d=mix(u149*g,texture2D(u145,a).rgb*u131,b*g);gl_FragColor=vec4(d,1.);}";
p="uniform sampler2D u150;uniform float u151,u152,u153,u154,u155;varying vec2 vv0;const float f=3.141593;const vec2 o=vec2(.5,.5);const vec3 h=vec3(1.,1.,1.);void main(){float i=(vv0.x*2.-1.)*f,c=(-vv0.y+.5)*f;vec4 a=texture2D(u150,vec2(.5,.5));float d=a.r,j=u153*a.g,k=u154*(a.b+u155),b=a.a,g=asin(cos(b)*cos(d)),l=atan(cos(b)*sin(d),-sin(b)),m=acos(sin(c)*sin(g)+cos(c)*cos(g)*cos(i-l)),n=1.-smoothstep(u151-u152,u151+u152,m);gl_FragColor=vec4(h*(max(k,0.)+max(j,0.)*n),1.);}";E.oa("s106",{name:"_",
b:r,c:"u145 u146 u148 u147 u149 u131 u4".split(" "),precision:"highp"});E.oa("s107",{name:"_",b:p,c:"u150 u151 u152 u153 u154 u155".split(" "),precision:"highp"})},rg:function(t,y,v,h,e,G,F,k){E.K("u146",y,v);E.Rd("u148",h?1:0);E.K("u147",e,e/G);E.gj("u4",k);F&&t.a(0);Y.g(!1,!1)},Tj:function(t){c.viewport(0,0,a.ta,a.ta/2);E.set("s107");t.a(0);Y.g(!1,!1)},Wl:function(){return b},Bk:function(t){I.h({width:a.ta});I.Cj(t,!1,1);m=!0},Ak:function(){n&&d.Xl()===a.$b||(n=!1,d=X.instance({url:a.$b,isFloat:!1,
M:function(){n=!0}}))},ig:function(t){Object.assign(a,t)},Cj:function(t,y,v){var h=a.ta;ya.ka();f.O();E.set("s0");b.a(0);Y.g(!0,!0);X.X(0);b.i();E.set("s106");E.C("u149",a.Cf);E.C("u131",a.Bm);I.rg(t,Math.PI,0,!0,90*D,t.I()/t.V(),!0,[1,1]);n&&(E.C("u131",a.dg),c.viewport(0,0,h/2,h/2),I.rg(d,0,0,!1,2*a.Nd*D,2*a.cg,!0,[1,1]),c.viewport(h/2,0,h/2,h/2),I.rg(d,2*Math.PI,0,!1,2*a.Nd*D,2*a.cg,!1,[1,1]));c.enable(c.BLEND);c.blendFunc(c.ONE,c.ONE);y&&I.Tj(y);E.set("s0");c.blendColor(0,0,0,1-v);c.blendFunc(c.CONSTANT_ALPHA,
c.ONE_MINUS_CONSTANT_ALPHA);f.a(0);Y.g(!1,!1);c.disable(c.BLEND);g.bj(b)},u:function(){d=f=b=null;m=n=!1;u=-1;g=null}};return I}();ua.lb=function(){var a=!1,b=!0,f=!1,d=!1,n={Gc:function(){ba.W()&&(E.oa("s108",{name:"_",j:"attribute vec3 a0;uniform sampler2D u39;uniform vec2 u40;uniform vec3 u133;const float l=1.,m=0.,n=0.,E=1.;const vec2 e=vec2(1.,1.);const vec3 o=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,p);vec2 f=u76*e;vec3 c=u76*o;vec2 t=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,q).rgb+vec3(u70,0.,0.),u73,c);float u=mix(texture2D(u39,r).r,0.,u76);a.z+=u;mat3 v=s(a);vec3 w=mix(u133,u74,c);float x=mix(l,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 y=mat2(h,i,-i,h);b.xy=y*b.xy;float z=mix(u72,1.,u76);vec2 j=u71/t;vec3 k=a0;float A=max(0.,-a0.z-m)*n;k.x+=A*sign(a0.x)*(1.-u76);vec3 B=v*(k+w)*x+b;vec2 C=j*z;vec3 D=vec3(g*C,-j)+B*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(D,1.));}",
b:"void main(){gl_FragData[0]=vec4(0.,0.,0.,0.),gl_FragData[1]=vec4(0.,0.,1.,1.),gl_FragData[2]=vec4(1.,0.,0.,0.),gl_FragData[3]=vec4(0.,.5,1.,0.);}",c:["u39","u40","u69","u133"].concat(E.ef(),E.ff()),D:["a0"],L:[3],ca:!0}),a=!0)},h:function(m){a&&E.f("s108",[{type:"1i",name:"u39",value:1},{type:"3f",name:"u69",value:m.Ga},{type:"1f",name:"u70",value:0},{type:"1f",name:"u78",value:1}].concat(m.Dg))},cb:function(m){d=m;f&&n.Oh()},bb:function(m){f=m;d&&n.Oh()},Oh:function(){ba.W()&&(E.f("s108",[{type:"3f",
name:"u133",value:[f[0]*d,f[1]*d,f[2]*d]}]),E.F())},gm:function(m){for(var u=m.width/2,g=m.height/2,r=m.depth,p=m.pl,D=m.height/4,I=m.Qk,t=2*I+4,y=[],v=[],h=-u+m.Ua,e=-p-m.Ua,G=u-m.Ua,F=-p-m.Ua,k=0;k<t;++k){var x=0,w=0;0===k?(x=-u,w=-p-r):1<=k&&k<=1+I?(w=(k-1)/I*Math.PI/2,x=h-Math.cos(w)*m.Ua,w=e+Math.sin(w)*m.Ua):k>=2+I&&k<=2+2*I?(w=(k-2-I)/I*Math.PI/2,x=G+Math.sin(w)*m.Ua,w=F+Math.cos(w)*m.Ua):k===t-1&&(x=u,w=-p-r);y.push(x,g+D,w,x,-g+D,w);0!==k&&v.push(2*k,2*k-2,2*k-1,2*k,2*k-1,2*k+1)}return n.instance({ea:y,
R:v})},toggle:function(m){b=m},instance:function(m){var u=Y.instance({ea:m.ea,R:m.R});return{S:function(){a&&b&&(E.set("s108"),u.bind(!0),u.S())}}}};return n}();ua.ia=function(){var a={lf:-87,am:[85,95],Nh:[90,90],Mh:[85,70],bd:24,Rk:12,Sk:2,Zf:[-80,10],Lh:[40,140],vd:[1,8],$l:80,wi:[-120,-10],Qm:2,Td:[0,-15],ke:1024,hb:256,Hd:4,ho:[6,30],vi:1.2};a.Gi=a.Zf;var b=!1,f=!1,d=!1,n=null,m=null,u=null,g=null,r=null,p=null,D=!1,I=!1,t=null,y=null,v=null,h=null,e=.5,G=[{type:"1f",name:"u157",value:1}],F=
null,k=null,x=null,w=null,O=null,L={Sl:function(){return{name:"_",j:"attribute vec3 a0,a2;attribute vec2 a1;varying vec2 vv0;varying float vv1;uniform sampler2D u39;uniform vec2 u40;uniform float u134;uniform vec3 u133;const float o=0.,p=0.;const vec2 e=vec2(1.,1.);const vec3 q=vec3(1.,1.,1.);const vec2 G=vec2(-1.,1.),r=vec2(.16,.5),s=vec2(.5,.5),t=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 u(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,r);vec2 f=u76*e;vec3 c=u76*q;vec2 v=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,s).rgb+vec3(u70,0.,0.),u73,c);float w=mix(texture2D(u39,t).r,0.,u76);a.z+=w;mat3 h=u(a);vec3 x=mix(u133,u74,c);float y=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 z=mat2(i,j,-j,i);b.xy=z*b.xy;float A=mix(u72,1.,u76);vec2 k=u71/v;vec3 l=a0;float B=max(0.,-a0.z-o)*p;l.x+=B*sign(a0.x)*(1.-u76);vec3 C=h*(l+x)*y+b;vec2 D=k*A;vec3 E=vec3(g*D,-k)+C*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(E,1.)),vv0=a1,gl_Position*=vec4(-1.,1.,1.,1.);vec3 F=h*a2;vv1=-F.z;}",
b:"uniform sampler2D u164,u150;uniform vec2 u80,u165;uniform float u166,u157;varying vec2 vv0;varying float vv1;void main(){vec2 b=u165*u166+u80*vv0;vec4 a=u157*texture2D(u164,b);a.r*=step(0.,vv0.y),gl_FragColor=vec4(0.,0.,0.,a.r*vv1);}",c:"u39 u164 u150 u40 u69 u166 u165 u134 u133 u80 u157".split(" ").concat(E.ef(),E.ff()),D:["a0","a2","a1"],L:[3,3,2],precision:"lowp"}},Gc:function(){E.oa("s109",{name:"_",j:"attribute vec3 a0;uniform vec3 u133;uniform vec2 u158,u159;uniform float u134,u160,u161,u162;varying float vv0,vv1;void main(){vec3 a=(a0+u133)*u134;float b=atan(a.x,a.z-u160),d=2.*(a.y-u161)/(u162-u161)-1.;vv0=a0.y;float g=1.-u158.x*u158.x/(u158.y*u158.y),c=u158.x/sqrt(1.-g*pow(cos(b),2.));vec3 h=vec3(c*sin(b),a.y,c*cos(b)+u160);vv1=smoothstep(u159.x,u159.y,length(h-a)),gl_Position=vec4(b,d,0.,1.);}",
b:"uniform float u163;uniform vec4 u7;varying float vv0,vv1;void main(){float a=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv0),b=min(a,1.)*u163;gl_FragColor=vec4(b,vv1,1.,1.);}",c:"u134 u133 u158 u159 u160 u161 u162 u7 u163".split(" "),D:["a0"],L:[3],precision:"highp"});E.oa("s110",L.Sl());E.oa("s111",{name:"_",b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u1,vv0-3.*u8),c=texture2D(u1,vv0-2.*u8),d=texture2D(u1,vv0-u8),f=texture2D(u1,vv0+u8),g=texture2D(u1,vv0+2.*u8),h=texture2D(u1,vv0+3.*u8);float j=.031496*b.r+.110236*c.r+.220472*d.r+.275591*a.r+.220472*f.r+.110236*g.r+.031496*h.r;vec2 i=b.gb*b.b+c.gb*c.b+d.gb*d.b+a.gb*a.b+f.gb*f.b+g.gb*g.b+h.gb*h.b;i/=b.b+c.b+d.b+a.b+f.b+g.b+h.b,gl_FragColor=vec4(mix(j,a.r,1.-i.x),i,1);}",
c:["u1","u8"],precision:"lowp"});b=!0},h:function(z){if(b){if(void 0===z.ec||!z.ec)return!1;if(f)L.Yi(z);else{g=X.instance({isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!0,width:a.ke,height:a.ke/4,A:4});var l=a.hb/4,q={isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!1,width:a.hb,height:l,A:4};u=X.instance(q);p=X.instance(q);r=X.instance({isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!0,width:a.hb,height:l*a.Hd,A:4});l=.5-.5/z.fc[1];q=.5+.5/z.fc[1];for(var K=a.Rk+1,J=[],N=[],S=new Float32Array(16*a.bd),aa=new Uint16Array(6*
(a.bd-1)),W=0,P=0,A=0,B=0;B<a.bd;++B){var C=2*B/(a.bd-1)-1;C=Math.sign(C)*Math.pow(Math.abs(C),a.Sk);C=Math.PI*(C+1)/2-Math.PI/2;var Q=Math.sin(C),ea=Math.cos(C),ja=Math.sin(C*a.vi),ka=Math.cos(C*a.vi),Ca=C/(Math.PI*z.fc[0])+.5,Pa=a.Mh[0]*Q,Ka=a.Gi[0],Na=a.Mh[1]*ea+a.lf,la=Ca,ia=l,V=a.Nh[0]*Q,fa=a.Gi[1],xa=a.Nh[1]*ea+a.lf,Ja=q,ma=16*B;S[ma]=V;S[ma+1]=fa;S[ma+2]=xa;S[ma+3]=ja;S[ma+4]=0;S[ma+5]=ka;S[ma+6]=Ca;S[ma+7]=Ja;S[ma+8]=Pa;S[ma+9]=Ka;S[ma+10]=Na;S[ma+11]=ja;S[ma+12]=0;S[ma+13]=ka;S[ma+14]=la;
S[ma+15]=ia;0!==B&&(la=2*B,ia=6*(B-1),aa[ia]=la,aa[ia+1]=la-1,aa[ia+2]=la-2,aa[ia+3]=la,aa[ia+4]=la+1,aa[ia+5]=la-1);ia=Math.pow(.5*(1+Math.cos(Math.min(Math.max(Math.PI/a.Lh[0]*Pa,-Math.PI),Math.PI))),a.Qm);Ka-=a.$l*ia;la=a.Lh[1]*ia;Pa-=Q*a.vd[0];Na-=ea*a.vd[1];V-=Q*a.vd[0];xa-=ea*a.vd[1];Q=.001>ia?2:K;for(ea=0;ea<Q;++ea)ia=ea/(Q-1),Ca=Ka*(1-ia)+fa*ia,Ja=a.wi[0],Ja=Math.min(Math.max((Ca-Ja)/(a.wi[1]-Ja),0),1),Ja=Ja*Ja*(3-2*Ja),J.push(Pa*(1-ia)+V*ia,Ca,(Na+la*Math.exp(400*-Math.abs(C)*Math.pow(ia,
4)))*(1-Ja)+xa*Ja,ja,0,ka,0,0);C=0===B?0:2<Q&&2<P?Q-1:1;for(ja=1;ja<=C;++ja)ka=Q>P?Q-2:0,N.push(W+ja+ka,W+ja-1,A+ja-1,A+ja-1,A+ja+(Q<P?P-2:0),W+ja+ka);P=Q;A=W;W+=Q}w=Y.instance({ea:new Float32Array(J),R:new Uint16Array(N)});O=Y.instance({ea:S,R:aa});L.Yi(z);E.f("s111",[{type:"1i",name:"u1",value:0}]);f=!0}}},Yi:function(z){e=z.ao;h=z.Ud;F=[{type:"1i",name:"u39",value:1},{type:"1i",name:"u164",value:0},{type:"1i",name:"u150",value:2},{type:"3f",name:"u69",value:[z.Ga[0],z.Ga[1]-a.Td[0],z.Ga[2]+a.Td[1]]},
{type:"1f",name:"u166",value:z.bo},{type:"2f",name:"u80",value:[1,1/a.Hd]},{type:"2f",name:"u165",value:[0,1/a.Hd]},{type:"1f",name:"u157",value:1}].concat(z.Dg,z.yj);E.f("s110",F)},bc:function(z){n=z},ac:function(z){k=z;k.Kb(L.tc)},fi:function(){return d&&null!==k&&null!==x},tc:function(){if(!(d||I&&D)||null===k||null===x)return!1;c.viewport(0,0,a.ke,a.ke/4);ya.ka();g.i();c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);E.f("s109",[{type:"1f",name:"u160",value:a.lf},{type:"1f",name:"u161",value:a.Zf[0]},
{type:"1f",name:"u162",value:a.Zf[1]},{type:"3f",name:"u133",value:[t[0]+y[0],t[1]+y[1],t[2]+y[2]]},{type:"1f",name:"u163",value:e},{type:"2f",name:"u158",value:a.am},{type:"2f",name:"u159",value:a.ho}]);k.nl();E.set("s1");var z=a.hb/4;c.viewport(0,0,a.hb,z);u.i();g.a(0);g.od();Y.g(!0,!0);for(var l=0;l<a.Hd;++l)E.set("s111"),0!==l&&c.viewport(0,0,a.hb,z),p.i(),u.a(0),E.K("u8",1/a.hb,0),Y.g(!1,!1),u.i(),p.a(0),E.K("u8",0,1/z),Y.g(!1,!1),a.Tk&&c.colorMask(0===l,1===l,2===l,!0),E.set("s1"),r.i(),u.a(0),
c.viewport(0,l*z,a.hb,z),Y.g(!1,!1),a.Tk&&c.colorMask(!0,!0,!0,!0);return d=!0},S:function(){L.fi()&&(x.bind(!1,!1),m.i(),c.clearColor(0,0,0,0),c.enable(c.DEPTH_TEST),c.depthMask(!0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),E.set("s110"),n.a(1),r.a(0),w.bind(!0),w.S(),O.bind(!0),O.S(),c.disable(c.DEPTH_TEST),c.depthMask(!1))},add:function(){L.fi()&&(c.enable(c.BLEND),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA),m.a(0),Y.g(!1,!1),c.disable(c.BLEND))},fg:function(z,l){x=ya.instance({width:z,height:l,
xc:!0});m=X.instance({width:z,height:l,isFloat:!1,isPot:!1});L.tc()},bb:function(z,l,q){z||(z=t,l=y,q=v);E.f("s110",[{type:"3f",name:"u133",value:[q[0]+h[0],q[1]+h[1]-a.Td[0],q[2]+h[2]+a.Td[1]]}]);t=z;y=l;v=q;I=!0;!d&&D&&L.tc();E.F()},cb:function(z,l){E.f("s109",[{type:"1f",name:"u134",value:z}]);E.f("s110",[{type:"1f",name:"u134",value:l}]);D=!0;!d&&I&&L.tc();E.F()},jg:function(z){E.f("s110",[{type:"1f",name:"u70",value:z}]);E.F()},Ab:function(z){z&&(k=z);L.tc()},kg:function(z,l){G[0].value=1-z;
E.f("s110",G);E.f("s110",l)},H:function(){},u:function(){d=f=b=!1;p=r=g=u=m=n=null}};return L}();ua.ra=function(){var a=!1,b=null,f=0,d=0,n=0,m=[{type:"1f",name:"u157",value:1}],u=null,g=null,r=null,p={Gc:function(){E.oa("s112",{name:"_",j:"attribute vec3 a0;uniform vec2 u167,u168;varying vec2 vv0;void main(){vec2 a=2.*(a0.xy-u168)/u167;gl_Position=vec4(a,0.,1.),vv0=a0.xy;}",b:"uniform vec2 u169;uniform float u170,u171,u172;varying vec2 vv0;void main(){vec2 b=vec2(sign(vv0.x)*.5*u170,u171),a=vv0-b,c=u172*a,d=(c-a)*u169;gl_FragColor=vec4(d,0.,1.);}",
c:"u167 u168 u170 u171 u172 u169".split(" "),D:["a0"],L:[3],precision:"highp"});E.oa("s113",{name:"_",j:"attribute vec3 a0;varying vec2 vv0,vv1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u167,u168;uniform float u134;const float n=0.,o=0.;const vec2 e=vec2(1.,1.);const vec3 p=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),q=vec2(.16,.5),r=vec2(.5,.5),s=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 t(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,q);vec2 f=u76*e;vec3 c=u76*p;vec2 u=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,r).rgb+vec3(u70,0.,0.),u73,c);float v=mix(texture2D(u39,s).r,0.,u76);a.z+=v;mat3 w=t(a);vec3 x=mix(u133,u74,c);float y=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 z=mat2(h,i,-i,h);b.xy=z*b.xy;float A=mix(u72,1.,u76);vec2 j=u71/u;vec3 k=a0;float B=max(0.,-a0.z-n)*o;k.x+=B*sign(a0.x)*(1.-u76);vec3 C=w*(k+x)*y+b;vec2 D=j*A;vec3 E=vec3(g*D,-j)+C*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(E,1.)),gl_Position*=vec4(-1.,1.,1.,1.),vv0=vec2(.5,.5)+(a0.xy-u168)/u167,vv1=vec2(.5,.5)+.5*gl_Position.xy/gl_Position.w;}",
b:"uniform sampler2D u173,u174;uniform float u157;varying vec2 vv0,vv1;void main(){vec2 a=u157*texture2D(u173,vv0).rg;gl_FragColor=texture2D(u174,a+vv1);}",c:"u157 u39 u173 u174 u167 u168 u40 u69 u134 u133".split(" ").concat(E.ef(),E.ff()),D:["a0"],L:[3],precision:"lowp"});a=!0},h:function(D){if(a){if(void 0===D.ec||!D.cd)return!1;g=X.instance({isFloat:!0,isPot:!1,isMipmap:!1,isLinear:!1,width:256,height:128,A:4});r=ya.instance({width:256,height:128});E.f("s113",[{type:"1i",name:"u39",value:1},{type:"1i",
name:"u173",value:2},{type:"1i",name:"u174",value:0},{type:"3f",name:"u69",value:D.Ga},{type:"1f",name:"u157",value:1}].concat(D.yj,D.Dg));d=D.Ne;n=D.Me;f=D.Oe}},bc:function(D){b=D},ac:function(D){u=D;u.Kb(p.Ie)},Ie:function(){c.viewport(0,0,256,128);r.i();g.i();var D=u.Tl(),I=u.Ul(),t=[{type:"2f",name:"u167",value:[D,I]},{type:"2f",name:"u168",value:[u.yl(),u.zl()]}];E.f("s112",t.concat([{type:"1f",name:"u170",value:d},{type:"1f",name:"u171",value:n},{type:"1f",name:"u172",value:f},{type:"2f",name:"u169",
value:[1/D,-1/I]}]));u.kh();E.f("s113",t)},S:function(){E.set("s113");b.a(1);g.a(2);u.kh()},bb:function(D){E.f("s113",[{type:"3f",name:"u133",value:D}]);E.F()},cb:function(D){E.f("s113",[{type:"1f",name:"u134",value:D}]);E.F()},jg:function(D){E.f("s113",[{type:"1f",name:"u70",value:D}]);E.F()},$n:function(D){f=D;p.Ie();E.F();ta.animate(Date.now())},Ab:function(D){D&&(u=D);p.Ie()},kg:function(D,I){m.u157=1-D;E.f("s113",m);E.f("s113",I)},H:function(){}};return p}();ua.lc=function(){var a=[0,-.5],b=
!1,f=!1,d=null,n=null,m=null,u=null,g=null,r=-1,p=-1;return{Gc:function(){E.oa("s114",{name:"_",j:"attribute vec2 a0;uniform sampler2D u39;uniform vec2 u40,u5;uniform float u4;varying vec2 vv0;const vec2 f=vec2(1.,1.);void main(){vec4 a=texture2D(u39,vec2(.25,.5));vec2 b=a.a*u40,c=2.*a.gb-f,d=u5+a0*u4;gl_Position=vec4(c+b*d,0.,1.),vv0=vec2(.5,.5)+.5*a0;}",b:"uniform sampler2D u175;varying vec2 vv0;void main(){gl_FragColor=texture2D(u175,vv0);}",c:["u39","u175","u40","u5","u4"],precision:"lowp"});
E.oa("s115",{name:"_",b:"uniform sampler2D u2,u176,u177;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){float a=texture2D(u2,vv0).r;vec3 b=texture2D(u177,vv0).rgb,c=texture2D(u176,vv0).rgb;gl_FragColor=vec4(mix(b,c,a*f),1.);}",c:["u2","u177","u176"],precision:"lowp"});b=!0},h:function(D){b&&(g=X.instance({isFloat:!1,isPot:!0,url:D.Ae,M:function(){f=!0}}),E.f("s114",[{type:"1i",name:"u39",value:1},{type:"1i",name:"u175",value:0},{type:"2f",name:"u40",value:D.Ij},{type:"2f",name:"u5",value:a},
{type:"1f",name:"u4",value:3.8}]),E.f("s115",[{type:"1i",name:"u176",value:0},{type:"1i",name:"u2",value:1},{type:"1i",name:"u177",value:2}]))},bc:function(D){n=D},fg:function(D,I){var t={isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!1,width:D,height:I,A:4};r=2/D;p=2/I;m=X.instance(t);u=X.instance(t);d=ya.instance({width:D,height:I})},S:function(D,I){if(f){d.bind(!1,!0);E.set("s77");for(var t=0;2>t;++t){E.K("u8",r,0);m.i();0!==t&&u.a(0);var y=0===t&&!T.$;Y.g(y,y);E.K("u8",0,p);u.i();m.a(0);Y.g(!1,!1)}E.set("s114");
n.a(1);g.a(0);m.i();c.clearColor(1,0,0,1);c.clear(c.COLOR_BUFFER_BIT);Y.g(!1,!1);E.set("s115");I.i();u.a(0);m.a(1);D.a(2);Y.g(!1,!1)}},H:function(){}}}();var Dc=function(){var a={instance:function(b){var f=b.ri,d=b.pi,n=b.Le,m=b.background?b.background:X.Ih(),u=b.Za,g={scale:1,offsetX:0,offsetY:0},r=null;b.Mf&&(g.scale=b.Mf.scale,g.offsetY=b.Mf.offsetY);return{Eh:function(){return u},yh:function(){return m},set:function(){r=cb.Kl();cb.cj(g);cb.ce();cb.de();ta.Xi(n,m,!1,!1)},F:function(){cb.cj(r)},
Ic:function(){return{modelURL:f,materialsURLs:d,background:m.Ic(!1),Le:n.Ic(!1),Za:u.Ic(!0)}},Xo:function(p){m.a(p)}}},Pc:function(b,f,d){function n(){if(3===++r&&f){var p=a.instance({ri:b.modelURL,pi:b.materialsURLs,background:m,Le:u,Za:g});f(p)}}var m=null,u=null,g=null,r=0;X.Pc(b.background,function(p){!p&&d?d():(m=p,n())});X.Pc(b.dataState,function(p){!p&&d?d():(u=p,n())});X.Pc(b.light,function(p){!p&&d?d():(g=p,n())})}};return a}();return Ta||JEELIZVTO}();(function(U,Ba){"function"===
typeof define&&define.amd?define(Ba):"object"===typeof exports?module.exports=Ba():U.ResizeSensor=Ba()})("undefined"!==typeof window?window:this,function(){function U(Ia,hb){var Va=Object.prototype.toString.call(Ia),Db=0,Ea=Ia.length;if("[object Array]"===Va||"[object NodeList]"===Va||"[object HTMLCollection]"===Va||"[object Object]"===Va||"undefined"!==typeof jQuery&&Ia instanceof jQuery||"undefined"!==typeof Elements&&Ia instanceof Elements)for(;Db<Ea;Db++)hb(Ia[Db]);else hb(Ia)}if("undefined"===
typeof window)return null;var Ba=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(Ia){return window.setTimeout(Ia,20)},Oa=function(Ia,hb){function Va(){var Ea=[];this.add=function(yb){Ea.push(yb)};var ab,nb;this.call=function(){ab=0;for(nb=Ea.length;ab<nb;ab++)Ea[ab].call()};this.remove=function(yb){var sb=[];ab=0;for(nb=Ea.length;ab<nb;ab++)Ea[ab]!==yb&&sb.push(Ea[ab]);Ea=sb};this.length=function(){return Ea.length}}function Db(Ea,ab){if(Ea)if(Ea.resizedAttached)Ea.resizedAttached.add(ab);
else{Ea.resizedAttached=new Va;Ea.resizedAttached.add(ab);Ea.resizeSensor=document.createElement("div");Ea.resizeSensor.className="resize-sensor";Ea.resizeSensor.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;";Ea.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s;"></div></div><div class="resize-sensor-shrink" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div></div>';
Ea.appendChild(Ea.resizeSensor);Ea.resizeSensor.offsetParent!==Ea&&(Ea.style.position="relative");var nb=Ea.resizeSensor.childNodes[0],yb=nb.childNodes[0],sb=Ea.resizeSensor.childNodes[1],ec,zb,Kb,Sb,Tb=Ea.offsetWidth,Ub=Ea.offsetHeight,Vb=function(){yb.style.width="100000px";yb.style.height="100000px";nb.scrollLeft=1E5;nb.scrollTop=1E5;sb.scrollLeft=1E5;sb.scrollTop=1E5};Vb();var fc=function(){zb=0;ec&&(Tb=Kb,Ub=Sb,Ea.resizedAttached&&Ea.resizedAttached.call())};ab=function(){Kb=Ea.offsetWidth;Sb=
Ea.offsetHeight;(ec=Kb!=Tb||Sb!=Ub)&&!zb&&(zb=Ba(fc));Vb()};var gc=function(Wb,Eb,hc){Wb.attachEvent?Wb.attachEvent("on"+Eb,hc):Wb.addEventListener(Eb,hc)};gc(nb,"scroll",ab);gc(sb,"scroll",ab)}}U(Ia,function(Ea){Db(Ea,hb)});this.detach=function(Ea){Oa.detach(Ia,Ea)}};Oa.detach=function(Ia,hb){U(Ia,function(Va){if(Va){if(Va.resizedAttached&&"function"==typeof hb&&(Va.resizedAttached.remove(hb),Va.resizedAttached.length()))return;Va.resizeSensor&&(Va.contains(Va.resizeSensor)&&Va.removeChild(Va.resizeSensor),
delete Va.resizeSensor,delete Va.resizedAttached)}})};return Oa});var dc={glassesDBURL:"https://glassesdbcached.jeeliz.com/sku/",appstaticURL:"https://appstatic.jeeliz.com/"},jb={notLoaded:-1,init:0,realtime:2,loadingModel:3,paused:4},Ra={isRT:!0,sku:void 0,mode:jb.notLoaded},nc=-1,oc=-1,ac=-1,bc=-1,Mc={cv:null,container:null,adjust:null,adjustNotice:null,adjustExit:null,loading:null,trackIframe:null},sa=Object.assign({},Mc),kd={ADJUST_START:null,ADJUST_END:null,LOADING_START:null,LOADING_END:null},
wc=null,Jb={enabled:!1,callback:null,interval:1E3},mc={error:!1},$b=null,Rb=null,rb={start:function(U){console.log("INFO in JeelizVTOWidget.js: start()");if(Ra.mode!==jb.notLoaded)rb.resume();else{oa();if(U.settings)for(var Ba in U.settings)dc[Ba]=U.settings[Ba];U.NNCPath&&Ta.set_NNCPath(U.NNCPath);U.faceDetectionCallback&&(Jb.enabled=!0,Jb.callback=U.faceDetectionCallback,Jb.interval="undefined"===typeof U.faceDetectionInterval?1E3:U.faceDetectionInterval);wc=Object.assign({},kd,U.callbacks||{});
sa.container=U.placeHolder||document.getElementById("JeelizVTOWidget");if(!sa.container)throw Error("Cannot find a <div> element with id=JeelizVTOWidget to append the VTO widget.");sa.cv=U.canvas||document.getElementById("JeelizVTOWidgetCanvas");sa.cv||(sa.cv=document.createElement("canvas"),sa.container.appendChild(sa.cv));sa.loading=document.getElementById("JeelizVTOWidgetLoading");U.onError&&(mc.error=U.onError);Qb();if(!qb(sa.container))return gb("PLACEHOLDER_NULL_WIDTH"),!1;if(!na(sa.container))return gb("PLACEHOLDER_NULL_HEIGHT"),
!1;Cb();new ResizeSensor(sa.container,function(Oa){Cb()});(U.searchImageMask||U.searchImageColor||U.searchImageRotationSpeed)&&Ta.set_loading(U.searchImageMask,U.searchImageColor,U.searchImageRotationSpeed);U.callbackReady&&(Rb=U.callbackReady);Ra.mode=jb.init;Ba="undefined"===typeof U.assetsPath?dc.appstaticURL+"jeefit/":U.assetsPath;"undefined"!==typeof U.catalog&&($b=U.catalog);if(U.onWebcamGet)Ta.onWebcamGet(U.onWebcamGet);Ta.init(Ba,ha,Ma,sa.cv);Ta.onHalfLoad(rb.load.bind(rb,U.sku?U.sku:null));
return!0}},destroy:function(){return Ta.destroy().then(function(){Ra.mode=jb.notLoaded;Ra.sku=void 0;Rb=$b=null;Object.assign(sa,Mc)})},pause:function(U){if(!Ra.isRT)return Promise.reject();Ra.mode=jb.paused;var Ba=Ta.switch_sleep(!0,U);return U?Ba:Promise.resolve(Ba)},resume:function(U){if(!Ra.isRT)return Promise.reject();Ra.mode=jb.realtime;var Ba=Ta.switch_sleep(!1,U);return U?Ba:Promise.resolve(Ba)},set_videoRotation:function(U){Ra.isRT&&Ta.set_videoRotation(U)},set_videoSizes:function(U,Ba,Oa,
Ia,hb,Va){Ra.isRT&&Ta.set_videoSizes(U,Ba,Oa,Ia,hb,Va)},resize:function(){Cb()},set_scale:function(U){Ta.set_scale(U)},capture_image:function(U,Ba,Oa){Ta&&Ta.ready?Ta.capture_image(U,Ba,Oa,!1):Ba(!1)},toggle_loading:function(U){U?(wa(sa.loading),cc("LOADING_START")):(Ga(sa.loading),cc("LOADING_END"))},load_modelStandalone:function(U,Ba){if(!Ra.isRT)throw Error("Loading standalone models is only available in RT mode");Ra.mode===jb.paused&&rb.resume();Ra.mode=jb.loadingModel;var Oa="undef";"string"===
typeof U?(Oa=U,Da(U).then(function(Ia){Ta.set_modelStandalone(Ia,Ba,Oa)}).catch(Xa)):(Oa="RANDOM_SKU_"+Date.now().toString(),Ta.set_modelStandalone(U,Ba,Oa));Ra.sku=Oa},load:function(U,Ba){rb.toggle_loading(!0);Ra.isRT&&rb.load_RT(U,Ba)},load_RT:function(U,Ba){U===Ra.sku?rb.toggle_loading(!1):(Ra.sku=U,Ra.mode=jb.loadingModel,Ra.mode===jb.paused&&rb.resume(),U?$b&&$b[U]?Ib(U,$b[U],Ba):Da(dc.glassesDBURL+U).then(function(Oa){if(Oa.error)return Xa();Ib(U,Oa.intrinsic,Ba)}).catch(Xa):(Ra.mode=jb.realtime,
rb.toggle_loading(!1),Ta.start_rendering(),Ba&&Ba()))},enter_adjustMode:mb,exit_adjustMode:ub};return rb}();JEELIZVTO=JEELIZVTO;
JEELIZVTOWIDGET={VERSION:"2.1.3",start:JeelizVTOWidget.start,pause:JeelizVTOWidget.pause,resume:JeelizVTOWidget.resume,load:JeelizVTOWidget.load,load_modelStandalone:JeelizVTOWidget.load_modelStandalone,capture_image:JeelizVTOWidget.capture_image,set_videoRotation:JeelizVTOWidget.set_videoRotation,resize:JeelizVTOWidget.resize,set_scale:JeelizVTOWidget.set_scale,set_videoSizes:JeelizVTOWidget.set_videoSizes,destroy:JeelizVTOWidget.destroy,enter_adjustMode:JeelizVTOWidget.enter_adjustMode,exit_adjustMode:JeelizVTOWidget.exit_adjustMode};

export {JEELIZVTO, JEELIZVTOWIDGET};
/* eslint-enable */
